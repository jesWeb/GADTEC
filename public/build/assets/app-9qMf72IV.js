function Di(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ja}=Object.prototype,{getPrototypeOf:yr}=Object,ln=(e=>t=>{const n=Ja.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Te=e=>(e=e.toLowerCase(),t=>ln(t)===e),cn=e=>t=>typeof t===e,{isArray:at}=Array,St=cn("undefined");function Za(e){return e!==null&&!St(e)&&e.constructor!==null&&!St(e.constructor)&&ue(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const wi=Te("ArrayBuffer");function el(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&wi(e.buffer),t}const tl=cn("string"),ue=cn("function"),Pi=cn("number"),un=e=>e!==null&&typeof e=="object",nl=e=>e===!0||e===!1,zt=e=>{if(ln(e)!=="object")return!1;const t=yr(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},rl=Te("Date"),sl=Te("File"),il=Te("Blob"),ol=Te("FileList"),al=e=>un(e)&&ue(e.pipe),ll=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ue(e.append)&&((t=ln(e))==="formdata"||t==="object"&&ue(e.toString)&&e.toString()==="[object FormData]"))},cl=Te("URLSearchParams"),[ul,fl,dl,pl]=["ReadableStream","Request","Response","Headers"].map(Te),El=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function At(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,s;if(typeof e!="object"&&(e=[e]),at(e))for(r=0,s=e.length;r<s;r++)t.call(null,e[r],r,e);else{const i=n?Object.getOwnPropertyNames(e):Object.keys(e),o=i.length;let a;for(r=0;r<o;r++)a=i[r],t.call(null,e[a],a,e)}}function Li(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,s;for(;r-- >0;)if(s=n[r],t===s.toLowerCase())return s;return null}const Fe=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Ci=e=>!St(e)&&e!==Fe;function jn(){const{caseless:e}=Ci(this)&&this||{},t={},n=(r,s)=>{const i=e&&Li(t,s)||s;zt(t[i])&&zt(r)?t[i]=jn(t[i],r):zt(r)?t[i]=jn({},r):at(r)?t[i]=r.slice():t[i]=r};for(let r=0,s=arguments.length;r<s;r++)arguments[r]&&At(arguments[r],n);return t}const _l=(e,t,n,{allOwnKeys:r}={})=>(At(t,(s,i)=>{n&&ue(s)?e[i]=Di(s,n):e[i]=s},{allOwnKeys:r}),e),hl=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),ml=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},gl=(e,t,n,r)=>{let s,i,o;const a={};if(t=t||{},e==null)return t;do{for(s=Object.getOwnPropertyNames(e),i=s.length;i-- >0;)o=s[i],(!r||r(o,e,t))&&!a[o]&&(t[o]=e[o],a[o]=!0);e=n!==!1&&yr(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Tl=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Il=e=>{if(!e)return null;if(at(e))return e;let t=e.length;if(!Pi(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Rl=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&yr(Uint8Array)),yl=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let s;for(;(s=r.next())&&!s.done;){const i=s.value;t.call(e,i[0],i[1])}},Ol=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Sl=Te("HTMLFormElement"),bl=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,s){return r.toUpperCase()+s}),as=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),Al=Te("RegExp"),vi=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};At(n,(s,i)=>{let o;(o=t(s,i,e))!==!1&&(r[i]=o||s)}),Object.defineProperties(e,r)},Dl=e=>{vi(e,(t,n)=>{if(ue(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(ue(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},wl=(e,t)=>{const n={},r=s=>{s.forEach(i=>{n[i]=!0})};return at(e)?r(e):r(String(e).split(t)),n},Pl=()=>{},Ll=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,Dn="abcdefghijklmnopqrstuvwxyz",ls="0123456789",Mi={DIGIT:ls,ALPHA:Dn,ALPHA_DIGIT:Dn+Dn.toUpperCase()+ls},Cl=(e=16,t=Mi.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function vl(e){return!!(e&&ue(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Ml=e=>{const t=new Array(10),n=(r,s)=>{if(un(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[s]=r;const i=at(r)?[]:{};return At(r,(o,a)=>{const l=n(o,s+1);!St(l)&&(i[a]=l)}),t[s]=void 0,i}}return r};return n(e,0)},Nl=Te("AsyncFunction"),xl=e=>e&&(un(e)||ue(e))&&ue(e.then)&&ue(e.catch),Ni=((e,t)=>e?setImmediate:t?((n,r)=>(Fe.addEventListener("message",({source:s,data:i})=>{s===Fe&&i===n&&r.length&&r.shift()()},!1),s=>{r.push(s),Fe.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ue(Fe.postMessage)),Fl=typeof queueMicrotask<"u"?queueMicrotask.bind(Fe):typeof process<"u"&&process.nextTick||Ni,m={isArray:at,isArrayBuffer:wi,isBuffer:Za,isFormData:ll,isArrayBufferView:el,isString:tl,isNumber:Pi,isBoolean:nl,isObject:un,isPlainObject:zt,isReadableStream:ul,isRequest:fl,isResponse:dl,isHeaders:pl,isUndefined:St,isDate:rl,isFile:sl,isBlob:il,isRegExp:Al,isFunction:ue,isStream:al,isURLSearchParams:cl,isTypedArray:Rl,isFileList:ol,forEach:At,merge:jn,extend:_l,trim:El,stripBOM:hl,inherits:ml,toFlatObject:gl,kindOf:ln,kindOfTest:Te,endsWith:Tl,toArray:Il,forEachEntry:yl,matchAll:Ol,isHTMLForm:Sl,hasOwnProperty:as,hasOwnProp:as,reduceDescriptors:vi,freezeMethods:Dl,toObjectSet:wl,toCamelCase:bl,noop:Pl,toFiniteNumber:Ll,findKey:Li,global:Fe,isContextDefined:Ci,ALPHABET:Mi,generateString:Cl,isSpecCompliantForm:vl,toJSONObject:Ml,isAsyncFn:Nl,isThenable:xl,setImmediate:Ni,asap:Fl};function N(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}m.inherits(N,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:m.toJSONObject(this.config),code:this.code,status:this.status}}});const xi=N.prototype,Fi={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Fi[e]={value:e}});Object.defineProperties(N,Fi);Object.defineProperty(xi,"isAxiosError",{value:!0});N.from=(e,t,n,r,s,i)=>{const o=Object.create(xi);return m.toFlatObject(e,o,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),N.call(o,e.message,t,n,r,s),o.cause=e,o.name=e.name,i&&Object.assign(o,i),o};const Bl=null;function kn(e){return m.isPlainObject(e)||m.isArray(e)}function Bi(e){return m.endsWith(e,"[]")?e.slice(0,-2):e}function cs(e,t,n){return e?e.concat(t).map(function(s,i){return s=Bi(s),!n&&i?"["+s+"]":s}).join(n?".":""):t}function Gl(e){return m.isArray(e)&&!e.some(kn)}const Ul=m.toFlatObject(m,{},null,function(t){return/^is[A-Z]/.test(t)});function fn(e,t,n){if(!m.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=m.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,E){return!m.isUndefined(E[_])});const r=n.metaTokens,s=n.visitor||c,i=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&m.isSpecCompliantForm(t);if(!m.isFunction(s))throw new TypeError("visitor must be a function");function u(d){if(d===null)return"";if(m.isDate(d))return d.toISOString();if(!l&&m.isBlob(d))throw new N("Blob is not supported. Use a Buffer instead.");return m.isArrayBuffer(d)||m.isTypedArray(d)?l&&typeof Blob=="function"?new Blob([d]):Buffer.from(d):d}function c(d,_,E){let g=d;if(d&&!E&&typeof d=="object"){if(m.endsWith(_,"{}"))_=r?_:_.slice(0,-2),d=JSON.stringify(d);else if(m.isArray(d)&&Gl(d)||(m.isFileList(d)||m.endsWith(_,"[]"))&&(g=m.toArray(d)))return _=Bi(_),g.forEach(function(y,A){!(m.isUndefined(y)||y===null)&&t.append(o===!0?cs([_],A,i):o===null?_:_+"[]",u(y))}),!1}return kn(d)?!0:(t.append(cs(E,_,i),u(d)),!1)}const f=[],p=Object.assign(Ul,{defaultVisitor:c,convertValue:u,isVisitable:kn});function h(d,_){if(!m.isUndefined(d)){if(f.indexOf(d)!==-1)throw Error("Circular reference detected in "+_.join("."));f.push(d),m.forEach(d,function(g,I){(!(m.isUndefined(g)||g===null)&&s.call(t,g,m.isString(I)?I.trim():I,_,p))===!0&&h(g,_?_.concat(I):[I])}),f.pop()}}if(!m.isObject(e))throw new TypeError("data must be an object");return h(e),t}function us(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Or(e,t){this._pairs=[],e&&fn(e,this,t)}const Gi=Or.prototype;Gi.append=function(t,n){this._pairs.push([t,n])};Gi.toString=function(t){const n=t?function(r){return t.call(this,r,us)}:us;return this._pairs.map(function(s){return n(s[0])+"="+n(s[1])},"").join("&")};function ql(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ui(e,t,n){if(!t)return e;const r=n&&n.encode||ql,s=n&&n.serialize;let i;if(s?i=s(t,n):i=m.isURLSearchParams(t)?t.toString():new Or(t,n).toString(r),i){const o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class fs{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){m.forEach(this.handlers,function(r){r!==null&&t(r)})}}const qi={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Vl=typeof URLSearchParams<"u"?URLSearchParams:Or,$l=typeof FormData<"u"?FormData:null,Hl=typeof Blob<"u"?Blob:null,jl={isBrowser:!0,classes:{URLSearchParams:Vl,FormData:$l,Blob:Hl},protocols:["http","https","file","blob","url","data"]},Sr=typeof window<"u"&&typeof document<"u",zn=typeof navigator=="object"&&navigator||void 0,kl=Sr&&(!zn||["ReactNative","NativeScript","NS"].indexOf(zn.product)<0),zl=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Yl=Sr&&window.location.href||"http://localhost",Wl=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Sr,hasStandardBrowserEnv:kl,hasStandardBrowserWebWorkerEnv:zl,navigator:zn,origin:Yl},Symbol.toStringTag,{value:"Module"})),ae={...Wl,...jl};function Xl(e,t){return fn(e,new ae.classes.URLSearchParams,Object.assign({visitor:function(n,r,s,i){return ae.isNode&&m.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},t))}function Kl(e){return m.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Ql(e){const t={},n=Object.keys(e);let r;const s=n.length;let i;for(r=0;r<s;r++)i=n[r],t[i]=e[i];return t}function Vi(e){function t(n,r,s,i){let o=n[i++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=i>=n.length;return o=!o&&m.isArray(s)?s.length:o,l?(m.hasOwnProp(s,o)?s[o]=[s[o],r]:s[o]=r,!a):((!s[o]||!m.isObject(s[o]))&&(s[o]=[]),t(n,r,s[o],i)&&m.isArray(s[o])&&(s[o]=Ql(s[o])),!a)}if(m.isFormData(e)&&m.isFunction(e.entries)){const n={};return m.forEachEntry(e,(r,s)=>{t(Kl(r),s,n,0)}),n}return null}function Jl(e,t,n){if(m.isString(e))try{return(t||JSON.parse)(e),m.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(0,JSON.stringify)(e)}const Dt={transitional:qi,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",s=r.indexOf("application/json")>-1,i=m.isObject(t);if(i&&m.isHTMLForm(t)&&(t=new FormData(t)),m.isFormData(t))return s?JSON.stringify(Vi(t)):t;if(m.isArrayBuffer(t)||m.isBuffer(t)||m.isStream(t)||m.isFile(t)||m.isBlob(t)||m.isReadableStream(t))return t;if(m.isArrayBufferView(t))return t.buffer;if(m.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return Xl(t,this.formSerializer).toString();if((a=m.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return fn(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return i||s?(n.setContentType("application/json",!1),Jl(t)):t}],transformResponse:[function(t){const n=this.transitional||Dt.transitional,r=n&&n.forcedJSONParsing,s=this.responseType==="json";if(m.isResponse(t)||m.isReadableStream(t))return t;if(t&&m.isString(t)&&(r&&!this.responseType||s)){const o=!(n&&n.silentJSONParsing)&&s;try{return JSON.parse(t)}catch(a){if(o)throw a.name==="SyntaxError"?N.from(a,N.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ae.classes.FormData,Blob:ae.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};m.forEach(["delete","get","head","post","put","patch"],e=>{Dt.headers[e]={}});const Zl=m.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ec=e=>{const t={};let n,r,s;return e&&e.split(`
`).forEach(function(o){s=o.indexOf(":"),n=o.substring(0,s).trim().toLowerCase(),r=o.substring(s+1).trim(),!(!n||t[n]&&Zl[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},ds=Symbol("internals");function pt(e){return e&&String(e).trim().toLowerCase()}function Yt(e){return e===!1||e==null?e:m.isArray(e)?e.map(Yt):String(e)}function tc(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const nc=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function wn(e,t,n,r,s){if(m.isFunction(r))return r.call(this,t,n);if(s&&(t=n),!!m.isString(t)){if(m.isString(r))return t.indexOf(r)!==-1;if(m.isRegExp(r))return r.test(t)}}function rc(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function sc(e,t){const n=m.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(s,i,o){return this[r].call(this,t,s,i,o)},configurable:!0})})}class le{constructor(t){t&&this.set(t)}set(t,n,r){const s=this;function i(a,l,u){const c=pt(l);if(!c)throw new Error("header name must be a non-empty string");const f=m.findKey(s,c);(!f||s[f]===void 0||u===!0||u===void 0&&s[f]!==!1)&&(s[f||l]=Yt(a))}const o=(a,l)=>m.forEach(a,(u,c)=>i(u,c,l));if(m.isPlainObject(t)||t instanceof this.constructor)o(t,n);else if(m.isString(t)&&(t=t.trim())&&!nc(t))o(ec(t),n);else if(m.isHeaders(t))for(const[a,l]of t.entries())i(l,a,r);else t!=null&&i(n,t,r);return this}get(t,n){if(t=pt(t),t){const r=m.findKey(this,t);if(r){const s=this[r];if(!n)return s;if(n===!0)return tc(s);if(m.isFunction(n))return n.call(this,s,r);if(m.isRegExp(n))return n.exec(s);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=pt(t),t){const r=m.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||wn(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let s=!1;function i(o){if(o=pt(o),o){const a=m.findKey(r,o);a&&(!n||wn(r,r[a],a,n))&&(delete r[a],s=!0)}}return m.isArray(t)?t.forEach(i):i(t),s}clear(t){const n=Object.keys(this);let r=n.length,s=!1;for(;r--;){const i=n[r];(!t||wn(this,this[i],i,t,!0))&&(delete this[i],s=!0)}return s}normalize(t){const n=this,r={};return m.forEach(this,(s,i)=>{const o=m.findKey(r,i);if(o){n[o]=Yt(s),delete n[i];return}const a=t?rc(i):String(i).trim();a!==i&&delete n[i],n[a]=Yt(s),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return m.forEach(this,(r,s)=>{r!=null&&r!==!1&&(n[s]=t&&m.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(s=>r.set(s)),r}static accessor(t){const r=(this[ds]=this[ds]={accessors:{}}).accessors,s=this.prototype;function i(o){const a=pt(o);r[a]||(sc(s,o),r[a]=!0)}return m.isArray(t)?t.forEach(i):i(t),this}}le.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);m.reduceDescriptors(le.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});m.freezeMethods(le);function Pn(e,t){const n=this||Dt,r=t||n,s=le.from(r.headers);let i=r.data;return m.forEach(e,function(a){i=a.call(n,i,s.normalize(),t?t.status:void 0)}),s.normalize(),i}function $i(e){return!!(e&&e.__CANCEL__)}function lt(e,t,n){N.call(this,e??"canceled",N.ERR_CANCELED,t,n),this.name="CanceledError"}m.inherits(lt,N,{__CANCEL__:!0});function Hi(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new N("Request failed with status code "+n.status,[N.ERR_BAD_REQUEST,N.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function ic(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function oc(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s=0,i=0,o;return t=t!==void 0?t:1e3,function(l){const u=Date.now(),c=r[i];o||(o=u),n[s]=l,r[s]=u;let f=i,p=0;for(;f!==s;)p+=n[f++],f=f%e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),u-o<t)return;const h=c&&u-c;return h?Math.round(p*1e3/h):void 0}}function ac(e,t){let n=0,r=1e3/t,s,i;const o=(u,c=Date.now())=>{n=c,s=null,i&&(clearTimeout(i),i=null),e.apply(null,u)};return[(...u)=>{const c=Date.now(),f=c-n;f>=r?o(u,c):(s=u,i||(i=setTimeout(()=>{i=null,o(s)},r-f)))},()=>s&&o(s)]}const Qt=(e,t,n=3)=>{let r=0;const s=oc(50,250);return ac(i=>{const o=i.loaded,a=i.lengthComputable?i.total:void 0,l=o-r,u=s(l),c=o<=a;r=o;const f={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&c?(a-o)/u:void 0,event:i,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(f)},n)},ps=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Es=e=>(...t)=>m.asap(()=>e(...t)),lc=ae.hasStandardBrowserEnv?function(){const t=ae.navigator&&/(msie|trident)/i.test(ae.navigator.userAgent),n=document.createElement("a");let r;function s(i){let o=i;return t&&(n.setAttribute("href",o),o=n.href),n.setAttribute("href",o),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=s(window.location.href),function(o){const a=m.isString(o)?s(o):o;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),cc=ae.hasStandardBrowserEnv?{write(e,t,n,r,s,i){const o=[e+"="+encodeURIComponent(t)];m.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),m.isString(r)&&o.push("path="+r),m.isString(s)&&o.push("domain="+s),i===!0&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function uc(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function fc(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function ji(e,t){return e&&!uc(t)?fc(e,t):t}const _s=e=>e instanceof le?{...e}:e;function Ke(e,t){t=t||{};const n={};function r(u,c,f){return m.isPlainObject(u)&&m.isPlainObject(c)?m.merge.call({caseless:f},u,c):m.isPlainObject(c)?m.merge({},c):m.isArray(c)?c.slice():c}function s(u,c,f){if(m.isUndefined(c)){if(!m.isUndefined(u))return r(void 0,u,f)}else return r(u,c,f)}function i(u,c){if(!m.isUndefined(c))return r(void 0,c)}function o(u,c){if(m.isUndefined(c)){if(!m.isUndefined(u))return r(void 0,u)}else return r(void 0,c)}function a(u,c,f){if(f in t)return r(u,c);if(f in e)return r(void 0,u)}const l={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c)=>s(_s(u),_s(c),!0)};return m.forEach(Object.keys(Object.assign({},e,t)),function(c){const f=l[c]||s,p=f(e[c],t[c],c);m.isUndefined(p)&&f!==a||(n[c]=p)}),n}const ki=e=>{const t=Ke({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:i,headers:o,auth:a}=t;t.headers=o=le.from(o),t.url=Ui(ji(t.baseURL,t.url),e.params,e.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(m.isFormData(n)){if(ae.hasStandardBrowserEnv||ae.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if((l=o.getContentType())!==!1){const[u,...c]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];o.setContentType([u||"multipart/form-data",...c].join("; "))}}if(ae.hasStandardBrowserEnv&&(r&&m.isFunction(r)&&(r=r(t)),r||r!==!1&&lc(t.url))){const u=s&&i&&cc.read(i);u&&o.set(s,u)}return t},dc=typeof XMLHttpRequest<"u",pc=dc&&function(e){return new Promise(function(n,r){const s=ki(e);let i=s.data;const o=le.from(s.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=s,c,f,p,h,d;function _(){h&&h(),d&&d(),s.cancelToken&&s.cancelToken.unsubscribe(c),s.signal&&s.signal.removeEventListener("abort",c)}let E=new XMLHttpRequest;E.open(s.method.toUpperCase(),s.url,!0),E.timeout=s.timeout;function g(){if(!E)return;const y=le.from("getAllResponseHeaders"in E&&E.getAllResponseHeaders()),b={data:!a||a==="text"||a==="json"?E.responseText:E.response,status:E.status,statusText:E.statusText,headers:y,config:e,request:E};Hi(function(B){n(B),_()},function(B){r(B),_()},b),E=null}"onloadend"in E?E.onloadend=g:E.onreadystatechange=function(){!E||E.readyState!==4||E.status===0&&!(E.responseURL&&E.responseURL.indexOf("file:")===0)||setTimeout(g)},E.onabort=function(){E&&(r(new N("Request aborted",N.ECONNABORTED,e,E)),E=null)},E.onerror=function(){r(new N("Network Error",N.ERR_NETWORK,e,E)),E=null},E.ontimeout=function(){let A=s.timeout?"timeout of "+s.timeout+"ms exceeded":"timeout exceeded";const b=s.transitional||qi;s.timeoutErrorMessage&&(A=s.timeoutErrorMessage),r(new N(A,b.clarifyTimeoutError?N.ETIMEDOUT:N.ECONNABORTED,e,E)),E=null},i===void 0&&o.setContentType(null),"setRequestHeader"in E&&m.forEach(o.toJSON(),function(A,b){E.setRequestHeader(b,A)}),m.isUndefined(s.withCredentials)||(E.withCredentials=!!s.withCredentials),a&&a!=="json"&&(E.responseType=s.responseType),u&&([p,d]=Qt(u,!0),E.addEventListener("progress",p)),l&&E.upload&&([f,h]=Qt(l),E.upload.addEventListener("progress",f),E.upload.addEventListener("loadend",h)),(s.cancelToken||s.signal)&&(c=y=>{E&&(r(!y||y.type?new lt(null,e,E):y),E.abort(),E=null)},s.cancelToken&&s.cancelToken.subscribe(c),s.signal&&(s.signal.aborted?c():s.signal.addEventListener("abort",c)));const I=ic(s.url);if(I&&ae.protocols.indexOf(I)===-1){r(new N("Unsupported protocol "+I+":",N.ERR_BAD_REQUEST,e));return}E.send(i||null)})},Ec=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,s;const i=function(u){if(!s){s=!0,a();const c=u instanceof Error?u:this.reason;r.abort(c instanceof N?c:new lt(c instanceof Error?c.message:c))}};let o=t&&setTimeout(()=>{o=null,i(new N(`timeout ${t} of ms exceeded`,N.ETIMEDOUT))},t);const a=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(i):u.removeEventListener("abort",i)}),e=null)};e.forEach(u=>u.addEventListener("abort",i));const{signal:l}=r;return l.unsubscribe=()=>m.asap(a),l}},_c=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,s;for(;r<n;)s=r+t,yield e.slice(r,s),r=s},hc=async function*(e,t){for await(const n of mc(e))yield*_c(n,t)},mc=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},hs=(e,t,n,r)=>{const s=hc(e,t);let i=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await s.next();if(u){a(),l.close();return}let f=c.byteLength;if(n){let p=i+=f;n(p)}l.enqueue(new Uint8Array(c))}catch(u){throw a(u),u}},cancel(l){return a(l),s.return()}},{highWaterMark:2})},dn=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",zi=dn&&typeof ReadableStream=="function",gc=dn&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),Yi=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Tc=zi&&Yi(()=>{let e=!1;const t=new Request(ae.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),ms=64*1024,Yn=zi&&Yi(()=>m.isReadableStream(new Response("").body)),Jt={stream:Yn&&(e=>e.body)};dn&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Jt[t]&&(Jt[t]=m.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new N(`Response type '${t}' is not supported`,N.ERR_NOT_SUPPORT,r)})})})(new Response);const Ic=async e=>{if(e==null)return 0;if(m.isBlob(e))return e.size;if(m.isSpecCompliantForm(e))return(await new Request(ae.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(m.isArrayBufferView(e)||m.isArrayBuffer(e))return e.byteLength;if(m.isURLSearchParams(e)&&(e=e+""),m.isString(e))return(await gc(e)).byteLength},Rc=async(e,t)=>{const n=m.toFiniteNumber(e.getContentLength());return n??Ic(t)},yc=dn&&(async e=>{let{url:t,method:n,data:r,signal:s,cancelToken:i,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:c,withCredentials:f="same-origin",fetchOptions:p}=ki(e);u=u?(u+"").toLowerCase():"text";let h=Ec([s,i&&i.toAbortSignal()],o),d;const _=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let E;try{if(l&&Tc&&n!=="get"&&n!=="head"&&(E=await Rc(c,r))!==0){let b=new Request(t,{method:"POST",body:r,duplex:"half"}),w;if(m.isFormData(r)&&(w=b.headers.get("content-type"))&&c.setContentType(w),b.body){const[B,D]=ps(E,Qt(Es(l)));r=hs(b.body,ms,B,D)}}m.isString(f)||(f=f?"include":"omit");const g="credentials"in Request.prototype;d=new Request(t,{...p,signal:h,method:n.toUpperCase(),headers:c.normalize().toJSON(),body:r,duplex:"half",credentials:g?f:void 0});let I=await fetch(d);const y=Yn&&(u==="stream"||u==="response");if(Yn&&(a||y&&_)){const b={};["status","statusText","headers"].forEach(P=>{b[P]=I[P]});const w=m.toFiniteNumber(I.headers.get("content-length")),[B,D]=a&&ps(w,Qt(Es(a),!0))||[];I=new Response(hs(I.body,ms,B,()=>{D&&D(),_&&_()}),b)}u=u||"text";let A=await Jt[m.findKey(Jt,u)||"text"](I,e);return!y&&_&&_(),await new Promise((b,w)=>{Hi(b,w,{data:A,headers:le.from(I.headers),status:I.status,statusText:I.statusText,config:e,request:d})})}catch(g){throw _&&_(),g&&g.name==="TypeError"&&/fetch/i.test(g.message)?Object.assign(new N("Network Error",N.ERR_NETWORK,e,d),{cause:g.cause||g}):N.from(g,g&&g.code,e,d)}}),Wn={http:Bl,xhr:pc,fetch:yc};m.forEach(Wn,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const gs=e=>`- ${e}`,Oc=e=>m.isFunction(e)||e===null||e===!1,Wi={getAdapter:e=>{e=m.isArray(e)?e:[e];const{length:t}=e;let n,r;const s={};for(let i=0;i<t;i++){n=e[i];let o;if(r=n,!Oc(n)&&(r=Wn[(o=String(n)).toLowerCase()],r===void 0))throw new N(`Unknown adapter '${o}'`);if(r)break;s[o||"#"+i]=r}if(!r){const i=Object.entries(s).map(([a,l])=>`adapter ${a} `+(l===!1?"is not supported by the environment":"is not available in the build"));let o=t?i.length>1?`since :
`+i.map(gs).join(`
`):" "+gs(i[0]):"as no adapter specified";throw new N("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return r},adapters:Wn};function Ln(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new lt(null,e)}function Ts(e){return Ln(e),e.headers=le.from(e.headers),e.data=Pn.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Wi.getAdapter(e.adapter||Dt.adapter)(e).then(function(r){return Ln(e),r.data=Pn.call(e,e.transformResponse,r),r.headers=le.from(r.headers),r},function(r){return $i(r)||(Ln(e),r&&r.response&&(r.response.data=Pn.call(e,e.transformResponse,r.response),r.response.headers=le.from(r.response.headers))),Promise.reject(r)})}const Xi="1.7.7",br={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{br[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Is={};br.transitional=function(t,n,r){function s(i,o){return"[Axios v"+Xi+"] Transitional option '"+i+"'"+o+(r?". "+r:"")}return(i,o,a)=>{if(t===!1)throw new N(s(o," has been removed"+(n?" in "+n:"")),N.ERR_DEPRECATED);return n&&!Is[o]&&(Is[o]=!0,console.warn(s(o," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,o,a):!0}};function Sc(e,t,n){if(typeof e!="object")throw new N("options must be an object",N.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const i=r[s],o=t[i];if(o){const a=e[i],l=a===void 0||o(a,i,e);if(l!==!0)throw new N("option "+i+" must be "+l,N.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new N("Unknown option "+i,N.ERR_BAD_OPTION)}}const Xn={assertOptions:Sc,validators:br},De=Xn.validators;class Ve{constructor(t){this.defaults=t,this.interceptors={request:new fs,response:new fs}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let s;Error.captureStackTrace?Error.captureStackTrace(s={}):s=new Error;const i=s.stack?s.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Ke(this.defaults,n);const{transitional:r,paramsSerializer:s,headers:i}=n;r!==void 0&&Xn.assertOptions(r,{silentJSONParsing:De.transitional(De.boolean),forcedJSONParsing:De.transitional(De.boolean),clarifyTimeoutError:De.transitional(De.boolean)},!1),s!=null&&(m.isFunction(s)?n.paramsSerializer={serialize:s}:Xn.assertOptions(s,{encode:De.function,serialize:De.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=i&&m.merge(i.common,i[n.method]);i&&m.forEach(["delete","get","head","post","put","patch","common"],d=>{delete i[d]}),n.headers=le.concat(o,i);const a=[];let l=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(n)===!1||(l=l&&_.synchronous,a.unshift(_.fulfilled,_.rejected))});const u=[];this.interceptors.response.forEach(function(_){u.push(_.fulfilled,_.rejected)});let c,f=0,p;if(!l){const d=[Ts.bind(this),void 0];for(d.unshift.apply(d,a),d.push.apply(d,u),p=d.length,c=Promise.resolve(n);f<p;)c=c.then(d[f++],d[f++]);return c}p=a.length;let h=n;for(f=0;f<p;){const d=a[f++],_=a[f++];try{h=d(h)}catch(E){_.call(this,E);break}}try{c=Ts.call(this,h)}catch(d){return Promise.reject(d)}for(f=0,p=u.length;f<p;)c=c.then(u[f++],u[f++]);return c}getUri(t){t=Ke(this.defaults,t);const n=ji(t.baseURL,t.url);return Ui(n,t.params,t.paramsSerializer)}}m.forEach(["delete","get","head","options"],function(t){Ve.prototype[t]=function(n,r){return this.request(Ke(r||{},{method:t,url:n,data:(r||{}).data}))}});m.forEach(["post","put","patch"],function(t){function n(r){return function(i,o,a){return this.request(Ke(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}Ve.prototype[t]=n(),Ve.prototype[t+"Form"]=n(!0)});class Ar{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(s=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](s);r._listeners=null}),this.promise.then=s=>{let i;const o=new Promise(a=>{r.subscribe(a),i=a}).then(s);return o.cancel=function(){r.unsubscribe(i)},o},t(function(i,o,a){r.reason||(r.reason=new lt(i,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new Ar(function(s){t=s}),cancel:t}}}function bc(e){return function(n){return e.apply(null,n)}}function Ac(e){return m.isObject(e)&&e.isAxiosError===!0}const Kn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Kn).forEach(([e,t])=>{Kn[t]=e});function Ki(e){const t=new Ve(e),n=Di(Ve.prototype.request,t);return m.extend(n,Ve.prototype,t,{allOwnKeys:!0}),m.extend(n,t,null,{allOwnKeys:!0}),n.create=function(s){return Ki(Ke(e,s))},n}const k=Ki(Dt);k.Axios=Ve;k.CanceledError=lt;k.CancelToken=Ar;k.isCancel=$i;k.VERSION=Xi;k.toFormData=fn;k.AxiosError=N;k.Cancel=k.CanceledError;k.all=function(t){return Promise.all(t)};k.spread=bc;k.isAxiosError=Ac;k.mergeConfig=Ke;k.AxiosHeaders=le;k.formToJSON=e=>Vi(m.isHTMLForm(e)?new FormData(e):e);k.getAdapter=Wi.getAdapter;k.HttpStatusCode=Kn;k.default=k;window.axios=k;window.axios.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";var Qn=!1,Jn=!1,$e=[],Zn=-1;function Dc(e){wc(e)}function wc(e){$e.includes(e)||$e.push(e),Pc()}function Qi(e){let t=$e.indexOf(e);t!==-1&&t>Zn&&$e.splice(t,1)}function Pc(){!Jn&&!Qn&&(Qn=!0,queueMicrotask(Lc))}function Lc(){Qn=!1,Jn=!0;for(let e=0;e<$e.length;e++)$e[e](),Zn=e;$e.length=0,Zn=-1,Jn=!1}var ct,Qe,ut,Ji,er=!0;function Cc(e){er=!1,e(),er=!0}function vc(e){ct=e.reactive,ut=e.release,Qe=t=>e.effect(t,{scheduler:n=>{er?Dc(n):n()}}),Ji=e.raw}function Rs(e){Qe=e}function Mc(e){let t=()=>{};return[r=>{let s=Qe(r);return e._x_effects||(e._x_effects=new Set,e._x_runEffects=()=>{e._x_effects.forEach(i=>i())}),e._x_effects.add(s),t=()=>{s!==void 0&&(e._x_effects.delete(s),ut(s))},s},()=>{t()}]}function Zi(e,t){let n=!0,r,s=Qe(()=>{let i=e();JSON.stringify(i),n?r=i:queueMicrotask(()=>{t(i,r),r=i}),n=!1});return()=>ut(s)}var eo=[],to=[],no=[];function Nc(e){no.push(e)}function Dr(e,t){typeof t=="function"?(e._x_cleanups||(e._x_cleanups=[]),e._x_cleanups.push(t)):(t=e,to.push(t))}function ro(e){eo.push(e)}function so(e,t,n){e._x_attributeCleanups||(e._x_attributeCleanups={}),e._x_attributeCleanups[t]||(e._x_attributeCleanups[t]=[]),e._x_attributeCleanups[t].push(n)}function io(e,t){e._x_attributeCleanups&&Object.entries(e._x_attributeCleanups).forEach(([n,r])=>{(t===void 0||t.includes(n))&&(r.forEach(s=>s()),delete e._x_attributeCleanups[n])})}function xc(e){if(e._x_cleanups)for(;e._x_cleanups.length;)e._x_cleanups.pop()()}var wr=new MutationObserver(vr),Pr=!1;function Lr(){wr.observe(document,{subtree:!0,childList:!0,attributes:!0,attributeOldValue:!0}),Pr=!0}function oo(){Fc(),wr.disconnect(),Pr=!1}var Et=[];function Fc(){let e=wr.takeRecords();Et.push(()=>e.length>0&&vr(e));let t=Et.length;queueMicrotask(()=>{if(Et.length===t)for(;Et.length>0;)Et.shift()()})}function X(e){if(!Pr)return e();oo();let t=e();return Lr(),t}var Cr=!1,Zt=[];function Bc(){Cr=!0}function Gc(){Cr=!1,vr(Zt),Zt=[]}function vr(e){if(Cr){Zt=Zt.concat(e);return}let t=new Set,n=new Set,r=new Map,s=new Map;for(let i=0;i<e.length;i++)if(!e[i].target._x_ignoreMutationObserver&&(e[i].type==="childList"&&(e[i].addedNodes.forEach(o=>o.nodeType===1&&t.add(o)),e[i].removedNodes.forEach(o=>o.nodeType===1&&n.add(o))),e[i].type==="attributes")){let o=e[i].target,a=e[i].attributeName,l=e[i].oldValue,u=()=>{r.has(o)||r.set(o,[]),r.get(o).push({name:a,value:o.getAttribute(a)})},c=()=>{s.has(o)||s.set(o,[]),s.get(o).push(a)};o.hasAttribute(a)&&l===null?u():o.hasAttribute(a)?(c(),u()):c()}s.forEach((i,o)=>{io(o,i)}),r.forEach((i,o)=>{eo.forEach(a=>a(o,i))});for(let i of n)t.has(i)||to.forEach(o=>o(i));t.forEach(i=>{i._x_ignoreSelf=!0,i._x_ignore=!0});for(let i of t)n.has(i)||i.isConnected&&(delete i._x_ignoreSelf,delete i._x_ignore,no.forEach(o=>o(i)),i._x_ignore=!0,i._x_ignoreSelf=!0);t.forEach(i=>{delete i._x_ignoreSelf,delete i._x_ignore}),t=null,n=null,r=null,s=null}function ao(e){return Pt(st(e))}function wt(e,t,n){return e._x_dataStack=[t,...st(n||e)],()=>{e._x_dataStack=e._x_dataStack.filter(r=>r!==t)}}function st(e){return e._x_dataStack?e._x_dataStack:typeof ShadowRoot=="function"&&e instanceof ShadowRoot?st(e.host):e.parentNode?st(e.parentNode):[]}function Pt(e){return new Proxy({objects:e},Uc)}var Uc={ownKeys({objects:e}){return Array.from(new Set(e.flatMap(t=>Object.keys(t))))},has({objects:e},t){return t==Symbol.unscopables?!1:e.some(n=>Object.prototype.hasOwnProperty.call(n,t)||Reflect.has(n,t))},get({objects:e},t,n){return t=="toJSON"?qc:Reflect.get(e.find(r=>Reflect.has(r,t))||{},t,n)},set({objects:e},t,n,r){const s=e.find(o=>Object.prototype.hasOwnProperty.call(o,t))||e[e.length-1],i=Object.getOwnPropertyDescriptor(s,t);return i!=null&&i.set&&(i!=null&&i.get)?i.set.call(r,n)||!0:Reflect.set(s,t,n)}};function qc(){return Reflect.ownKeys(this).reduce((t,n)=>(t[n]=Reflect.get(this,n),t),{})}function lo(e){let t=r=>typeof r=="object"&&!Array.isArray(r)&&r!==null,n=(r,s="")=>{Object.entries(Object.getOwnPropertyDescriptors(r)).forEach(([i,{value:o,enumerable:a}])=>{if(a===!1||o===void 0||typeof o=="object"&&o!==null&&o.__v_skip)return;let l=s===""?i:`${s}.${i}`;typeof o=="object"&&o!==null&&o._x_interceptor?r[i]=o.initialize(e,l,i):t(o)&&o!==r&&!(o instanceof Element)&&n(o,l)})};return n(e)}function co(e,t=()=>{}){let n={initialValue:void 0,_x_interceptor:!0,initialize(r,s,i){return e(this.initialValue,()=>Vc(r,s),o=>tr(r,s,o),s,i)}};return t(n),r=>{if(typeof r=="object"&&r!==null&&r._x_interceptor){let s=n.initialize.bind(n);n.initialize=(i,o,a)=>{let l=r.initialize(i,o,a);return n.initialValue=l,s(i,o,a)}}else n.initialValue=r;return n}}function Vc(e,t){return t.split(".").reduce((n,r)=>n[r],e)}function tr(e,t,n){if(typeof t=="string"&&(t=t.split(".")),t.length===1)e[t[0]]=n;else{if(t.length===0)throw error;return e[t[0]]||(e[t[0]]={}),tr(e[t[0]],t.slice(1),n)}}var uo={};function Ie(e,t){uo[e]=t}function nr(e,t){return Object.entries(uo).forEach(([n,r])=>{let s=null;function i(){if(s)return s;{let[o,a]=mo(t);return s={interceptor:co,...o},Dr(t,a),s}}Object.defineProperty(e,`$${n}`,{get(){return r(t,i())},enumerable:!1})}),e}function $c(e,t,n,...r){try{return n(...r)}catch(s){bt(s,e,t)}}function bt(e,t,n=void 0){e=Object.assign(e??{message:"No error message given."},{el:t,expression:n}),console.warn(`Alpine Expression Error: ${e.message}

${n?'Expression: "'+n+`"

`:""}`,t),setTimeout(()=>{throw e},0)}var Wt=!0;function fo(e){let t=Wt;Wt=!1;let n=e();return Wt=t,n}function He(e,t,n={}){let r;return ne(e,t)(s=>r=s,n),r}function ne(...e){return po(...e)}var po=Eo;function Hc(e){po=e}function Eo(e,t){let n={};nr(n,e);let r=[n,...st(e)],s=typeof t=="function"?jc(r,t):zc(r,t,e);return $c.bind(null,e,t,s)}function jc(e,t){return(n=()=>{},{scope:r={},params:s=[]}={})=>{let i=t.apply(Pt([r,...e]),s);en(n,i)}}var Cn={};function kc(e,t){if(Cn[e])return Cn[e];let n=Object.getPrototypeOf(async function(){}).constructor,r=/^[\n\s]*if.*\(.*\)/.test(e.trim())||/^(let|const)\s/.test(e.trim())?`(async()=>{ ${e} })()`:e,i=(()=>{try{let o=new n(["__self","scope"],`with (scope) { __self.result = ${r} }; __self.finished = true; return __self.result;`);return Object.defineProperty(o,"name",{value:`[Alpine] ${e}`}),o}catch(o){return bt(o,t,e),Promise.resolve()}})();return Cn[e]=i,i}function zc(e,t,n){let r=kc(t,n);return(s=()=>{},{scope:i={},params:o=[]}={})=>{r.result=void 0,r.finished=!1;let a=Pt([i,...e]);if(typeof r=="function"){let l=r(r,a).catch(u=>bt(u,n,t));r.finished?(en(s,r.result,a,o,n),r.result=void 0):l.then(u=>{en(s,u,a,o,n)}).catch(u=>bt(u,n,t)).finally(()=>r.result=void 0)}}}function en(e,t,n,r,s){if(Wt&&typeof t=="function"){let i=t.apply(n,r);i instanceof Promise?i.then(o=>en(e,o,n,r)).catch(o=>bt(o,s,t)):e(i)}else typeof t=="object"&&t instanceof Promise?t.then(i=>e(i)):e(t)}var Mr="x-";function ft(e=""){return Mr+e}function Yc(e){Mr=e}var tn={};function z(e,t){return tn[e]=t,{before(n){if(!tn[n]){console.warn(String.raw`Cannot find directive \`${n}\`. \`${e}\` will use the default order of execution`);return}const r=Be.indexOf(n);Be.splice(r>=0?r:Be.indexOf("DEFAULT"),0,e)}}}function Wc(e){return Object.keys(tn).includes(e)}function Nr(e,t,n){if(t=Array.from(t),e._x_virtualDirectives){let i=Object.entries(e._x_virtualDirectives).map(([a,l])=>({name:a,value:l})),o=_o(i);i=i.map(a=>o.find(l=>l.name===a.name)?{name:`x-bind:${a.name}`,value:`"${a.value}"`}:a),t=t.concat(i)}let r={};return t.map(Io((i,o)=>r[i]=o)).filter(yo).map(Qc(r,n)).sort(Jc).map(i=>Kc(e,i))}function _o(e){return Array.from(e).map(Io()).filter(t=>!yo(t))}var rr=!1,It=new Map,ho=Symbol();function Xc(e){rr=!0;let t=Symbol();ho=t,It.set(t,[]);let n=()=>{for(;It.get(t).length;)It.get(t).shift()();It.delete(t)},r=()=>{rr=!1,n()};e(n),r()}function mo(e){let t=[],n=a=>t.push(a),[r,s]=Mc(e);return t.push(s),[{Alpine:Ct,effect:r,cleanup:n,evaluateLater:ne.bind(ne,e),evaluate:He.bind(He,e)},()=>t.forEach(a=>a())]}function Kc(e,t){let n=()=>{},r=tn[t.type]||n,[s,i]=mo(e);so(e,t.original,i);let o=()=>{e._x_ignore||e._x_ignoreSelf||(r.inline&&r.inline(e,t,s),r=r.bind(r,e,t,s),rr?It.get(ho).push(r):r())};return o.runCleanups=i,o}var go=(e,t)=>({name:n,value:r})=>(n.startsWith(e)&&(n=n.replace(e,t)),{name:n,value:r}),To=e=>e;function Io(e=()=>{}){return({name:t,value:n})=>{let{name:r,value:s}=Ro.reduce((i,o)=>o(i),{name:t,value:n});return r!==t&&e(r,t),{name:r,value:s}}}var Ro=[];function xr(e){Ro.push(e)}function yo({name:e}){return Oo().test(e)}var Oo=()=>new RegExp(`^${Mr}([^:^.]+)\\b`);function Qc(e,t){return({name:n,value:r})=>{let s=n.match(Oo()),i=n.match(/:([a-zA-Z0-9\-_:]+)/),o=n.match(/\.[^.\]]+(?=[^\]]*$)/g)||[],a=t||e[n]||n;return{type:s?s[1]:null,value:i?i[1]:null,modifiers:o.map(l=>l.replace(".","")),expression:r,original:a}}}var sr="DEFAULT",Be=["ignore","ref","data","id","anchor","bind","init","for","model","modelable","transition","show","if",sr,"teleport"];function Jc(e,t){let n=Be.indexOf(e.type)===-1?sr:e.type,r=Be.indexOf(t.type)===-1?sr:t.type;return Be.indexOf(n)-Be.indexOf(r)}function Rt(e,t,n={}){e.dispatchEvent(new CustomEvent(t,{detail:n,bubbles:!0,composed:!0,cancelable:!0}))}function Ce(e,t){if(typeof ShadowRoot=="function"&&e instanceof ShadowRoot){Array.from(e.children).forEach(s=>Ce(s,t));return}let n=!1;if(t(e,()=>n=!0),n)return;let r=e.firstElementChild;for(;r;)Ce(r,t),r=r.nextElementSibling}function pe(e,...t){console.warn(`Alpine Warning: ${e}`,...t)}var ys=!1;function Zc(){ys&&pe("Alpine has already been initialized on this page. Calling Alpine.start() more than once can cause problems."),ys=!0,document.body||pe("Unable to initialize. Trying to load Alpine before `<body>` is available. Did you forget to add `defer` in Alpine's `<script>` tag?"),Rt(document,"alpine:init"),Rt(document,"alpine:initializing"),Lr(),Nc(t=>Oe(t,Ce)),Dr(t=>Lo(t)),ro((t,n)=>{Nr(t,n).forEach(r=>r())});let e=t=>!pn(t.parentElement,!0);Array.from(document.querySelectorAll(Ao().join(","))).filter(e).forEach(t=>{Oe(t)}),Rt(document,"alpine:initialized"),setTimeout(()=>{nu()})}var Fr=[],So=[];function bo(){return Fr.map(e=>e())}function Ao(){return Fr.concat(So).map(e=>e())}function Do(e){Fr.push(e)}function wo(e){So.push(e)}function pn(e,t=!1){return Lt(e,n=>{if((t?Ao():bo()).some(s=>n.matches(s)))return!0})}function Lt(e,t){if(e){if(t(e))return e;if(e._x_teleportBack&&(e=e._x_teleportBack),!!e.parentElement)return Lt(e.parentElement,t)}}function eu(e){return bo().some(t=>e.matches(t))}var Po=[];function tu(e){Po.push(e)}function Oe(e,t=Ce,n=()=>{}){Xc(()=>{t(e,(r,s)=>{n(r,s),Po.forEach(i=>i(r,s)),Nr(r,r.attributes).forEach(i=>i()),r._x_ignore&&s()})})}function Lo(e,t=Ce){t(e,n=>{io(n),xc(n)})}function nu(){[["ui","dialog",["[x-dialog], [x-popover]"]],["anchor","anchor",["[x-anchor]"]],["sort","sort",["[x-sort]"]]].forEach(([t,n,r])=>{Wc(n)||r.some(s=>{if(document.querySelector(s))return pe(`found "${s}", but missing ${t} plugin`),!0})})}var ir=[],Br=!1;function Gr(e=()=>{}){return queueMicrotask(()=>{Br||setTimeout(()=>{or()})}),new Promise(t=>{ir.push(()=>{e(),t()})})}function or(){for(Br=!1;ir.length;)ir.shift()()}function ru(){Br=!0}function Ur(e,t){return Array.isArray(t)?Os(e,t.join(" ")):typeof t=="object"&&t!==null?su(e,t):typeof t=="function"?Ur(e,t()):Os(e,t)}function Os(e,t){let n=s=>s.split(" ").filter(i=>!e.classList.contains(i)).filter(Boolean),r=s=>(e.classList.add(...s),()=>{e.classList.remove(...s)});return t=t===!0?t="":t||"",r(n(t))}function su(e,t){let n=a=>a.split(" ").filter(Boolean),r=Object.entries(t).flatMap(([a,l])=>l?n(a):!1).filter(Boolean),s=Object.entries(t).flatMap(([a,l])=>l?!1:n(a)).filter(Boolean),i=[],o=[];return s.forEach(a=>{e.classList.contains(a)&&(e.classList.remove(a),o.push(a))}),r.forEach(a=>{e.classList.contains(a)||(e.classList.add(a),i.push(a))}),()=>{o.forEach(a=>e.classList.add(a)),i.forEach(a=>e.classList.remove(a))}}function En(e,t){return typeof t=="object"&&t!==null?iu(e,t):ou(e,t)}function iu(e,t){let n={};return Object.entries(t).forEach(([r,s])=>{n[r]=e.style[r],r.startsWith("--")||(r=au(r)),e.style.setProperty(r,s)}),setTimeout(()=>{e.style.length===0&&e.removeAttribute("style")}),()=>{En(e,n)}}function ou(e,t){let n=e.getAttribute("style",t);return e.setAttribute("style",t),()=>{e.setAttribute("style",n||"")}}function au(e){return e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function ar(e,t=()=>{}){let n=!1;return function(){n?t.apply(this,arguments):(n=!0,e.apply(this,arguments))}}z("transition",(e,{value:t,modifiers:n,expression:r},{evaluate:s})=>{typeof r=="function"&&(r=s(r)),r!==!1&&(!r||typeof r=="boolean"?cu(e,n,t):lu(e,r,t))});function lu(e,t,n){Co(e,Ur,""),{enter:s=>{e._x_transition.enter.during=s},"enter-start":s=>{e._x_transition.enter.start=s},"enter-end":s=>{e._x_transition.enter.end=s},leave:s=>{e._x_transition.leave.during=s},"leave-start":s=>{e._x_transition.leave.start=s},"leave-end":s=>{e._x_transition.leave.end=s}}[n](t)}function cu(e,t,n){Co(e,En);let r=!t.includes("in")&&!t.includes("out")&&!n,s=r||t.includes("in")||["enter"].includes(n),i=r||t.includes("out")||["leave"].includes(n);t.includes("in")&&!r&&(t=t.filter((g,I)=>I<t.indexOf("out"))),t.includes("out")&&!r&&(t=t.filter((g,I)=>I>t.indexOf("out")));let o=!t.includes("opacity")&&!t.includes("scale"),a=o||t.includes("opacity"),l=o||t.includes("scale"),u=a?0:1,c=l?_t(t,"scale",95)/100:1,f=_t(t,"delay",0)/1e3,p=_t(t,"origin","center"),h="opacity, transform",d=_t(t,"duration",150)/1e3,_=_t(t,"duration",75)/1e3,E="cubic-bezier(0.4, 0.0, 0.2, 1)";s&&(e._x_transition.enter.during={transformOrigin:p,transitionDelay:`${f}s`,transitionProperty:h,transitionDuration:`${d}s`,transitionTimingFunction:E},e._x_transition.enter.start={opacity:u,transform:`scale(${c})`},e._x_transition.enter.end={opacity:1,transform:"scale(1)"}),i&&(e._x_transition.leave.during={transformOrigin:p,transitionDelay:`${f}s`,transitionProperty:h,transitionDuration:`${_}s`,transitionTimingFunction:E},e._x_transition.leave.start={opacity:1,transform:"scale(1)"},e._x_transition.leave.end={opacity:u,transform:`scale(${c})`})}function Co(e,t,n={}){e._x_transition||(e._x_transition={enter:{during:n,start:n,end:n},leave:{during:n,start:n,end:n},in(r=()=>{},s=()=>{}){lr(e,t,{during:this.enter.during,start:this.enter.start,end:this.enter.end},r,s)},out(r=()=>{},s=()=>{}){lr(e,t,{during:this.leave.during,start:this.leave.start,end:this.leave.end},r,s)}})}window.Element.prototype._x_toggleAndCascadeWithTransitions=function(e,t,n,r){const s=document.visibilityState==="visible"?requestAnimationFrame:setTimeout;let i=()=>s(n);if(t){e._x_transition&&(e._x_transition.enter||e._x_transition.leave)?e._x_transition.enter&&(Object.entries(e._x_transition.enter.during).length||Object.entries(e._x_transition.enter.start).length||Object.entries(e._x_transition.enter.end).length)?e._x_transition.in(n):i():e._x_transition?e._x_transition.in(n):i();return}e._x_hidePromise=e._x_transition?new Promise((o,a)=>{e._x_transition.out(()=>{},()=>o(r)),e._x_transitioning&&e._x_transitioning.beforeCancel(()=>a({isFromCancelledTransition:!0}))}):Promise.resolve(r),queueMicrotask(()=>{let o=vo(e);o?(o._x_hideChildren||(o._x_hideChildren=[]),o._x_hideChildren.push(e)):s(()=>{let a=l=>{let u=Promise.all([l._x_hidePromise,...(l._x_hideChildren||[]).map(a)]).then(([c])=>c==null?void 0:c());return delete l._x_hidePromise,delete l._x_hideChildren,u};a(e).catch(l=>{if(!l.isFromCancelledTransition)throw l})})})};function vo(e){let t=e.parentNode;if(t)return t._x_hidePromise?t:vo(t)}function lr(e,t,{during:n,start:r,end:s}={},i=()=>{},o=()=>{}){if(e._x_transitioning&&e._x_transitioning.cancel(),Object.keys(n).length===0&&Object.keys(r).length===0&&Object.keys(s).length===0){i(),o();return}let a,l,u;uu(e,{start(){a=t(e,r)},during(){l=t(e,n)},before:i,end(){a(),u=t(e,s)},after:o,cleanup(){l(),u()}})}function uu(e,t){let n,r,s,i=ar(()=>{X(()=>{n=!0,r||t.before(),s||(t.end(),or()),t.after(),e.isConnected&&t.cleanup(),delete e._x_transitioning})});e._x_transitioning={beforeCancels:[],beforeCancel(o){this.beforeCancels.push(o)},cancel:ar(function(){for(;this.beforeCancels.length;)this.beforeCancels.shift()();i()}),finish:i},X(()=>{t.start(),t.during()}),ru(),requestAnimationFrame(()=>{if(n)return;let o=Number(getComputedStyle(e).transitionDuration.replace(/,.*/,"").replace("s",""))*1e3,a=Number(getComputedStyle(e).transitionDelay.replace(/,.*/,"").replace("s",""))*1e3;o===0&&(o=Number(getComputedStyle(e).animationDuration.replace("s",""))*1e3),X(()=>{t.before()}),r=!0,requestAnimationFrame(()=>{n||(X(()=>{t.end()}),or(),setTimeout(e._x_transitioning.finish,o+a),s=!0)})})}function _t(e,t,n){if(e.indexOf(t)===-1)return n;const r=e[e.indexOf(t)+1];if(!r||t==="scale"&&isNaN(r))return n;if(t==="duration"||t==="delay"){let s=r.match(/([0-9]+)ms/);if(s)return s[1]}return t==="origin"&&["top","right","left","center","bottom"].includes(e[e.indexOf(t)+2])?[r,e[e.indexOf(t)+2]].join(" "):r}var ve=!1;function Ne(e,t=()=>{}){return(...n)=>ve?t(...n):e(...n)}function fu(e){return(...t)=>ve&&e(...t)}var Mo=[];function _n(e){Mo.push(e)}function du(e,t){Mo.forEach(n=>n(e,t)),ve=!0,No(()=>{Oe(t,(n,r)=>{r(n,()=>{})})}),ve=!1}var cr=!1;function pu(e,t){t._x_dataStack||(t._x_dataStack=e._x_dataStack),ve=!0,cr=!0,No(()=>{Eu(t)}),ve=!1,cr=!1}function Eu(e){let t=!1;Oe(e,(r,s)=>{Ce(r,(i,o)=>{if(t&&eu(i))return o();t=!0,s(i,o)})})}function No(e){let t=Qe;Rs((n,r)=>{let s=t(n);return ut(s),()=>{}}),e(),Rs(t)}function xo(e,t,n,r=[]){switch(e._x_bindings||(e._x_bindings=ct({})),e._x_bindings[t]=n,t=r.includes("camel")?yu(t):t,t){case"value":_u(e,n);break;case"style":mu(e,n);break;case"class":hu(e,n);break;case"selected":case"checked":gu(e,t,n);break;default:Fo(e,t,n);break}}function _u(e,t){if(e.type==="radio")e.attributes.value===void 0&&(e.value=t),window.fromModel&&(typeof t=="boolean"?e.checked=Xt(e.value)===t:e.checked=Ss(e.value,t));else if(e.type==="checkbox")Number.isInteger(t)?e.value=t:!Array.isArray(t)&&typeof t!="boolean"&&![null,void 0].includes(t)?e.value=String(t):Array.isArray(t)?e.checked=t.some(n=>Ss(n,e.value)):e.checked=!!t;else if(e.tagName==="SELECT")Ru(e,t);else{if(e.value===t)return;e.value=t===void 0?"":t}}function hu(e,t){e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedClasses=Ur(e,t)}function mu(e,t){e._x_undoAddedStyles&&e._x_undoAddedStyles(),e._x_undoAddedStyles=En(e,t)}function gu(e,t,n){Fo(e,t,n),Iu(e,t,n)}function Fo(e,t,n){[null,void 0,!1].includes(n)&&Ou(t)?e.removeAttribute(t):(Bo(t)&&(n=t),Tu(e,t,n))}function Tu(e,t,n){e.getAttribute(t)!=n&&e.setAttribute(t,n)}function Iu(e,t,n){e[t]!==n&&(e[t]=n)}function Ru(e,t){const n=[].concat(t).map(r=>r+"");Array.from(e.options).forEach(r=>{r.selected=n.includes(r.value)})}function yu(e){return e.toLowerCase().replace(/-(\w)/g,(t,n)=>n.toUpperCase())}function Ss(e,t){return e==t}function Xt(e){return[1,"1","true","on","yes",!0].includes(e)?!0:[0,"0","false","off","no",!1].includes(e)?!1:e?!!e:null}function Bo(e){return["disabled","checked","required","readonly","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(e)}function Ou(e){return!["aria-pressed","aria-checked","aria-expanded","aria-selected"].includes(e)}function Su(e,t,n){return e._x_bindings&&e._x_bindings[t]!==void 0?e._x_bindings[t]:Go(e,t,n)}function bu(e,t,n,r=!0){if(e._x_bindings&&e._x_bindings[t]!==void 0)return e._x_bindings[t];if(e._x_inlineBindings&&e._x_inlineBindings[t]!==void 0){let s=e._x_inlineBindings[t];return s.extract=r,fo(()=>He(e,s.expression))}return Go(e,t,n)}function Go(e,t,n){let r=e.getAttribute(t);return r===null?typeof n=="function"?n():n:r===""?!0:Bo(t)?!![t,"true"].includes(r):r}function Uo(e,t){var n;return function(){var r=this,s=arguments,i=function(){n=null,e.apply(r,s)};clearTimeout(n),n=setTimeout(i,t)}}function qo(e,t){let n;return function(){let r=this,s=arguments;n||(e.apply(r,s),n=!0,setTimeout(()=>n=!1,t))}}function Vo({get:e,set:t},{get:n,set:r}){let s=!0,i,o=Qe(()=>{let a=e(),l=n();if(s)r(vn(a)),s=!1;else{let u=JSON.stringify(a),c=JSON.stringify(l);u!==i?r(vn(a)):u!==c&&t(vn(l))}i=JSON.stringify(e()),JSON.stringify(n())});return()=>{ut(o)}}function vn(e){return typeof e=="object"?JSON.parse(JSON.stringify(e)):e}function Au(e){(Array.isArray(e)?e:[e]).forEach(n=>n(Ct))}var xe={},bs=!1;function Du(e,t){if(bs||(xe=ct(xe),bs=!0),t===void 0)return xe[e];xe[e]=t,typeof t=="object"&&t!==null&&t.hasOwnProperty("init")&&typeof t.init=="function"&&xe[e].init(),lo(xe[e])}function wu(){return xe}var $o={};function Pu(e,t){let n=typeof t!="function"?()=>t:t;return e instanceof Element?Ho(e,n()):($o[e]=n,()=>{})}function Lu(e){return Object.entries($o).forEach(([t,n])=>{Object.defineProperty(e,t,{get(){return(...r)=>n(...r)}})}),e}function Ho(e,t,n){let r=[];for(;r.length;)r.pop()();let s=Object.entries(t).map(([o,a])=>({name:o,value:a})),i=_o(s);return s=s.map(o=>i.find(a=>a.name===o.name)?{name:`x-bind:${o.name}`,value:`"${o.value}"`}:o),Nr(e,s,n).map(o=>{r.push(o.runCleanups),o()}),()=>{for(;r.length;)r.pop()()}}var jo={};function Cu(e,t){jo[e]=t}function vu(e,t){return Object.entries(jo).forEach(([n,r])=>{Object.defineProperty(e,n,{get(){return(...s)=>r.bind(t)(...s)},enumerable:!1})}),e}var Mu={get reactive(){return ct},get release(){return ut},get effect(){return Qe},get raw(){return Ji},version:"3.14.1",flushAndStopDeferringMutations:Gc,dontAutoEvaluateFunctions:fo,disableEffectScheduling:Cc,startObservingMutations:Lr,stopObservingMutations:oo,setReactivityEngine:vc,onAttributeRemoved:so,onAttributesAdded:ro,closestDataStack:st,skipDuringClone:Ne,onlyDuringClone:fu,addRootSelector:Do,addInitSelector:wo,interceptClone:_n,addScopeToNode:wt,deferMutations:Bc,mapAttributes:xr,evaluateLater:ne,interceptInit:tu,setEvaluator:Hc,mergeProxies:Pt,extractProp:bu,findClosest:Lt,onElRemoved:Dr,closestRoot:pn,destroyTree:Lo,interceptor:co,transition:lr,setStyles:En,mutateDom:X,directive:z,entangle:Vo,throttle:qo,debounce:Uo,evaluate:He,initTree:Oe,nextTick:Gr,prefixed:ft,prefix:Yc,plugin:Au,magic:Ie,store:Du,start:Zc,clone:pu,cloneNode:du,bound:Su,$data:ao,watch:Zi,walk:Ce,data:Cu,bind:Pu},Ct=Mu;function Nu(e,t){const n=Object.create(null),r=e.split(",");for(let s=0;s<r.length;s++)n[r[s]]=!0;return s=>!!n[s]}var xu=Object.freeze({}),Fu=Object.prototype.hasOwnProperty,hn=(e,t)=>Fu.call(e,t),je=Array.isArray,yt=e=>ko(e)==="[object Map]",Bu=e=>typeof e=="string",qr=e=>typeof e=="symbol",mn=e=>e!==null&&typeof e=="object",Gu=Object.prototype.toString,ko=e=>Gu.call(e),zo=e=>ko(e).slice(8,-1),Vr=e=>Bu(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Uu=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},qu=Uu(e=>e.charAt(0).toUpperCase()+e.slice(1)),Yo=(e,t)=>e!==t&&(e===e||t===t),ur=new WeakMap,ht=[],Re,ke=Symbol("iterate"),fr=Symbol("Map key iterate");function Vu(e){return e&&e._isEffect===!0}function $u(e,t=xu){Vu(e)&&(e=e.raw);const n=ku(e,t);return t.lazy||n(),n}function Hu(e){e.active&&(Wo(e),e.options.onStop&&e.options.onStop(),e.active=!1)}var ju=0;function ku(e,t){const n=function(){if(!n.active)return e();if(!ht.includes(n)){Wo(n);try{return Yu(),ht.push(n),Re=n,e()}finally{ht.pop(),Xo(),Re=ht[ht.length-1]}}};return n.id=ju++,n.allowRecurse=!!t.allowRecurse,n._isEffect=!0,n.active=!0,n.raw=e,n.deps=[],n.options=t,n}function Wo(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}var it=!0,$r=[];function zu(){$r.push(it),it=!1}function Yu(){$r.push(it),it=!0}function Xo(){const e=$r.pop();it=e===void 0?!0:e}function ge(e,t,n){if(!it||Re===void 0)return;let r=ur.get(e);r||ur.set(e,r=new Map);let s=r.get(n);s||r.set(n,s=new Set),s.has(Re)||(s.add(Re),Re.deps.push(s),Re.options.onTrack&&Re.options.onTrack({effect:Re,target:e,type:t,key:n}))}function Me(e,t,n,r,s,i){const o=ur.get(e);if(!o)return;const a=new Set,l=c=>{c&&c.forEach(f=>{(f!==Re||f.allowRecurse)&&a.add(f)})};if(t==="clear")o.forEach(l);else if(n==="length"&&je(e))o.forEach((c,f)=>{(f==="length"||f>=r)&&l(c)});else switch(n!==void 0&&l(o.get(n)),t){case"add":je(e)?Vr(n)&&l(o.get("length")):(l(o.get(ke)),yt(e)&&l(o.get(fr)));break;case"delete":je(e)||(l(o.get(ke)),yt(e)&&l(o.get(fr)));break;case"set":yt(e)&&l(o.get(ke));break}const u=c=>{c.options.onTrigger&&c.options.onTrigger({effect:c,target:e,key:n,type:t,newValue:r,oldValue:s,oldTarget:i}),c.options.scheduler?c.options.scheduler(c):c()};a.forEach(u)}var Wu=Nu("__proto__,__v_isRef,__isVue"),Ko=new Set(Object.getOwnPropertyNames(Symbol).map(e=>Symbol[e]).filter(qr)),Xu=Qo(),Ku=Qo(!0),As=Qu();function Qu(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=V(this);for(let i=0,o=this.length;i<o;i++)ge(r,"get",i+"");const s=r[t](...n);return s===-1||s===!1?r[t](...n.map(V)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){zu();const r=V(this)[t].apply(this,n);return Xo(),r}}),e}function Qo(e=!1,t=!1){return function(r,s,i){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_raw"&&i===(e?t?df:ta:t?ff:ea).get(r))return r;const o=je(r);if(!e&&o&&hn(As,s))return Reflect.get(As,s,i);const a=Reflect.get(r,s,i);return(qr(s)?Ko.has(s):Wu(s))||(e||ge(r,"get",s),t)?a:dr(a)?!o||!Vr(s)?a.value:a:mn(a)?e?na(a):zr(a):a}}var Ju=Zu();function Zu(e=!1){return function(n,r,s,i){let o=n[r];if(!e&&(s=V(s),o=V(o),!je(n)&&dr(o)&&!dr(s)))return o.value=s,!0;const a=je(n)&&Vr(r)?Number(r)<n.length:hn(n,r),l=Reflect.set(n,r,s,i);return n===V(i)&&(a?Yo(s,o)&&Me(n,"set",r,s,o):Me(n,"add",r,s)),l}}function ef(e,t){const n=hn(e,t),r=e[t],s=Reflect.deleteProperty(e,t);return s&&n&&Me(e,"delete",t,void 0,r),s}function tf(e,t){const n=Reflect.has(e,t);return(!qr(t)||!Ko.has(t))&&ge(e,"has",t),n}function nf(e){return ge(e,"iterate",je(e)?"length":ke),Reflect.ownKeys(e)}var rf={get:Xu,set:Ju,deleteProperty:ef,has:tf,ownKeys:nf},sf={get:Ku,set(e,t){return console.warn(`Set operation on key "${String(t)}" failed: target is readonly.`,e),!0},deleteProperty(e,t){return console.warn(`Delete operation on key "${String(t)}" failed: target is readonly.`,e),!0}},Hr=e=>mn(e)?zr(e):e,jr=e=>mn(e)?na(e):e,kr=e=>e,gn=e=>Reflect.getPrototypeOf(e);function xt(e,t,n=!1,r=!1){e=e.__v_raw;const s=V(e),i=V(t);t!==i&&!n&&ge(s,"get",t),!n&&ge(s,"get",i);const{has:o}=gn(s),a=r?kr:n?jr:Hr;if(o.call(s,t))return a(e.get(t));if(o.call(s,i))return a(e.get(i));e!==s&&e.get(t)}function Ft(e,t=!1){const n=this.__v_raw,r=V(n),s=V(e);return e!==s&&!t&&ge(r,"has",e),!t&&ge(r,"has",s),e===s?n.has(e):n.has(e)||n.has(s)}function Bt(e,t=!1){return e=e.__v_raw,!t&&ge(V(e),"iterate",ke),Reflect.get(e,"size",e)}function Ds(e){e=V(e);const t=V(this);return gn(t).has.call(t,e)||(t.add(e),Me(t,"add",e,e)),this}function ws(e,t){t=V(t);const n=V(this),{has:r,get:s}=gn(n);let i=r.call(n,e);i?Zo(n,r,e):(e=V(e),i=r.call(n,e));const o=s.call(n,e);return n.set(e,t),i?Yo(t,o)&&Me(n,"set",e,t,o):Me(n,"add",e,t),this}function Ps(e){const t=V(this),{has:n,get:r}=gn(t);let s=n.call(t,e);s?Zo(t,n,e):(e=V(e),s=n.call(t,e));const i=r?r.call(t,e):void 0,o=t.delete(e);return s&&Me(t,"delete",e,void 0,i),o}function Ls(){const e=V(this),t=e.size!==0,n=yt(e)?new Map(e):new Set(e),r=e.clear();return t&&Me(e,"clear",void 0,void 0,n),r}function Gt(e,t){return function(r,s){const i=this,o=i.__v_raw,a=V(o),l=t?kr:e?jr:Hr;return!e&&ge(a,"iterate",ke),o.forEach((u,c)=>r.call(s,l(u),l(c),i))}}function Ut(e,t,n){return function(...r){const s=this.__v_raw,i=V(s),o=yt(i),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=s[e](...r),c=n?kr:t?jr:Hr;return!t&&ge(i,"iterate",l?fr:ke),{next(){const{value:f,done:p}=u.next();return p?{value:f,done:p}:{value:a?[c(f[0]),c(f[1])]:c(f),done:p}},[Symbol.iterator](){return this}}}}function we(e){return function(...t){{const n=t[0]?`on key "${t[0]}" `:"";console.warn(`${qu(e)} operation ${n}failed: target is readonly.`,V(this))}return e==="delete"?!1:this}}function of(){const e={get(i){return xt(this,i)},get size(){return Bt(this)},has:Ft,add:Ds,set:ws,delete:Ps,clear:Ls,forEach:Gt(!1,!1)},t={get(i){return xt(this,i,!1,!0)},get size(){return Bt(this)},has:Ft,add:Ds,set:ws,delete:Ps,clear:Ls,forEach:Gt(!1,!0)},n={get(i){return xt(this,i,!0)},get size(){return Bt(this,!0)},has(i){return Ft.call(this,i,!0)},add:we("add"),set:we("set"),delete:we("delete"),clear:we("clear"),forEach:Gt(!0,!1)},r={get(i){return xt(this,i,!0,!0)},get size(){return Bt(this,!0)},has(i){return Ft.call(this,i,!0)},add:we("add"),set:we("set"),delete:we("delete"),clear:we("clear"),forEach:Gt(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{e[i]=Ut(i,!1,!1),n[i]=Ut(i,!0,!1),t[i]=Ut(i,!1,!0),r[i]=Ut(i,!0,!0)}),[e,n,t,r]}var[af,lf,U_,q_]=of();function Jo(e,t){const n=e?lf:af;return(r,s,i)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?r:Reflect.get(hn(n,s)&&s in r?n:r,s,i)}var cf={get:Jo(!1)},uf={get:Jo(!0)};function Zo(e,t,n){const r=V(n);if(r!==n&&t.call(e,r)){const s=zo(e);console.warn(`Reactive ${s} contains both the raw and reactive versions of the same object${s==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}var ea=new WeakMap,ff=new WeakMap,ta=new WeakMap,df=new WeakMap;function pf(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ef(e){return e.__v_skip||!Object.isExtensible(e)?0:pf(zo(e))}function zr(e){return e&&e.__v_isReadonly?e:ra(e,!1,rf,cf,ea)}function na(e){return ra(e,!0,sf,uf,ta)}function ra(e,t,n,r,s){if(!mn(e))return console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&!(t&&e.__v_isReactive))return e;const i=s.get(e);if(i)return i;const o=Ef(e);if(o===0)return e;const a=new Proxy(e,o===2?r:n);return s.set(e,a),a}function V(e){return e&&V(e.__v_raw)||e}function dr(e){return!!(e&&e.__v_isRef===!0)}Ie("nextTick",()=>Gr);Ie("dispatch",e=>Rt.bind(Rt,e));Ie("watch",(e,{evaluateLater:t,cleanup:n})=>(r,s)=>{let i=t(r),a=Zi(()=>{let l;return i(u=>l=u),l},s);n(a)});Ie("store",wu);Ie("data",e=>ao(e));Ie("root",e=>pn(e));Ie("refs",e=>(e._x_refs_proxy||(e._x_refs_proxy=Pt(_f(e))),e._x_refs_proxy));function _f(e){let t=[];return Lt(e,n=>{n._x_refs&&t.push(n._x_refs)}),t}var Mn={};function sa(e){return Mn[e]||(Mn[e]=0),++Mn[e]}function hf(e,t){return Lt(e,n=>{if(n._x_ids&&n._x_ids[t])return!0})}function mf(e,t){e._x_ids||(e._x_ids={}),e._x_ids[t]||(e._x_ids[t]=sa(t))}Ie("id",(e,{cleanup:t})=>(n,r=null)=>{let s=`${n}${r?`-${r}`:""}`;return gf(e,s,t,()=>{let i=hf(e,n),o=i?i._x_ids[n]:sa(n);return r?`${n}-${o}-${r}`:`${n}-${o}`})});_n((e,t)=>{e._x_id&&(t._x_id=e._x_id)});function gf(e,t,n,r){if(e._x_id||(e._x_id={}),e._x_id[t])return e._x_id[t];let s=r();return e._x_id[t]=s,n(()=>{delete e._x_id[t]}),s}Ie("el",e=>e);ia("Focus","focus","focus");ia("Persist","persist","persist");function ia(e,t,n){Ie(t,r=>pe(`You can't use [$${t}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${n}`,r))}z("modelable",(e,{expression:t},{effect:n,evaluateLater:r,cleanup:s})=>{let i=r(t),o=()=>{let c;return i(f=>c=f),c},a=r(`${t} = __placeholder`),l=c=>a(()=>{},{scope:{__placeholder:c}}),u=o();l(u),queueMicrotask(()=>{if(!e._x_model)return;e._x_removeModelListeners.default();let c=e._x_model.get,f=e._x_model.set,p=Vo({get(){return c()},set(h){f(h)}},{get(){return o()},set(h){l(h)}});s(p)})});z("teleport",(e,{modifiers:t,expression:n},{cleanup:r})=>{e.tagName.toLowerCase()!=="template"&&pe("x-teleport can only be used on a <template> tag",e);let s=Cs(n),i=e.content.cloneNode(!0).firstElementChild;e._x_teleport=i,i._x_teleportBack=e,e.setAttribute("data-teleport-template",!0),i.setAttribute("data-teleport-target",!0),e._x_forwardEvents&&e._x_forwardEvents.forEach(a=>{i.addEventListener(a,l=>{l.stopPropagation(),e.dispatchEvent(new l.constructor(l.type,l))})}),wt(i,{},e);let o=(a,l,u)=>{u.includes("prepend")?l.parentNode.insertBefore(a,l):u.includes("append")?l.parentNode.insertBefore(a,l.nextSibling):l.appendChild(a)};X(()=>{o(i,s,t),Ne(()=>{Oe(i),i._x_ignore=!0})()}),e._x_teleportPutBack=()=>{let a=Cs(n);X(()=>{o(e._x_teleport,a,t)})},r(()=>i.remove())});var Tf=document.createElement("div");function Cs(e){let t=Ne(()=>document.querySelector(e),()=>Tf)();return t||pe(`Cannot find x-teleport element for selector: "${e}"`),t}var oa=()=>{};oa.inline=(e,{modifiers:t},{cleanup:n})=>{t.includes("self")?e._x_ignoreSelf=!0:e._x_ignore=!0,n(()=>{t.includes("self")?delete e._x_ignoreSelf:delete e._x_ignore})};z("ignore",oa);z("effect",Ne((e,{expression:t},{effect:n})=>{n(ne(e,t))}));function pr(e,t,n,r){let s=e,i=l=>r(l),o={},a=(l,u)=>c=>u(l,c);if(n.includes("dot")&&(t=If(t)),n.includes("camel")&&(t=Rf(t)),n.includes("passive")&&(o.passive=!0),n.includes("capture")&&(o.capture=!0),n.includes("window")&&(s=window),n.includes("document")&&(s=document),n.includes("debounce")){let l=n[n.indexOf("debounce")+1]||"invalid-wait",u=nn(l.split("ms")[0])?Number(l.split("ms")[0]):250;i=Uo(i,u)}if(n.includes("throttle")){let l=n[n.indexOf("throttle")+1]||"invalid-wait",u=nn(l.split("ms")[0])?Number(l.split("ms")[0]):250;i=qo(i,u)}return n.includes("prevent")&&(i=a(i,(l,u)=>{u.preventDefault(),l(u)})),n.includes("stop")&&(i=a(i,(l,u)=>{u.stopPropagation(),l(u)})),n.includes("once")&&(i=a(i,(l,u)=>{l(u),s.removeEventListener(t,i,o)})),(n.includes("away")||n.includes("outside"))&&(s=document,i=a(i,(l,u)=>{e.contains(u.target)||u.target.isConnected!==!1&&(e.offsetWidth<1&&e.offsetHeight<1||e._x_isShown!==!1&&l(u))})),n.includes("self")&&(i=a(i,(l,u)=>{u.target===e&&l(u)})),(Of(t)||aa(t))&&(i=a(i,(l,u)=>{Sf(u,n)||l(u)})),s.addEventListener(t,i,o),()=>{s.removeEventListener(t,i,o)}}function If(e){return e.replace(/-/g,".")}function Rf(e){return e.toLowerCase().replace(/-(\w)/g,(t,n)=>n.toUpperCase())}function nn(e){return!Array.isArray(e)&&!isNaN(e)}function yf(e){return[" ","_"].includes(e)?e:e.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}function Of(e){return["keydown","keyup"].includes(e)}function aa(e){return["contextmenu","click","mouse"].some(t=>e.includes(t))}function Sf(e,t){let n=t.filter(i=>!["window","document","prevent","stop","once","capture","self","away","outside","passive"].includes(i));if(n.includes("debounce")){let i=n.indexOf("debounce");n.splice(i,nn((n[i+1]||"invalid-wait").split("ms")[0])?2:1)}if(n.includes("throttle")){let i=n.indexOf("throttle");n.splice(i,nn((n[i+1]||"invalid-wait").split("ms")[0])?2:1)}if(n.length===0||n.length===1&&vs(e.key).includes(n[0]))return!1;const s=["ctrl","shift","alt","meta","cmd","super"].filter(i=>n.includes(i));return n=n.filter(i=>!s.includes(i)),!(s.length>0&&s.filter(o=>((o==="cmd"||o==="super")&&(o="meta"),e[`${o}Key`])).length===s.length&&(aa(e.type)||vs(e.key).includes(n[0])))}function vs(e){if(!e)return[];e=yf(e);let t={ctrl:"control",slash:"/",space:" ",spacebar:" ",cmd:"meta",esc:"escape",up:"arrow-up",down:"arrow-down",left:"arrow-left",right:"arrow-right",period:".",comma:",",equal:"=",minus:"-",underscore:"_"};return t[e]=e,Object.keys(t).map(n=>{if(t[n]===e)return n}).filter(n=>n)}z("model",(e,{modifiers:t,expression:n},{effect:r,cleanup:s})=>{let i=e;t.includes("parent")&&(i=e.parentNode);let o=ne(i,n),a;typeof n=="string"?a=ne(i,`${n} = __placeholder`):typeof n=="function"&&typeof n()=="string"?a=ne(i,`${n()} = __placeholder`):a=()=>{};let l=()=>{let p;return o(h=>p=h),Ms(p)?p.get():p},u=p=>{let h;o(d=>h=d),Ms(h)?h.set(p):a(()=>{},{scope:{__placeholder:p}})};typeof n=="string"&&e.type==="radio"&&X(()=>{e.hasAttribute("name")||e.setAttribute("name",n)});var c=e.tagName.toLowerCase()==="select"||["checkbox","radio"].includes(e.type)||t.includes("lazy")?"change":"input";let f=ve?()=>{}:pr(e,c,t,p=>{u(Nn(e,t,p,l()))});if(t.includes("fill")&&([void 0,null,""].includes(l())||e.type==="checkbox"&&Array.isArray(l())||e.tagName.toLowerCase()==="select"&&e.multiple)&&u(Nn(e,t,{target:e},l())),e._x_removeModelListeners||(e._x_removeModelListeners={}),e._x_removeModelListeners.default=f,s(()=>e._x_removeModelListeners.default()),e.form){let p=pr(e.form,"reset",[],h=>{Gr(()=>e._x_model&&e._x_model.set(Nn(e,t,{target:e},l())))});s(()=>p())}e._x_model={get(){return l()},set(p){u(p)}},e._x_forceModelUpdate=p=>{p===void 0&&typeof n=="string"&&n.match(/\./)&&(p=""),window.fromModel=!0,X(()=>xo(e,"value",p)),delete window.fromModel},r(()=>{let p=l();t.includes("unintrusive")&&document.activeElement.isSameNode(e)||e._x_forceModelUpdate(p)})});function Nn(e,t,n,r){return X(()=>{if(n instanceof CustomEvent&&n.detail!==void 0)return n.detail!==null&&n.detail!==void 0?n.detail:n.target.value;if(e.type==="checkbox")if(Array.isArray(r)){let s=null;return t.includes("number")?s=xn(n.target.value):t.includes("boolean")?s=Xt(n.target.value):s=n.target.value,n.target.checked?r.includes(s)?r:r.concat([s]):r.filter(i=>!bf(i,s))}else return n.target.checked;else{if(e.tagName.toLowerCase()==="select"&&e.multiple)return t.includes("number")?Array.from(n.target.selectedOptions).map(s=>{let i=s.value||s.text;return xn(i)}):t.includes("boolean")?Array.from(n.target.selectedOptions).map(s=>{let i=s.value||s.text;return Xt(i)}):Array.from(n.target.selectedOptions).map(s=>s.value||s.text);{let s;return e.type==="radio"?n.target.checked?s=n.target.value:s=r:s=n.target.value,t.includes("number")?xn(s):t.includes("boolean")?Xt(s):t.includes("trim")?s.trim():s}}})}function xn(e){let t=e?parseFloat(e):null;return Af(t)?t:e}function bf(e,t){return e==t}function Af(e){return!Array.isArray(e)&&!isNaN(e)}function Ms(e){return e!==null&&typeof e=="object"&&typeof e.get=="function"&&typeof e.set=="function"}z("cloak",e=>queueMicrotask(()=>X(()=>e.removeAttribute(ft("cloak")))));wo(()=>`[${ft("init")}]`);z("init",Ne((e,{expression:t},{evaluate:n})=>typeof t=="string"?!!t.trim()&&n(t,{},!1):n(t,{},!1)));z("text",(e,{expression:t},{effect:n,evaluateLater:r})=>{let s=r(t);n(()=>{s(i=>{X(()=>{e.textContent=i})})})});z("html",(e,{expression:t},{effect:n,evaluateLater:r})=>{let s=r(t);n(()=>{s(i=>{X(()=>{e.innerHTML=i,e._x_ignoreSelf=!0,Oe(e),delete e._x_ignoreSelf})})})});xr(go(":",To(ft("bind:"))));var la=(e,{value:t,modifiers:n,expression:r,original:s},{effect:i,cleanup:o})=>{if(!t){let l={};Lu(l),ne(e,r)(c=>{Ho(e,c,s)},{scope:l});return}if(t==="key")return Df(e,r);if(e._x_inlineBindings&&e._x_inlineBindings[t]&&e._x_inlineBindings[t].extract)return;let a=ne(e,r);i(()=>a(l=>{l===void 0&&typeof r=="string"&&r.match(/\./)&&(l=""),X(()=>xo(e,t,l,n))})),o(()=>{e._x_undoAddedClasses&&e._x_undoAddedClasses(),e._x_undoAddedStyles&&e._x_undoAddedStyles()})};la.inline=(e,{value:t,modifiers:n,expression:r})=>{t&&(e._x_inlineBindings||(e._x_inlineBindings={}),e._x_inlineBindings[t]={expression:r,extract:!1})};z("bind",la);function Df(e,t){e._x_keyExpression=t}Do(()=>`[${ft("data")}]`);z("data",(e,{expression:t},{cleanup:n})=>{if(wf(e))return;t=t===""?"{}":t;let r={};nr(r,e);let s={};vu(s,r);let i=He(e,t,{scope:s});(i===void 0||i===!0)&&(i={}),nr(i,e);let o=ct(i);lo(o);let a=wt(e,o);o.init&&He(e,o.init),n(()=>{o.destroy&&He(e,o.destroy),a()})});_n((e,t)=>{e._x_dataStack&&(t._x_dataStack=e._x_dataStack,t.setAttribute("data-has-alpine-state",!0))});function wf(e){return ve?cr?!0:e.hasAttribute("data-has-alpine-state"):!1}z("show",(e,{modifiers:t,expression:n},{effect:r})=>{let s=ne(e,n);e._x_doHide||(e._x_doHide=()=>{X(()=>{e.style.setProperty("display","none",t.includes("important")?"important":void 0)})}),e._x_doShow||(e._x_doShow=()=>{X(()=>{e.style.length===1&&e.style.display==="none"?e.removeAttribute("style"):e.style.removeProperty("display")})});let i=()=>{e._x_doHide(),e._x_isShown=!1},o=()=>{e._x_doShow(),e._x_isShown=!0},a=()=>setTimeout(o),l=ar(f=>f?o():i(),f=>{typeof e._x_toggleAndCascadeWithTransitions=="function"?e._x_toggleAndCascadeWithTransitions(e,f,o,i):f?a():i()}),u,c=!0;r(()=>s(f=>{!c&&f===u||(t.includes("immediate")&&(f?a():i()),l(f),u=f,c=!1)}))});z("for",(e,{expression:t},{effect:n,cleanup:r})=>{let s=Lf(t),i=ne(e,s.items),o=ne(e,e._x_keyExpression||"index");e._x_prevKeys=[],e._x_lookup={},n(()=>Pf(e,s,i,o)),r(()=>{Object.values(e._x_lookup).forEach(a=>a.remove()),delete e._x_prevKeys,delete e._x_lookup})});function Pf(e,t,n,r){let s=o=>typeof o=="object"&&!Array.isArray(o),i=e;n(o=>{Cf(o)&&o>=0&&(o=Array.from(Array(o).keys(),E=>E+1)),o===void 0&&(o=[]);let a=e._x_lookup,l=e._x_prevKeys,u=[],c=[];if(s(o))o=Object.entries(o).map(([E,g])=>{let I=Ns(t,g,E,o);r(y=>{c.includes(y)&&pe("Duplicate key on x-for",e),c.push(y)},{scope:{index:E,...I}}),u.push(I)});else for(let E=0;E<o.length;E++){let g=Ns(t,o[E],E,o);r(I=>{c.includes(I)&&pe("Duplicate key on x-for",e),c.push(I)},{scope:{index:E,...g}}),u.push(g)}let f=[],p=[],h=[],d=[];for(let E=0;E<l.length;E++){let g=l[E];c.indexOf(g)===-1&&h.push(g)}l=l.filter(E=>!h.includes(E));let _="template";for(let E=0;E<c.length;E++){let g=c[E],I=l.indexOf(g);if(I===-1)l.splice(E,0,g),f.push([_,E]);else if(I!==E){let y=l.splice(E,1)[0],A=l.splice(I-1,1)[0];l.splice(E,0,A),l.splice(I,0,y),p.push([y,A])}else d.push(g);_=g}for(let E=0;E<h.length;E++){let g=h[E];a[g]._x_effects&&a[g]._x_effects.forEach(Qi),a[g].remove(),a[g]=null,delete a[g]}for(let E=0;E<p.length;E++){let[g,I]=p[E],y=a[g],A=a[I],b=document.createElement("div");X(()=>{A||pe('x-for ":key" is undefined or invalid',i,I,a),A.after(b),y.after(A),A._x_currentIfEl&&A.after(A._x_currentIfEl),b.before(y),y._x_currentIfEl&&y.after(y._x_currentIfEl),b.remove()}),A._x_refreshXForScope(u[c.indexOf(I)])}for(let E=0;E<f.length;E++){let[g,I]=f[E],y=g==="template"?i:a[g];y._x_currentIfEl&&(y=y._x_currentIfEl);let A=u[I],b=c[I],w=document.importNode(i.content,!0).firstElementChild,B=ct(A);wt(w,B,i),w._x_refreshXForScope=D=>{Object.entries(D).forEach(([P,G])=>{B[P]=G})},X(()=>{y.after(w),Ne(()=>Oe(w))()}),typeof b=="object"&&pe("x-for key cannot be an object, it must be a string or an integer",i),a[b]=w}for(let E=0;E<d.length;E++)a[d[E]]._x_refreshXForScope(u[c.indexOf(d[E])]);i._x_prevKeys=c})}function Lf(e){let t=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,n=/^\s*\(|\)\s*$/g,r=/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/,s=e.match(r);if(!s)return;let i={};i.items=s[2].trim();let o=s[1].replace(n,"").trim(),a=o.match(t);return a?(i.item=o.replace(t,"").trim(),i.index=a[1].trim(),a[2]&&(i.collection=a[2].trim())):i.item=o,i}function Ns(e,t,n,r){let s={};return/^\[.*\]$/.test(e.item)&&Array.isArray(t)?e.item.replace("[","").replace("]","").split(",").map(o=>o.trim()).forEach((o,a)=>{s[o]=t[a]}):/^\{.*\}$/.test(e.item)&&!Array.isArray(t)&&typeof t=="object"?e.item.replace("{","").replace("}","").split(",").map(o=>o.trim()).forEach(o=>{s[o]=t[o]}):s[e.item]=t,e.index&&(s[e.index]=n),e.collection&&(s[e.collection]=r),s}function Cf(e){return!Array.isArray(e)&&!isNaN(e)}function ca(){}ca.inline=(e,{expression:t},{cleanup:n})=>{let r=pn(e);r._x_refs||(r._x_refs={}),r._x_refs[t]=e,n(()=>delete r._x_refs[t])};z("ref",ca);z("if",(e,{expression:t},{effect:n,cleanup:r})=>{e.tagName.toLowerCase()!=="template"&&pe("x-if can only be used on a <template> tag",e);let s=ne(e,t),i=()=>{if(e._x_currentIfEl)return e._x_currentIfEl;let a=e.content.cloneNode(!0).firstElementChild;return wt(a,{},e),X(()=>{e.after(a),Ne(()=>Oe(a))()}),e._x_currentIfEl=a,e._x_undoIf=()=>{Ce(a,l=>{l._x_effects&&l._x_effects.forEach(Qi)}),a.remove(),delete e._x_currentIfEl},a},o=()=>{e._x_undoIf&&(e._x_undoIf(),delete e._x_undoIf)};n(()=>s(a=>{a?i():o()})),r(()=>e._x_undoIf&&e._x_undoIf())});z("id",(e,{expression:t},{evaluate:n})=>{n(t).forEach(s=>mf(e,s))});_n((e,t)=>{e._x_ids&&(t._x_ids=e._x_ids)});xr(go("@",To(ft("on:"))));z("on",Ne((e,{value:t,modifiers:n,expression:r},{cleanup:s})=>{let i=r?ne(e,r):()=>{};e.tagName.toLowerCase()==="template"&&(e._x_forwardEvents||(e._x_forwardEvents=[]),e._x_forwardEvents.includes(t)||e._x_forwardEvents.push(t));let o=pr(e,t,n,a=>{i(()=>{},{scope:{$event:a},params:[a]})});s(()=>o())}));Tn("Collapse","collapse","collapse");Tn("Intersect","intersect","intersect");Tn("Focus","trap","focus");Tn("Mask","mask","mask");function Tn(e,t,n){z(t,r=>pe(`You can't use [x-${t}] without first installing the "${e}" plugin here: https://alpinejs.dev/plugins/${n}`,r))}Ct.setEvaluator(Eo);Ct.setReactivityEngine({reactive:zr,effect:$u,release:Hu,raw:V});var vf=Ct,ua=vf;/*!
 * FilePond 4.32.1
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://pqina.nl/filepond/ for details.
 */const Mf=e=>e instanceof HTMLElement,Nf=(e,t=[],n=[])=>{const r={...e},s=[],i=[],o=()=>({...r}),a=()=>{const d=[...s];return s.length=0,d},l=()=>{const d=[...i];i.length=0,d.forEach(({type:_,data:E})=>{u(_,E)})},u=(d,_,E)=>{if(E&&!document.hidden){i.push({type:d,data:_});return}h[d]&&h[d](_),s.push({type:d,data:_})},c=(d,..._)=>p[d]?p[d](..._):null,f={getState:o,processActionQueue:a,processDispatchQueue:l,dispatch:u,query:c};let p={};t.forEach(d=>{p={...d(r),...p}});let h={};return n.forEach(d=>{h={...d(u,c,r),...h}}),f},xf=(e,t,n)=>{if(typeof n=="function"){e[t]=n;return}Object.defineProperty(e,t,{...n})},$=(e,t)=>{for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])},Le=e=>{const t={};return $(e,n=>{xf(t,n,e[n])}),t},K=(e,t,n=null)=>{if(n===null)return e.getAttribute(t)||e.hasAttribute(t);e.setAttribute(t,n)},Ff="http://www.w3.org/2000/svg",Bf=["svg","path"],xs=e=>Bf.includes(e),rn=(e,t,n={})=>{typeof t=="object"&&(n=t,t=null);const r=xs(e)?document.createElementNS(Ff,e):document.createElement(e);return t&&(xs(e)?K(r,"class",t):r.className=t),$(n,(s,i)=>{K(r,s,i)}),r},Gf=e=>(t,n)=>{typeof n<"u"&&e.children[n]?e.insertBefore(t,e.children[n]):e.appendChild(t)},Uf=(e,t)=>(n,r)=>(typeof r<"u"?t.splice(r,0,n):t.push(n),n),qf=(e,t)=>n=>(t.splice(t.indexOf(n),1),n.element.parentNode&&e.removeChild(n.element),n),Vf=typeof window<"u"&&typeof window.document<"u",fa=()=>Vf,$f=fa()?rn("svg"):{},Hf="children"in $f?e=>e.children.length:e=>e.childNodes.length,da=(e,t,n,r)=>{const s=n[0]||e.left,i=n[1]||e.top,o=s+e.width,a=i+e.height*(r[1]||1),l={element:{...e},inner:{left:e.left,top:e.top,right:e.right,bottom:e.bottom},outer:{left:s,top:i,right:o,bottom:a}};return t.filter(u=>!u.isRectIgnored()).map(u=>u.rect).forEach(u=>{Fs(l.inner,{...u.inner}),Fs(l.outer,{...u.outer})}),Bs(l.inner),l.outer.bottom+=l.element.marginBottom,l.outer.right+=l.element.marginRight,Bs(l.outer),l},Fs=(e,t)=>{t.top+=e.top,t.right+=e.left,t.bottom+=e.top,t.left+=e.left,t.bottom>e.bottom&&(e.bottom=t.bottom),t.right>e.right&&(e.right=t.right)},Bs=e=>{e.width=e.right-e.left,e.height=e.bottom-e.top},Ge=e=>typeof e=="number",jf=(e,t,n,r=.001)=>Math.abs(e-t)<r&&Math.abs(n)<r,kf=({stiffness:e=.5,damping:t=.75,mass:n=10}={})=>{let r=null,s=null,i=0,o=!1;const u=Le({interpolate:(c,f)=>{if(o)return;if(!(Ge(r)&&Ge(s))){o=!0,i=0;return}const p=-(s-r)*e;i+=p/n,s+=i,i*=t,jf(s,r,i)||f?(s=r,i=0,o=!0,u.onupdate(s),u.oncomplete(s)):u.onupdate(s)},target:{set:c=>{if(Ge(c)&&!Ge(s)&&(s=c),r===null&&(r=c,s=c),r=c,s===r||typeof r>"u"){o=!0,i=0,u.onupdate(s),u.oncomplete(s);return}o=!1},get:()=>r},resting:{get:()=>o},onupdate:c=>{},oncomplete:c=>{}});return u},zf=e=>e<.5?2*e*e:-1+(4-2*e)*e,Yf=({duration:e=500,easing:t=zf,delay:n=0}={})=>{let r=null,s,i,o=!0,a=!1,l=null;const c=Le({interpolate:(f,p)=>{o||l===null||(r===null&&(r=f),!(f-r<n)&&(s=f-r-n,s>=e||p?(s=1,i=a?0:1,c.onupdate(i*l),c.oncomplete(i*l),o=!0):(i=s/e,c.onupdate((s>=0?t(a?1-i:i):0)*l))))},target:{get:()=>a?0:l,set:f=>{if(l===null){l=f,c.onupdate(f),c.oncomplete(f);return}f<l?(l=1,a=!0):(a=!1,l=f),o=!1,r=null}},resting:{get:()=>o},onupdate:f=>{},oncomplete:f=>{}});return c},Gs={spring:kf,tween:Yf},Wf=(e,t,n)=>{const r=e[t]&&typeof e[t][n]=="object"?e[t][n]:e[t]||e,s=typeof r=="string"?r:r.type,i=typeof r=="object"?{...r}:{};return Gs[s]?Gs[s](i):null},Yr=(e,t,n,r=!1)=>{t=Array.isArray(t)?t:[t],t.forEach(s=>{e.forEach(i=>{let o=i,a=()=>n[i],l=u=>n[i]=u;typeof i=="object"&&(o=i.key,a=i.getter||a,l=i.setter||l),!(s[o]&&!r)&&(s[o]={get:a,set:l})})})},Xf=({mixinConfig:e,viewProps:t,viewInternalAPI:n,viewExternalAPI:r})=>{const s={...t},i=[];return $(e,(o,a)=>{const l=Wf(a);if(!l)return;l.onupdate=c=>{t[o]=c},l.target=s[o],Yr([{key:o,setter:c=>{l.target!==c&&(l.target=c)},getter:()=>t[o]}],[n,r],t,!0),i.push(l)}),{write:o=>{let a=document.hidden,l=!0;return i.forEach(u=>{u.resting||(l=!1),u.interpolate(o,a)}),l},destroy:()=>{}}},Kf=e=>(t,n)=>{e.addEventListener(t,n)},Qf=e=>(t,n)=>{e.removeEventListener(t,n)},Jf=({mixinConfig:e,viewProps:t,viewInternalAPI:n,viewExternalAPI:r,viewState:s,view:i})=>{const o=[],a=Kf(i.element),l=Qf(i.element);return r.on=(u,c)=>{o.push({type:u,fn:c}),a(u,c)},r.off=(u,c)=>{o.splice(o.findIndex(f=>f.type===u&&f.fn===c),1),l(u,c)},{write:()=>!0,destroy:()=>{o.forEach(u=>{l(u.type,u.fn)})}}},Zf=({mixinConfig:e,viewProps:t,viewExternalAPI:n})=>{Yr(e,n,t)},te=e=>e!=null,ed={opacity:1,scaleX:1,scaleY:1,translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,originX:0,originY:0},td=({mixinConfig:e,viewProps:t,viewInternalAPI:n,viewExternalAPI:r,view:s})=>{const i={...t},o={};Yr(e,[n,r],t);const a=()=>[t.translateX||0,t.translateY||0],l=()=>[t.scaleX||0,t.scaleY||0],u=()=>s.rect?da(s.rect,s.childViews,a(),l()):null;return n.rect={get:u},r.rect={get:u},e.forEach(c=>{t[c]=typeof i[c]>"u"?ed[c]:i[c]}),{write:()=>{if(nd(o,t))return rd(s.element,t),Object.assign(o,{...t}),!0},destroy:()=>{}}},nd=(e,t)=>{if(Object.keys(e).length!==Object.keys(t).length)return!0;for(const n in t)if(t[n]!==e[n])return!0;return!1},rd=(e,{opacity:t,perspective:n,translateX:r,translateY:s,scaleX:i,scaleY:o,rotateX:a,rotateY:l,rotateZ:u,originX:c,originY:f,width:p,height:h})=>{let d="",_="";(te(c)||te(f))&&(_+=`transform-origin: ${c||0}px ${f||0}px;`),te(n)&&(d+=`perspective(${n}px) `),(te(r)||te(s))&&(d+=`translate3d(${r||0}px, ${s||0}px, 0) `),(te(i)||te(o))&&(d+=`scale3d(${te(i)?i:1}, ${te(o)?o:1}, 1) `),te(u)&&(d+=`rotateZ(${u}rad) `),te(a)&&(d+=`rotateX(${a}rad) `),te(l)&&(d+=`rotateY(${l}rad) `),d.length&&(_+=`transform:${d};`),te(t)&&(_+=`opacity:${t};`,t===0&&(_+="visibility:hidden;"),t<1&&(_+="pointer-events:none;")),te(h)&&(_+=`height:${h}px;`),te(p)&&(_+=`width:${p}px;`);const E=e.elementCurrentStyle||"";(_.length!==E.length||_!==E)&&(e.style.cssText=_,e.elementCurrentStyle=_)},sd={styles:td,listeners:Jf,animations:Xf,apis:Zf},Us=(e={},t={},n={})=>(t.layoutCalculated||(e.paddingTop=parseInt(n.paddingTop,10)||0,e.marginTop=parseInt(n.marginTop,10)||0,e.marginRight=parseInt(n.marginRight,10)||0,e.marginBottom=parseInt(n.marginBottom,10)||0,e.marginLeft=parseInt(n.marginLeft,10)||0,t.layoutCalculated=!0),e.left=t.offsetLeft||0,e.top=t.offsetTop||0,e.width=t.offsetWidth||0,e.height=t.offsetHeight||0,e.right=e.left+e.width,e.bottom=e.top+e.height,e.scrollTop=t.scrollTop,e.hidden=t.offsetParent===null,e),Y=({tag:e="div",name:t=null,attributes:n={},read:r=()=>{},write:s=()=>{},create:i=()=>{},destroy:o=()=>{},filterFrameActionsForChild:a=(h,d)=>d,didCreateView:l=()=>{},didWriteView:u=()=>{},ignoreRect:c=!1,ignoreRectUpdate:f=!1,mixins:p=[]}={})=>(h,d={})=>{const _=rn(e,`filepond--${t}`,n),E=window.getComputedStyle(_,null),g=Us();let I=null,y=!1;const A=[],b=[],w={},B={},D=[s],P=[r],G=[o],L=()=>_,x=()=>A.concat(),Z=()=>w,O=U=>(ee,ye)=>ee(U,ye),q=()=>I||(I=da(g,A,[0,0],[1,1]),I),R=()=>E,S=()=>{I=null,A.forEach(ye=>ye._read()),!(f&&g.width&&g.height)&&Us(g,_,E);const ee={root:Ae,props:d,rect:g};P.forEach(ye=>ye(ee))},C=(U,ee,ye)=>{let et=ee.length===0;return D.forEach(ie=>{ie({props:d,root:Ae,actions:ee,timestamp:U,shouldOptimize:ye})===!1&&(et=!1)}),b.forEach(ie=>{ie.write(U)===!1&&(et=!1)}),A.filter(ie=>!!ie.element.parentNode).forEach(ie=>{ie._write(U,a(ie,ee),ye)||(et=!1)}),A.forEach((ie,Nt)=>{ie.element.parentNode||(Ae.appendChild(ie.element,Nt),ie._read(),ie._write(U,a(ie,ee),ye),et=!1)}),y=et,u({props:d,root:Ae,actions:ee,timestamp:U}),et},v=()=>{b.forEach(U=>U.destroy()),G.forEach(U=>{U({root:Ae,props:d})}),A.forEach(U=>U._destroy())},W={element:{get:L},style:{get:R},childViews:{get:x}},F={...W,rect:{get:q},ref:{get:Z},is:U=>t===U,appendChild:Gf(_),createChildView:O(h),linkView:U=>(A.push(U),U),unlinkView:U=>{A.splice(A.indexOf(U),1)},appendChildView:Uf(_,A),removeChildView:qf(_,A),registerWriter:U=>D.push(U),registerReader:U=>P.push(U),registerDestroyer:U=>G.push(U),invalidateLayout:()=>_.layoutCalculated=!1,dispatch:h.dispatch,query:h.query},Mt={element:{get:L},childViews:{get:x},rect:{get:q},resting:{get:()=>y},isRectIgnored:()=>c,_read:S,_write:C,_destroy:v},os={...W,rect:{get:()=>g}};Object.keys(p).sort((U,ee)=>U==="styles"?1:ee==="styles"?-1:0).forEach(U=>{const ee=sd[U]({mixinConfig:p[U],viewProps:d,viewState:B,viewInternalAPI:F,viewExternalAPI:Mt,view:Le(os)});ee&&b.push(ee)});const Ae=Le(F);i({root:Ae,props:d});const Qa=Hf(_);return A.forEach((U,ee)=>{Ae.appendChild(U.element,Qa+ee)}),l(Ae),Le(Mt)},id=(e,t,n=60)=>{const r="__framePainter";if(window[r]){window[r].readers.push(e),window[r].writers.push(t);return}window[r]={readers:[e],writers:[t]};const s=window[r],i=1e3/n;let o=null,a=null,l=null,u=null;const c=()=>{document.hidden?(l=()=>window.setTimeout(()=>f(performance.now()),i),u=()=>window.clearTimeout(a)):(l=()=>window.requestAnimationFrame(f),u=()=>window.cancelAnimationFrame(a))};document.addEventListener("visibilitychange",()=>{u&&u(),c(),f(performance.now())});const f=p=>{a=l(f),o||(o=p);const h=p-o;h<=i||(o=p-h%i,s.readers.forEach(d=>d()),s.writers.forEach(d=>d(p)))};return c(),f(performance.now()),{pause:()=>{u(a)}}},se=(e,t)=>({root:n,props:r,actions:s=[],timestamp:i,shouldOptimize:o})=>{s.filter(a=>e[a.type]).forEach(a=>e[a.type]({root:n,props:r,action:a.data,timestamp:i,shouldOptimize:o})),t&&t({root:n,props:r,actions:s,timestamp:i,shouldOptimize:o})},qs=(e,t)=>t.parentNode.insertBefore(e,t),Vs=(e,t)=>t.parentNode.insertBefore(e,t.nextSibling),In=e=>Array.isArray(e),Se=e=>e==null,od=e=>e.trim(),Rn=e=>""+e,ad=(e,t=",")=>Se(e)?[]:In(e)?e:Rn(e).split(t).map(od).filter(n=>n.length),pa=e=>typeof e=="boolean",Ea=e=>pa(e)?e:e==="true",re=e=>typeof e=="string",_a=e=>Ge(e)?e:re(e)?Rn(e).replace(/[a-z]+/gi,""):0,Kt=e=>parseInt(_a(e),10),$s=e=>parseFloat(_a(e)),dt=e=>Ge(e)&&isFinite(e)&&Math.floor(e)===e,Hs=(e,t=1e3)=>{if(dt(e))return e;let n=Rn(e).trim();return/MB$/i.test(n)?(n=n.replace(/MB$i/,"").trim(),Kt(n)*t*t):/KB/i.test(n)?(n=n.replace(/KB$i/,"").trim(),Kt(n)*t):Kt(n)},Ue=e=>typeof e=="function",ld=e=>{let t=self,n=e.split("."),r=null;for(;r=n.shift();)if(t=t[r],!t)return null;return t},js={process:"POST",patch:"PATCH",revert:"DELETE",fetch:"GET",restore:"GET",load:"GET"},cd=e=>{const t={};return t.url=re(e)?e:e.url||"",t.timeout=e.timeout?parseInt(e.timeout,10):0,t.headers=e.headers?e.headers:{},$(js,n=>{t[n]=ud(n,e[n],js[n],t.timeout,t.headers)}),t.process=e.process||re(e)||e.url?t.process:null,t.remove=e.remove||null,delete t.headers,t},ud=(e,t,n,r,s)=>{if(t===null)return null;if(typeof t=="function")return t;const i={url:n==="GET"||n==="PATCH"?`?${e}=`:"",method:n,headers:s,withCredentials:!1,timeout:r,onload:null,ondata:null,onerror:null};if(re(t))return i.url=t,i;if(Object.assign(i,t),re(i.headers)){const o=i.headers.split(/:(.+)/);i.headers={header:o[0],value:o[1]}}return i.withCredentials=Ea(i.withCredentials),i},fd=e=>cd(e),dd=e=>e===null,J=e=>typeof e=="object"&&e!==null,pd=e=>J(e)&&re(e.url)&&J(e.process)&&J(e.revert)&&J(e.restore)&&J(e.fetch),Er=e=>In(e)?"array":dd(e)?"null":dt(e)?"int":/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(e)?"bytes":pd(e)?"api":typeof e,Ed=e=>e.replace(/{\s*'/g,'{"').replace(/'\s*}/g,'"}').replace(/'\s*:/g,'":').replace(/:\s*'/g,':"').replace(/,\s*'/g,',"').replace(/'\s*,/g,'",'),_d={array:ad,boolean:Ea,int:e=>Er(e)==="bytes"?Hs(e):Kt(e),number:$s,float:$s,bytes:Hs,string:e=>Ue(e)?e:Rn(e),function:e=>ld(e),serverapi:fd,object:e=>{try{return JSON.parse(Ed(e))}catch{return null}}},hd=(e,t)=>_d[t](e),ha=(e,t,n)=>{if(e===t)return e;let r=Er(e);if(r!==n){const s=hd(e,n);if(r=Er(s),s===null)throw`Trying to assign value with incorrect type to "${option}", allowed type: "${n}"`;e=s}return e},md=(e,t)=>{let n=e;return{enumerable:!0,get:()=>n,set:r=>{n=ha(r,e,t)}}},gd=e=>{const t={};return $(e,n=>{const r=e[n];t[n]=md(r[0],r[1])}),Le(t)},Td=e=>({items:[],listUpdateTimeout:null,itemUpdateTimeout:null,processingQueue:[],options:gd(e)}),yn=(e,t="-")=>e.split(/(?=[A-Z])/).map(n=>n.toLowerCase()).join(t),Id=(e,t)=>{const n={};return $(t,r=>{n[r]={get:()=>e.getState().options[r],set:s=>{e.dispatch(`SET_${yn(r,"_").toUpperCase()}`,{value:s})}}}),n},Rd=e=>(t,n,r)=>{const s={};return $(e,i=>{const o=yn(i,"_").toUpperCase();s[`SET_${o}`]=a=>{try{r.options[i]=a.value}catch{}t(`DID_SET_${o}`,{value:r.options[i]})}}),s},yd=e=>t=>{const n={};return $(e,r=>{n[`GET_${yn(r,"_").toUpperCase()}`]=s=>t.options[r]}),n},Ee={API:1,DROP:2,BROWSE:3,PASTE:4,NONE:5},Wr=()=>Math.random().toString(36).substring(2,11),Xr=(e,t)=>e.splice(t,1),Od=(e,t)=>{t?e():document.hidden?Promise.resolve(1).then(e):setTimeout(e,0)},On=()=>{const e=[],t=(r,s)=>{Xr(e,e.findIndex(i=>i.event===r&&(i.cb===s||!s)))},n=(r,s,i)=>{e.filter(o=>o.event===r).map(o=>o.cb).forEach(o=>Od(()=>o(...s),i))};return{fireSync:(r,...s)=>{n(r,s,!0)},fire:(r,...s)=>{n(r,s,!1)},on:(r,s)=>{e.push({event:r,cb:s})},onOnce:(r,s)=>{e.push({event:r,cb:(...i)=>{t(r,s),s(...i)}})},off:t}},ma=(e,t,n)=>{Object.getOwnPropertyNames(e).filter(r=>!n.includes(r)).forEach(r=>Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r)))},Sd=["fire","process","revert","load","on","off","onOnce","retryLoad","extend","archive","archived","release","released","requestProcessing","freeze"],oe=e=>{const t={};return ma(e,t,Sd),t},bd=e=>{e.forEach((t,n)=>{t.released&&Xr(e,n)})},M={INIT:1,IDLE:2,PROCESSING_QUEUED:9,PROCESSING:3,PROCESSING_COMPLETE:5,PROCESSING_ERROR:6,PROCESSING_REVERT_ERROR:10,LOADING:7,LOAD_ERROR:8},Q={INPUT:1,LIMBO:2,LOCAL:3},ga=e=>/[^0-9]+/.exec(e),Ta=()=>ga(1.1.toLocaleString())[0],Ad=()=>{const e=Ta(),t=1e3.toLocaleString();return t!=="1000"?ga(t)[0]:e==="."?",":"."},T={BOOLEAN:"boolean",INT:"int",NUMBER:"number",STRING:"string",ARRAY:"array",OBJECT:"object",FUNCTION:"function",ACTION:"action",SERVER_API:"serverapi",REGEX:"regex"},Kr=[],_e=(e,t,n)=>new Promise((r,s)=>{const i=Kr.filter(a=>a.key===e).map(a=>a.cb);if(i.length===0){r(t);return}const o=i.shift();i.reduce((a,l)=>a.then(u=>l(u,n)),o(t,n)).then(a=>r(a)).catch(a=>s(a))}),Je=(e,t,n)=>Kr.filter(r=>r.key===e).map(r=>r.cb(t,n)),Dd=(e,t)=>Kr.push({key:e,cb:t}),wd=e=>Object.assign(tt,e),sn=()=>({...tt}),Pd=e=>{$(e,(t,n)=>{tt[t]&&(tt[t][0]=ha(n,tt[t][0],tt[t][1]))})},tt={id:[null,T.STRING],name:["filepond",T.STRING],disabled:[!1,T.BOOLEAN],className:[null,T.STRING],required:[!1,T.BOOLEAN],captureMethod:[null,T.STRING],allowSyncAcceptAttribute:[!0,T.BOOLEAN],allowDrop:[!0,T.BOOLEAN],allowBrowse:[!0,T.BOOLEAN],allowPaste:[!0,T.BOOLEAN],allowMultiple:[!1,T.BOOLEAN],allowReplace:[!0,T.BOOLEAN],allowRevert:[!0,T.BOOLEAN],allowRemove:[!0,T.BOOLEAN],allowProcess:[!0,T.BOOLEAN],allowReorder:[!1,T.BOOLEAN],allowDirectoriesOnly:[!1,T.BOOLEAN],storeAsFile:[!1,T.BOOLEAN],forceRevert:[!1,T.BOOLEAN],maxFiles:[null,T.INT],checkValidity:[!1,T.BOOLEAN],itemInsertLocationFreedom:[!0,T.BOOLEAN],itemInsertLocation:["before",T.STRING],itemInsertInterval:[75,T.INT],dropOnPage:[!1,T.BOOLEAN],dropOnElement:[!0,T.BOOLEAN],dropValidation:[!1,T.BOOLEAN],ignoredFiles:[[".ds_store","thumbs.db","desktop.ini"],T.ARRAY],instantUpload:[!0,T.BOOLEAN],maxParallelUploads:[2,T.INT],allowMinimumUploadDuration:[!0,T.BOOLEAN],chunkUploads:[!1,T.BOOLEAN],chunkForce:[!1,T.BOOLEAN],chunkSize:[5e6,T.INT],chunkRetryDelays:[[500,1e3,3e3],T.ARRAY],server:[null,T.SERVER_API],fileSizeBase:[1e3,T.INT],labelFileSizeBytes:["bytes",T.STRING],labelFileSizeKilobytes:["KB",T.STRING],labelFileSizeMegabytes:["MB",T.STRING],labelFileSizeGigabytes:["GB",T.STRING],labelDecimalSeparator:[Ta(),T.STRING],labelThousandsSeparator:[Ad(),T.STRING],labelIdle:['Drag & Drop your files or <span class="filepond--label-action">Browse</span>',T.STRING],labelInvalidField:["Field contains invalid files",T.STRING],labelFileWaitingForSize:["Waiting for size",T.STRING],labelFileSizeNotAvailable:["Size not available",T.STRING],labelFileCountSingular:["file in list",T.STRING],labelFileCountPlural:["files in list",T.STRING],labelFileLoading:["Loading",T.STRING],labelFileAdded:["Added",T.STRING],labelFileLoadError:["Error during load",T.STRING],labelFileRemoved:["Removed",T.STRING],labelFileRemoveError:["Error during remove",T.STRING],labelFileProcessing:["Uploading",T.STRING],labelFileProcessingComplete:["Upload complete",T.STRING],labelFileProcessingAborted:["Upload cancelled",T.STRING],labelFileProcessingError:["Error during upload",T.STRING],labelFileProcessingRevertError:["Error during revert",T.STRING],labelTapToCancel:["tap to cancel",T.STRING],labelTapToRetry:["tap to retry",T.STRING],labelTapToUndo:["tap to undo",T.STRING],labelButtonRemoveItem:["Remove",T.STRING],labelButtonAbortItemLoad:["Abort",T.STRING],labelButtonRetryItemLoad:["Retry",T.STRING],labelButtonAbortItemProcessing:["Cancel",T.STRING],labelButtonUndoItemProcessing:["Undo",T.STRING],labelButtonRetryItemProcessing:["Retry",T.STRING],labelButtonProcessItem:["Upload",T.STRING],iconRemove:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z" fill="currentColor" fill-rule="nonzero"/></svg>',T.STRING],iconProcess:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z" fill="currentColor" fill-rule="evenodd"/></svg>',T.STRING],iconRetry:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z" fill="currentColor" fill-rule="nonzero"/></svg>',T.STRING],iconUndo:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z" fill="currentColor" fill-rule="nonzero"/></svg>',T.STRING],iconDone:['<svg width="26" height="26" viewBox="0 0 26 26" xmlns="http://www.w3.org/2000/svg"><path d="M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z" fill="currentColor" fill-rule="nonzero"/></svg>',T.STRING],oninit:[null,T.FUNCTION],onwarning:[null,T.FUNCTION],onerror:[null,T.FUNCTION],onactivatefile:[null,T.FUNCTION],oninitfile:[null,T.FUNCTION],onaddfilestart:[null,T.FUNCTION],onaddfileprogress:[null,T.FUNCTION],onaddfile:[null,T.FUNCTION],onprocessfilestart:[null,T.FUNCTION],onprocessfileprogress:[null,T.FUNCTION],onprocessfileabort:[null,T.FUNCTION],onprocessfilerevert:[null,T.FUNCTION],onprocessfile:[null,T.FUNCTION],onprocessfiles:[null,T.FUNCTION],onremovefile:[null,T.FUNCTION],onpreparefile:[null,T.FUNCTION],onupdatefiles:[null,T.FUNCTION],onreorderfiles:[null,T.FUNCTION],beforeDropFile:[null,T.FUNCTION],beforeAddFile:[null,T.FUNCTION],beforeRemoveFile:[null,T.FUNCTION],beforePrepareFile:[null,T.FUNCTION],stylePanelLayout:[null,T.STRING],stylePanelAspectRatio:[null,T.STRING],styleItemPanelAspectRatio:[null,T.STRING],styleButtonRemoveItemPosition:["left",T.STRING],styleButtonProcessItemPosition:["right",T.STRING],styleLoadIndicatorPosition:["right",T.STRING],styleProgressIndicatorPosition:["right",T.STRING],styleButtonRemoveItemAlign:[!1,T.BOOLEAN],files:[[],T.ARRAY],credits:[["https://pqina.nl/","Powered by PQINA"],T.ARRAY]},qe=(e,t)=>Se(t)?e[0]||null:dt(t)?e[t]||null:(typeof t=="object"&&(t=t.id),e.find(n=>n.id===t)||null),Ia=e=>{if(Se(e))return e;if(/:/.test(e)){const t=e.split(":");return t[1]/t[0]}return parseFloat(e)},he=e=>e.filter(t=>!t.archived),Ld={EMPTY:0,IDLE:1,ERROR:2,BUSY:3,READY:4};let qt=null;const Cd=()=>{if(qt===null)try{const e=new DataTransfer;e.items.add(new File(["hello world"],"This_Works.txt"));const t=document.createElement("input");t.setAttribute("type","file"),t.files=e.files,qt=t.files.length===1}catch{qt=!1}return qt},vd=[M.LOAD_ERROR,M.PROCESSING_ERROR,M.PROCESSING_REVERT_ERROR],Md=[M.LOADING,M.PROCESSING,M.PROCESSING_QUEUED,M.INIT],Nd=[M.PROCESSING_COMPLETE],xd=e=>vd.includes(e.status),Fd=e=>Md.includes(e.status),Bd=e=>Nd.includes(e.status),ks=e=>J(e.options.server)&&(J(e.options.server.process)||Ue(e.options.server.process)),Gd=e=>({GET_STATUS:()=>{const t=he(e.items),{EMPTY:n,ERROR:r,BUSY:s,IDLE:i,READY:o}=Ld;return t.length===0?n:t.some(xd)?r:t.some(Fd)?s:t.some(Bd)?o:i},GET_ITEM:t=>qe(e.items,t),GET_ACTIVE_ITEM:t=>qe(he(e.items),t),GET_ACTIVE_ITEMS:()=>he(e.items),GET_ITEMS:()=>e.items,GET_ITEM_NAME:t=>{const n=qe(e.items,t);return n?n.filename:null},GET_ITEM_SIZE:t=>{const n=qe(e.items,t);return n?n.fileSize:null},GET_STYLES:()=>Object.keys(e.options).filter(t=>/^style/.test(t)).map(t=>({name:t,value:e.options[t]})),GET_PANEL_ASPECT_RATIO:()=>/circle/.test(e.options.stylePanelLayout)?1:Ia(e.options.stylePanelAspectRatio),GET_ITEM_PANEL_ASPECT_RATIO:()=>e.options.styleItemPanelAspectRatio,GET_ITEMS_BY_STATUS:t=>he(e.items).filter(n=>n.status===t),GET_TOTAL_ITEMS:()=>he(e.items).length,SHOULD_UPDATE_FILE_INPUT:()=>e.options.storeAsFile&&Cd()&&!ks(e),IS_ASYNC:()=>ks(e),GET_FILE_SIZE_LABELS:t=>({labelBytes:t("GET_LABEL_FILE_SIZE_BYTES")||void 0,labelKilobytes:t("GET_LABEL_FILE_SIZE_KILOBYTES")||void 0,labelMegabytes:t("GET_LABEL_FILE_SIZE_MEGABYTES")||void 0,labelGigabytes:t("GET_LABEL_FILE_SIZE_GIGABYTES")||void 0})}),Ud=e=>{const t=he(e.items).length;if(!e.options.allowMultiple)return t===0;const n=e.options.maxFiles;return n===null||t<n},Ra=(e,t,n)=>Math.max(Math.min(n,e),t),qd=(e,t,n)=>e.splice(t,0,n),Vd=(e,t,n)=>Se(t)?null:typeof n>"u"?(e.push(t),t):(n=Ra(n,0,e.length),qd(e,n,t),t),_r=e=>/^\s*data:([a-z]+\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s]*)\s*$/i.test(e),vt=e=>`${e}`.split("/").pop().split("?").shift(),Sn=e=>e.split(".").pop(),$d=e=>{if(typeof e!="string")return"";const t=e.split("/").pop();return/svg/.test(t)?"svg":/zip|compressed/.test(t)?"zip":/plain/.test(t)?"txt":/msword/.test(t)?"doc":/[a-z]+/.test(t)?t==="jpeg"?"jpg":t:""},mt=(e,t="")=>(t+e).slice(-t.length),ya=(e=new Date)=>`${e.getFullYear()}-${mt(e.getMonth()+1,"00")}-${mt(e.getDate(),"00")}_${mt(e.getHours(),"00")}-${mt(e.getMinutes(),"00")}-${mt(e.getSeconds(),"00")}`,ot=(e,t,n=null,r=null)=>{const s=typeof n=="string"?e.slice(0,e.size,n):e.slice(0,e.size,e.type);return s.lastModifiedDate=new Date,e._relativePath&&(s._relativePath=e._relativePath),re(t)||(t=ya()),t&&r===null&&Sn(t)?s.name=t:(r=r||$d(s.type),s.name=t+(r?"."+r:"")),s},Hd=()=>window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,Oa=(e,t)=>{const n=Hd();if(n){const r=new n;return r.append(e),r.getBlob(t)}return new Blob([e],{type:t})},jd=(e,t)=>{const n=new ArrayBuffer(e.length),r=new Uint8Array(n);for(let s=0;s<e.length;s++)r[s]=e.charCodeAt(s);return Oa(n,t)},Sa=e=>(/^data:(.+);/.exec(e)||[])[1]||null,kd=e=>e.split(",")[1].replace(/\s/g,""),zd=e=>atob(kd(e)),Yd=e=>{const t=Sa(e),n=zd(e);return jd(n,t)},Wd=(e,t,n)=>ot(Yd(e),t,null,n),Xd=e=>{if(!/^content-disposition:/i.test(e))return null;const t=e.split(/filename=|filename\*=.+''/).splice(1).map(n=>n.trim().replace(/^["']|[;"']{0,2}$/g,"")).filter(n=>n.length);return t.length?decodeURI(t[t.length-1]):null},Kd=e=>{if(/content-length:/i.test(e)){const t=e.match(/[0-9]+/)[0];return t?parseInt(t,10):null}return null},Qd=e=>/x-content-transfer-id:/i.test(e)&&(e.split(":")[1]||"").trim()||null,Qr=e=>{const t={source:null,name:null,size:null},n=e.split(`
`);for(let r of n){const s=Xd(r);if(s){t.name=s;continue}const i=Kd(r);if(i){t.size=i;continue}const o=Qd(r);if(o){t.source=o;continue}}return t},Jd=e=>{const t={source:null,complete:!1,progress:0,size:null,timestamp:null,duration:0,request:null},n=()=>t.progress,r=()=>{t.request&&t.request.abort&&t.request.abort()},s=()=>{const a=t.source;o.fire("init",a),a instanceof File?o.fire("load",a):a instanceof Blob?o.fire("load",ot(a,a.name)):_r(a)?o.fire("load",Wd(a)):i(a)},i=a=>{if(!e){o.fire("error",{type:"error",body:"Can't load URL",code:400});return}t.timestamp=Date.now(),t.request=e(a,l=>{t.duration=Date.now()-t.timestamp,t.complete=!0,l instanceof Blob&&(l=ot(l,l.name||vt(a))),o.fire("load",l instanceof Blob?l:l?l.body:null)},l=>{o.fire("error",typeof l=="string"?{type:"error",code:0,body:l}:l)},(l,u,c)=>{if(c&&(t.size=c),t.duration=Date.now()-t.timestamp,!l){t.progress=null;return}t.progress=u/c,o.fire("progress",t.progress)},()=>{o.fire("abort")},l=>{const u=Qr(typeof l=="string"?l:l.headers);o.fire("meta",{size:t.size||u.size,filename:u.name,source:u.source})})},o={...On(),setSource:a=>t.source=a,getProgress:n,abort:r,load:s};return o},zs=e=>/GET|HEAD/.test(e),ze=(e,t,n)=>{const r={onheaders:()=>{},onprogress:()=>{},onload:()=>{},ontimeout:()=>{},onerror:()=>{},onabort:()=>{},abort:()=>{s=!0,o.abort()}};let s=!1,i=!1;n={method:"POST",headers:{},withCredentials:!1,...n},t=encodeURI(t),zs(n.method)&&e&&(t=`${t}${encodeURIComponent(typeof e=="string"?e:JSON.stringify(e))}`);const o=new XMLHttpRequest,a=zs(n.method)?o:o.upload;return a.onprogress=l=>{s||r.onprogress(l.lengthComputable,l.loaded,l.total)},o.onreadystatechange=()=>{o.readyState<2||o.readyState===4&&o.status===0||i||(i=!0,r.onheaders(o))},o.onload=()=>{o.status>=200&&o.status<300?r.onload(o):r.onerror(o)},o.onerror=()=>r.onerror(o),o.onabort=()=>{s=!0,r.onabort()},o.ontimeout=()=>r.ontimeout(o),o.open(n.method,t,!0),dt(n.timeout)&&(o.timeout=n.timeout),Object.keys(n.headers).forEach(l=>{const u=unescape(encodeURIComponent(n.headers[l]));o.setRequestHeader(l,u)}),n.responseType&&(o.responseType=n.responseType),n.withCredentials&&(o.withCredentials=!0),o.send(e),r},H=(e,t,n,r)=>({type:e,code:t,body:n,headers:r}),Ye=e=>t=>{e(H("error",0,"Timeout",t.getAllResponseHeaders()))},Ys=e=>/\?/.test(e),Ot=(...e)=>{let t="";return e.forEach(n=>{t+=Ys(t)&&Ys(n)?n.replace(/\?/,"&"):n}),t},Fn=(e="",t)=>{if(typeof t=="function")return t;if(!t||!re(t.url))return null;const n=t.onload||(s=>s),r=t.onerror||(s=>null);return(s,i,o,a,l,u)=>{const c=ze(s,Ot(e,t.url),{...t,responseType:"blob"});return c.onload=f=>{const p=f.getAllResponseHeaders(),h=Qr(p).name||vt(s);i(H("load",f.status,t.method==="HEAD"?null:ot(n(f.response),h),p))},c.onerror=f=>{o(H("error",f.status,r(f.response)||f.statusText,f.getAllResponseHeaders()))},c.onheaders=f=>{u(H("headers",f.status,null,f.getAllResponseHeaders()))},c.ontimeout=Ye(o),c.onprogress=a,c.onabort=l,c}},fe={QUEUED:0,COMPLETE:1,PROCESSING:2,ERROR:3,WAITING:4},Zd=(e,t,n,r,s,i,o,a,l,u,c)=>{const f=[],{chunkTransferId:p,chunkServer:h,chunkSize:d,chunkRetryDelays:_}=c,E={serverId:p,aborted:!1},g=t.ondata||(O=>O),I=t.onload||((O,q)=>q==="HEAD"?O.getResponseHeader("Upload-Offset"):O.response),y=t.onerror||(O=>null),A=O=>{const q=new FormData;J(s)&&q.append(n,JSON.stringify(s));const R=typeof t.headers=="function"?t.headers(r,s):{...t.headers,"Upload-Length":r.size},S={...t,headers:R},C=ze(g(q),Ot(e,t.url),S);C.onload=v=>O(I(v,S.method)),C.onerror=v=>o(H("error",v.status,y(v.response)||v.statusText,v.getAllResponseHeaders())),C.ontimeout=Ye(o)},b=O=>{const q=Ot(e,h.url,E.serverId),S={headers:typeof t.headers=="function"?t.headers(E.serverId):{...t.headers},method:"HEAD"},C=ze(null,q,S);C.onload=v=>O(I(v,S.method)),C.onerror=v=>o(H("error",v.status,y(v.response)||v.statusText,v.getAllResponseHeaders())),C.ontimeout=Ye(o)},w=Math.floor(r.size/d);for(let O=0;O<=w;O++){const q=O*d,R=r.slice(q,q+d,"application/offset+octet-stream");f[O]={index:O,size:R.size,offset:q,data:R,file:r,progress:0,retries:[..._],status:fe.QUEUED,error:null,request:null,timeout:null}}const B=()=>i(E.serverId),D=O=>O.status===fe.QUEUED||O.status===fe.ERROR,P=O=>{if(E.aborted)return;if(O=O||f.find(D),!O){f.every(F=>F.status===fe.COMPLETE)&&B();return}O.status=fe.PROCESSING,O.progress=null;const q=h.ondata||(F=>F),R=h.onerror||(F=>null),S=h.onload||(()=>{}),C=Ot(e,h.url,E.serverId),v=typeof h.headers=="function"?h.headers(O):{...h.headers,"Content-Type":"application/offset+octet-stream","Upload-Offset":O.offset,"Upload-Length":r.size,"Upload-Name":r.name},W=O.request=ze(q(O.data),C,{...h,headers:v});W.onload=F=>{S(F,O.index,f.length),O.status=fe.COMPLETE,O.request=null,x()},W.onprogress=(F,Mt,os)=>{O.progress=F?Mt:null,L()},W.onerror=F=>{O.status=fe.ERROR,O.request=null,O.error=R(F.response)||F.statusText,G(O)||o(H("error",F.status,R(F.response)||F.statusText,F.getAllResponseHeaders()))},W.ontimeout=F=>{O.status=fe.ERROR,O.request=null,G(O)||Ye(o)(F)},W.onabort=()=>{O.status=fe.QUEUED,O.request=null,l()}},G=O=>O.retries.length===0?!1:(O.status=fe.WAITING,clearTimeout(O.timeout),O.timeout=setTimeout(()=>{P(O)},O.retries.shift()),!0),L=()=>{const O=f.reduce((R,S)=>R===null||S.progress===null?null:R+S.progress,0);if(O===null)return a(!1,0,0);const q=f.reduce((R,S)=>R+S.size,0);a(!0,O,q)},x=()=>{f.filter(q=>q.status===fe.PROCESSING).length>=1||P()},Z=()=>{f.forEach(O=>{clearTimeout(O.timeout),O.request&&O.request.abort()})};return E.serverId?b(O=>{E.aborted||(f.filter(q=>q.offset<O).forEach(q=>{q.status=fe.COMPLETE,q.progress=q.size}),x())}):A(O=>{E.aborted||(u(O),E.serverId=O,x())}),{abort:()=>{E.aborted=!0,Z()}}},ep=(e,t,n,r)=>(s,i,o,a,l,u,c)=>{if(!s)return;const f=r.chunkUploads,p=f&&s.size>r.chunkSize,h=f&&(p||r.chunkForce);if(s instanceof Blob&&h)return Zd(e,t,n,s,i,o,a,l,u,c,r);const d=t.ondata||(b=>b),_=t.onload||(b=>b),E=t.onerror||(b=>null),g=typeof t.headers=="function"?t.headers(s,i)||{}:{...t.headers},I={...t,headers:g};var y=new FormData;J(i)&&y.append(n,JSON.stringify(i)),(s instanceof Blob?[{name:null,file:s}]:s).forEach(b=>{y.append(n,b.file,b.name===null?b.file.name:`${b.name}${b.file.name}`)});const A=ze(d(y),Ot(e,t.url),I);return A.onload=b=>{o(H("load",b.status,_(b.response),b.getAllResponseHeaders()))},A.onerror=b=>{a(H("error",b.status,E(b.response)||b.statusText,b.getAllResponseHeaders()))},A.ontimeout=Ye(a),A.onprogress=l,A.onabort=u,A},tp=(e="",t,n,r)=>typeof t=="function"?(...s)=>t(n,...s,r):!t||!re(t.url)?null:ep(e,t,n,r),gt=(e="",t)=>{if(typeof t=="function")return t;if(!t||!re(t.url))return(s,i)=>i();const n=t.onload||(s=>s),r=t.onerror||(s=>null);return(s,i,o)=>{const a=ze(s,e+t.url,t);return a.onload=l=>{i(H("load",l.status,n(l.response),l.getAllResponseHeaders()))},a.onerror=l=>{o(H("error",l.status,r(l.response)||l.statusText,l.getAllResponseHeaders()))},a.ontimeout=Ye(o),a}},ba=(e=0,t=1)=>e+Math.random()*(t-e),np=(e,t=1e3,n=0,r=25,s=250)=>{let i=null;const o=Date.now(),a=()=>{let l=Date.now()-o,u=ba(r,s);l+u>t&&(u=l+u-t);let c=l/t;if(c>=1||document.hidden){e(1);return}e(c),i=setTimeout(a,u)};return t>0&&a(),{clear:()=>{clearTimeout(i)}}},rp=(e,t)=>{const n={complete:!1,perceivedProgress:0,perceivedPerformanceUpdater:null,progress:null,timestamp:null,perceivedDuration:0,duration:0,request:null,response:null},{allowMinimumUploadDuration:r}=t,s=(c,f)=>{const p=()=>{n.duration===0||n.progress===null||u.fire("progress",u.getProgress())},h=()=>{n.complete=!0,u.fire("load-perceived",n.response.body)};u.fire("start"),n.timestamp=Date.now(),n.perceivedPerformanceUpdater=np(d=>{n.perceivedProgress=d,n.perceivedDuration=Date.now()-n.timestamp,p(),n.response&&n.perceivedProgress===1&&!n.complete&&h()},r?ba(750,1500):0),n.request=e(c,f,d=>{n.response=J(d)?d:{type:"load",code:200,body:`${d}`,headers:{}},n.duration=Date.now()-n.timestamp,n.progress=1,u.fire("load",n.response.body),(!r||r&&n.perceivedProgress===1)&&h()},d=>{n.perceivedPerformanceUpdater.clear(),u.fire("error",J(d)?d:{type:"error",code:0,body:`${d}`})},(d,_,E)=>{n.duration=Date.now()-n.timestamp,n.progress=d?_/E:null,p()},()=>{n.perceivedPerformanceUpdater.clear(),u.fire("abort",n.response?n.response.body:null)},d=>{u.fire("transfer",d)})},i=()=>{n.request&&(n.perceivedPerformanceUpdater.clear(),n.request.abort&&n.request.abort(),n.complete=!0)},o=()=>{i(),n.complete=!1,n.perceivedProgress=0,n.progress=0,n.timestamp=null,n.perceivedDuration=0,n.duration=0,n.request=null,n.response=null},a=r?()=>n.progress?Math.min(n.progress,n.perceivedProgress):null:()=>n.progress||null,l=r?()=>Math.min(n.duration,n.perceivedDuration):()=>n.duration,u={...On(),process:s,abort:i,getProgress:a,getDuration:l,reset:o};return u},Aa=e=>e.substring(0,e.lastIndexOf("."))||e,sp=e=>{let t=[e.name,e.size,e.type];return e instanceof Blob||_r(e)?t[0]=e.name||ya():_r(e)?(t[1]=e.length,t[2]=Sa(e)):re(e)&&(t[0]=vt(e),t[1]=0,t[2]="application/octet-stream"),{name:t[0],size:t[1],type:t[2]}},We=e=>!!(e instanceof File||e instanceof Blob&&e.name),Da=e=>{if(!J(e))return e;const t=In(e)?[]:{};for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n];t[n]=r&&J(r)?Da(r):r}return t},ip=(e=null,t=null,n=null)=>{const r=Wr(),s={archived:!1,frozen:!1,released:!1,source:null,file:n,serverFileReference:t,transferId:null,processingAborted:!1,status:t?M.PROCESSING_COMPLETE:M.INIT,activeLoader:null,activeProcessor:null};let i=null;const o={},a=D=>s.status=D,l=(D,...P)=>{s.released||s.frozen||w.fire(D,...P)},u=()=>Sn(s.file.name),c=()=>s.file.type,f=()=>s.file.size,p=()=>s.file,h=(D,P,G)=>{if(s.source=D,w.fireSync("init"),s.file){w.fireSync("load-skip");return}s.file=sp(D),P.on("init",()=>{l("load-init")}),P.on("meta",L=>{s.file.size=L.size,s.file.filename=L.filename,L.source&&(e=Q.LIMBO,s.serverFileReference=L.source,s.status=M.PROCESSING_COMPLETE),l("load-meta")}),P.on("progress",L=>{a(M.LOADING),l("load-progress",L)}),P.on("error",L=>{a(M.LOAD_ERROR),l("load-request-error",L)}),P.on("abort",()=>{a(M.INIT),l("load-abort")}),P.on("load",L=>{s.activeLoader=null;const x=O=>{s.file=We(O)?O:s.file,e===Q.LIMBO&&s.serverFileReference?a(M.PROCESSING_COMPLETE):a(M.IDLE),l("load")},Z=O=>{s.file=L,l("load-meta"),a(M.LOAD_ERROR),l("load-file-error",O)};if(s.serverFileReference){x(L);return}G(L,x,Z)}),P.setSource(D),s.activeLoader=P,P.load()},d=()=>{s.activeLoader&&s.activeLoader.load()},_=()=>{if(s.activeLoader){s.activeLoader.abort();return}a(M.INIT),l("load-abort")},E=(D,P)=>{if(s.processingAborted){s.processingAborted=!1;return}if(a(M.PROCESSING),i=null,!(s.file instanceof Blob)){w.on("load",()=>{E(D,P)});return}D.on("load",x=>{s.transferId=null,s.serverFileReference=x}),D.on("transfer",x=>{s.transferId=x}),D.on("load-perceived",x=>{s.activeProcessor=null,s.transferId=null,s.serverFileReference=x,a(M.PROCESSING_COMPLETE),l("process-complete",x)}),D.on("start",()=>{l("process-start")}),D.on("error",x=>{s.activeProcessor=null,a(M.PROCESSING_ERROR),l("process-error",x)}),D.on("abort",x=>{s.activeProcessor=null,s.serverFileReference=x,a(M.IDLE),l("process-abort"),i&&i()}),D.on("progress",x=>{l("process-progress",x)});const G=x=>{s.archived||D.process(x,{...o})},L=console.error;P(s.file,G,L),s.activeProcessor=D},g=()=>{s.processingAborted=!1,a(M.PROCESSING_QUEUED)},I=()=>new Promise(D=>{if(!s.activeProcessor){s.processingAborted=!0,a(M.IDLE),l("process-abort"),D();return}i=()=>{D()},s.activeProcessor.abort()}),y=(D,P)=>new Promise((G,L)=>{const x=s.serverFileReference!==null?s.serverFileReference:s.transferId;if(x===null){G();return}D(x,()=>{s.serverFileReference=null,s.transferId=null,G()},Z=>{if(!P){G();return}a(M.PROCESSING_REVERT_ERROR),l("process-revert-error"),L(Z)}),a(M.IDLE),l("process-revert")}),A=(D,P,G)=>{const L=D.split("."),x=L[0],Z=L.pop();let O=o;L.forEach(q=>O=O[q]),JSON.stringify(O[Z])!==JSON.stringify(P)&&(O[Z]=P,l("metadata-update",{key:x,value:o[x],silent:G}))},w={id:{get:()=>r},origin:{get:()=>e,set:D=>e=D},serverId:{get:()=>s.serverFileReference},transferId:{get:()=>s.transferId},status:{get:()=>s.status},filename:{get:()=>s.file.name},filenameWithoutExtension:{get:()=>Aa(s.file.name)},fileExtension:{get:u},fileType:{get:c},fileSize:{get:f},file:{get:p},relativePath:{get:()=>s.file._relativePath},source:{get:()=>s.source},getMetadata:D=>Da(D?o[D]:o),setMetadata:(D,P,G)=>{if(J(D)){const L=D;return Object.keys(L).forEach(x=>{A(x,L[x],P)}),D}return A(D,P,G),P},extend:(D,P)=>B[D]=P,abortLoad:_,retryLoad:d,requestProcessing:g,abortProcessing:I,load:h,process:E,revert:y,...On(),freeze:()=>s.frozen=!0,release:()=>s.released=!0,released:{get:()=>s.released},archive:()=>s.archived=!0,archived:{get:()=>s.archived},setFile:D=>s.file=D},B=Le(w);return B},op=(e,t)=>Se(t)?0:re(t)?e.findIndex(n=>n.id===t):-1,Ws=(e,t)=>{const n=op(e,t);if(!(n<0))return e[n]||null},Xs=(e,t,n,r,s,i)=>{const o=ze(null,e,{method:"GET",responseType:"blob"});return o.onload=a=>{const l=a.getAllResponseHeaders(),u=Qr(l).name||vt(e);t(H("load",a.status,ot(a.response,u),l))},o.onerror=a=>{n(H("error",a.status,a.statusText,a.getAllResponseHeaders()))},o.onheaders=a=>{i(H("headers",a.status,null,a.getAllResponseHeaders()))},o.ontimeout=Ye(n),o.onprogress=r,o.onabort=s,o},Ks=e=>(e.indexOf("//")===0&&(e=location.protocol+e),e.toLowerCase().replace("blob:","").replace(/([a-z])?:\/\//,"$1").split("/")[0]),ap=e=>(e.indexOf(":")>-1||e.indexOf("//")>-1)&&Ks(location.href)!==Ks(e),Vt=e=>(...t)=>Ue(e)?e(...t):e,lp=e=>!We(e.file),Bn=(e,t)=>{clearTimeout(t.listUpdateTimeout),t.listUpdateTimeout=setTimeout(()=>{e("DID_UPDATE_ITEMS",{items:he(t.items)})},0)},Qs=(e,...t)=>new Promise(n=>{if(!e)return n(!0);const r=e(...t);if(r==null)return n(!0);if(typeof r=="boolean")return n(r);typeof r.then=="function"&&r.then(n)}),Gn=(e,t)=>{e.items.sort((n,r)=>t(oe(n),oe(r)))},de=(e,t)=>({query:n,success:r=()=>{},failure:s=()=>{},...i}={})=>{const o=qe(e.items,n);if(!o){s({error:H("error",0,"Item not found"),file:null});return}t(o,r,s,i||{})},cp=(e,t,n)=>({ABORT_ALL:()=>{he(n.items).forEach(r=>{r.freeze(),r.abortLoad(),r.abortProcessing()})},DID_SET_FILES:({value:r=[]})=>{const s=r.map(o=>({source:o.source?o.source:o,options:o.options}));let i=he(n.items);i.forEach(o=>{s.find(a=>a.source===o.source||a.source===o.file)||e("REMOVE_ITEM",{query:o,remove:!1})}),i=he(n.items),s.forEach((o,a)=>{i.find(l=>l.source===o.source||l.file===o.source)||e("ADD_ITEM",{...o,interactionMethod:Ee.NONE,index:a})})},DID_UPDATE_ITEM_METADATA:({id:r,action:s,change:i})=>{i.silent||(clearTimeout(n.itemUpdateTimeout),n.itemUpdateTimeout=setTimeout(()=>{const o=Ws(n.items,r);if(!t("IS_ASYNC")){_e("SHOULD_PREPARE_OUTPUT",!1,{item:o,query:t,action:s,change:i}).then(c=>{const f=t("GET_BEFORE_PREPARE_FILE");f&&(c=f(o,c)),c&&e("REQUEST_PREPARE_OUTPUT",{query:r,item:o,success:p=>{e("DID_PREPARE_OUTPUT",{id:r,file:p})}},!0)});return}o.origin===Q.LOCAL&&e("DID_LOAD_ITEM",{id:o.id,error:null,serverFileReference:o.source});const a=()=>{setTimeout(()=>{e("REQUEST_ITEM_PROCESSING",{query:r})},32)},l=c=>{o.revert(gt(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(c?a:()=>{}).catch(()=>{})},u=c=>{o.abortProcessing().then(c?a:()=>{})};if(o.status===M.PROCESSING_COMPLETE)return l(n.options.instantUpload);if(o.status===M.PROCESSING)return u(n.options.instantUpload);n.options.instantUpload&&a()},0))},MOVE_ITEM:({query:r,index:s})=>{const i=qe(n.items,r);if(!i)return;const o=n.items.indexOf(i);s=Ra(s,0,n.items.length-1),o!==s&&n.items.splice(s,0,n.items.splice(o,1)[0])},SORT:({compare:r})=>{Gn(n,r),e("DID_SORT_ITEMS",{items:t("GET_ACTIVE_ITEMS")})},ADD_ITEMS:({items:r,index:s,interactionMethod:i,success:o=()=>{},failure:a=()=>{}})=>{let l=s;if(s===-1||typeof s>"u"){const h=t("GET_ITEM_INSERT_LOCATION"),d=t("GET_TOTAL_ITEMS");l=h==="before"?0:d}const u=t("GET_IGNORED_FILES"),c=h=>We(h)?!u.includes(h.name.toLowerCase()):!Se(h),p=r.filter(c).map(h=>new Promise((d,_)=>{e("ADD_ITEM",{interactionMethod:i,source:h.source||h,success:d,failure:_,index:l++,options:h.options||{}})}));Promise.all(p).then(o).catch(a)},ADD_ITEM:({source:r,index:s=-1,interactionMethod:i,success:o=()=>{},failure:a=()=>{},options:l={}})=>{if(Se(r)){a({error:H("error",0,"No source"),file:null});return}if(We(r)&&n.options.ignoredFiles.includes(r.name.toLowerCase()))return;if(!Ud(n)){if(n.options.allowMultiple||!n.options.allowMultiple&&!n.options.allowReplace){const I=H("warning",0,"Max files");e("DID_THROW_MAX_FILES",{source:r,error:I}),a({error:I,file:null});return}const g=he(n.items)[0];if(g.status===M.PROCESSING_COMPLETE||g.status===M.PROCESSING_REVERT_ERROR){const I=t("GET_FORCE_REVERT");if(g.revert(gt(n.options.server.url,n.options.server.revert),I).then(()=>{I&&e("ADD_ITEM",{source:r,index:s,interactionMethod:i,success:o,failure:a,options:l})}).catch(()=>{}),I)return}e("REMOVE_ITEM",{query:g.id})}const u=l.type==="local"?Q.LOCAL:l.type==="limbo"?Q.LIMBO:Q.INPUT,c=ip(u,u===Q.INPUT?null:r,l.file);Object.keys(l.metadata||{}).forEach(g=>{c.setMetadata(g,l.metadata[g])}),Je("DID_CREATE_ITEM",c,{query:t,dispatch:e});const f=t("GET_ITEM_INSERT_LOCATION");n.options.itemInsertLocationFreedom||(s=f==="before"?-1:n.items.length),Vd(n.items,c,s),Ue(f)&&r&&Gn(n,f);const p=c.id;c.on("init",()=>{e("DID_INIT_ITEM",{id:p})}),c.on("load-init",()=>{e("DID_START_ITEM_LOAD",{id:p})}),c.on("load-meta",()=>{e("DID_UPDATE_ITEM_META",{id:p})}),c.on("load-progress",g=>{e("DID_UPDATE_ITEM_LOAD_PROGRESS",{id:p,progress:g})}),c.on("load-request-error",g=>{const I=Vt(n.options.labelFileLoadError)(g);if(g.code>=400&&g.code<500){e("DID_THROW_ITEM_INVALID",{id:p,error:g,status:{main:I,sub:`${g.code} (${g.body})`}}),a({error:g,file:oe(c)});return}e("DID_THROW_ITEM_LOAD_ERROR",{id:p,error:g,status:{main:I,sub:n.options.labelTapToRetry}})}),c.on("load-file-error",g=>{e("DID_THROW_ITEM_INVALID",{id:p,error:g.status,status:g.status}),a({error:g.status,file:oe(c)})}),c.on("load-abort",()=>{e("REMOVE_ITEM",{query:p})}),c.on("load-skip",()=>{c.on("metadata-update",g=>{We(c.file)&&e("DID_UPDATE_ITEM_METADATA",{id:p,change:g})}),e("COMPLETE_LOAD_ITEM",{query:p,item:c,data:{source:r,success:o}})}),c.on("load",()=>{const g=I=>{if(!I){e("REMOVE_ITEM",{query:p});return}c.on("metadata-update",y=>{e("DID_UPDATE_ITEM_METADATA",{id:p,change:y})}),_e("SHOULD_PREPARE_OUTPUT",!1,{item:c,query:t}).then(y=>{const A=t("GET_BEFORE_PREPARE_FILE");A&&(y=A(c,y));const b=()=>{e("COMPLETE_LOAD_ITEM",{query:p,item:c,data:{source:r,success:o}}),Bn(e,n)};if(y){e("REQUEST_PREPARE_OUTPUT",{query:p,item:c,success:w=>{e("DID_PREPARE_OUTPUT",{id:p,file:w}),b()}},!0);return}b()})};_e("DID_LOAD_ITEM",c,{query:t,dispatch:e}).then(()=>{Qs(t("GET_BEFORE_ADD_FILE"),oe(c)).then(g)}).catch(I=>{if(!I||!I.error||!I.status)return g(!1);e("DID_THROW_ITEM_INVALID",{id:p,error:I.error,status:I.status})})}),c.on("process-start",()=>{e("DID_START_ITEM_PROCESSING",{id:p})}),c.on("process-progress",g=>{e("DID_UPDATE_ITEM_PROCESS_PROGRESS",{id:p,progress:g})}),c.on("process-error",g=>{e("DID_THROW_ITEM_PROCESSING_ERROR",{id:p,error:g,status:{main:Vt(n.options.labelFileProcessingError)(g),sub:n.options.labelTapToRetry}})}),c.on("process-revert-error",g=>{e("DID_THROW_ITEM_PROCESSING_REVERT_ERROR",{id:p,error:g,status:{main:Vt(n.options.labelFileProcessingRevertError)(g),sub:n.options.labelTapToRetry}})}),c.on("process-complete",g=>{e("DID_COMPLETE_ITEM_PROCESSING",{id:p,error:null,serverFileReference:g}),e("DID_DEFINE_VALUE",{id:p,value:g})}),c.on("process-abort",()=>{e("DID_ABORT_ITEM_PROCESSING",{id:p})}),c.on("process-revert",()=>{e("DID_REVERT_ITEM_PROCESSING",{id:p}),e("DID_DEFINE_VALUE",{id:p,value:null})}),e("DID_ADD_ITEM",{id:p,index:s,interactionMethod:i}),Bn(e,n);const{url:h,load:d,restore:_,fetch:E}=n.options.server||{};c.load(r,Jd(u===Q.INPUT?re(r)&&ap(r)&&E?Fn(h,E):Xs:u===Q.LIMBO?Fn(h,_):Fn(h,d)),(g,I,y)=>{_e("LOAD_FILE",g,{query:t}).then(I).catch(y)})},REQUEST_PREPARE_OUTPUT:({item:r,success:s,failure:i=()=>{}})=>{const o={error:H("error",0,"Item not found"),file:null};if(r.archived)return i(o);_e("PREPARE_OUTPUT",r.file,{query:t,item:r}).then(a=>{_e("COMPLETE_PREPARE_OUTPUT",a,{query:t,item:r}).then(l=>{if(r.archived)return i(o);s(l)})})},COMPLETE_LOAD_ITEM:({item:r,data:s})=>{const{success:i,source:o}=s,a=t("GET_ITEM_INSERT_LOCATION");if(Ue(a)&&o&&Gn(n,a),e("DID_LOAD_ITEM",{id:r.id,error:null,serverFileReference:r.origin===Q.INPUT?null:o}),i(oe(r)),r.origin===Q.LOCAL){e("DID_LOAD_LOCAL_ITEM",{id:r.id});return}if(r.origin===Q.LIMBO){e("DID_COMPLETE_ITEM_PROCESSING",{id:r.id,error:null,serverFileReference:o}),e("DID_DEFINE_VALUE",{id:r.id,value:r.serverId||o});return}t("IS_ASYNC")&&n.options.instantUpload&&e("REQUEST_ITEM_PROCESSING",{query:r.id})},RETRY_ITEM_LOAD:de(n,r=>{r.retryLoad()}),REQUEST_ITEM_PREPARE:de(n,(r,s,i)=>{e("REQUEST_PREPARE_OUTPUT",{query:r.id,item:r,success:o=>{e("DID_PREPARE_OUTPUT",{id:r.id,file:o}),s({file:r,output:o})},failure:i},!0)}),REQUEST_ITEM_PROCESSING:de(n,(r,s,i)=>{if(!(r.status===M.IDLE||r.status===M.PROCESSING_ERROR)){const a=()=>e("REQUEST_ITEM_PROCESSING",{query:r,success:s,failure:i}),l=()=>document.hidden?a():setTimeout(a,32);r.status===M.PROCESSING_COMPLETE||r.status===M.PROCESSING_REVERT_ERROR?r.revert(gt(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(l).catch(()=>{}):r.status===M.PROCESSING&&r.abortProcessing().then(l);return}r.status!==M.PROCESSING_QUEUED&&(r.requestProcessing(),e("DID_REQUEST_ITEM_PROCESSING",{id:r.id}),e("PROCESS_ITEM",{query:r,success:s,failure:i},!0))}),PROCESS_ITEM:de(n,(r,s,i)=>{const o=t("GET_MAX_PARALLEL_UPLOADS");if(t("GET_ITEMS_BY_STATUS",M.PROCESSING).length===o){n.processingQueue.push({id:r.id,success:s,failure:i});return}if(r.status===M.PROCESSING)return;const l=()=>{const c=n.processingQueue.shift();if(!c)return;const{id:f,success:p,failure:h}=c,d=qe(n.items,f);if(!d||d.archived){l();return}e("PROCESS_ITEM",{query:f,success:p,failure:h},!0)};r.onOnce("process-complete",()=>{s(oe(r)),l();const c=n.options.server;if(n.options.instantUpload&&r.origin===Q.LOCAL&&Ue(c.remove)){const h=()=>{};r.origin=Q.LIMBO,n.options.server.remove(r.source,h,h)}t("GET_ITEMS_BY_STATUS",M.PROCESSING_COMPLETE).length===n.items.length&&e("DID_COMPLETE_ITEM_PROCESSING_ALL")}),r.onOnce("process-error",c=>{i({error:c,file:oe(r)}),l()});const u=n.options;r.process(rp(tp(u.server.url,u.server.process,u.name,{chunkTransferId:r.transferId,chunkServer:u.server.patch,chunkUploads:u.chunkUploads,chunkForce:u.chunkForce,chunkSize:u.chunkSize,chunkRetryDelays:u.chunkRetryDelays}),{allowMinimumUploadDuration:t("GET_ALLOW_MINIMUM_UPLOAD_DURATION")}),(c,f,p)=>{_e("PREPARE_OUTPUT",c,{query:t,item:r}).then(h=>{e("DID_PREPARE_OUTPUT",{id:r.id,file:h}),f(h)}).catch(p)})}),RETRY_ITEM_PROCESSING:de(n,r=>{e("REQUEST_ITEM_PROCESSING",{query:r})}),REQUEST_REMOVE_ITEM:de(n,r=>{Qs(t("GET_BEFORE_REMOVE_FILE"),oe(r)).then(s=>{s&&e("REMOVE_ITEM",{query:r})})}),RELEASE_ITEM:de(n,r=>{r.release()}),REMOVE_ITEM:de(n,(r,s,i,o)=>{const a=()=>{const u=r.id;Ws(n.items,u).archive(),e("DID_REMOVE_ITEM",{error:null,id:u,item:r}),Bn(e,n),s(oe(r))},l=n.options.server;r.origin===Q.LOCAL&&l&&Ue(l.remove)&&o.remove!==!1?(e("DID_START_ITEM_REMOVE",{id:r.id}),l.remove(r.source,()=>a(),u=>{e("DID_THROW_ITEM_REMOVE_ERROR",{id:r.id,error:H("error",0,u,null),status:{main:Vt(n.options.labelFileRemoveError)(u),sub:n.options.labelTapToRetry}})})):((o.revert&&r.origin!==Q.LOCAL&&r.serverId!==null||n.options.chunkUploads&&r.file.size>n.options.chunkSize||n.options.chunkUploads&&n.options.chunkForce)&&r.revert(gt(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")),a())}),ABORT_ITEM_LOAD:de(n,r=>{r.abortLoad()}),ABORT_ITEM_PROCESSING:de(n,r=>{if(r.serverId){e("REVERT_ITEM_PROCESSING",{id:r.id});return}r.abortProcessing().then(()=>{n.options.instantUpload&&e("REMOVE_ITEM",{query:r.id})})}),REQUEST_REVERT_ITEM_PROCESSING:de(n,r=>{if(!n.options.instantUpload){e("REVERT_ITEM_PROCESSING",{query:r});return}const s=a=>{a&&e("REVERT_ITEM_PROCESSING",{query:r})},i=t("GET_BEFORE_REMOVE_FILE");if(!i)return s(!0);const o=i(oe(r));if(o==null)return s(!0);if(typeof o=="boolean")return s(o);typeof o.then=="function"&&o.then(s)}),REVERT_ITEM_PROCESSING:de(n,r=>{r.revert(gt(n.options.server.url,n.options.server.revert),t("GET_FORCE_REVERT")).then(()=>{(n.options.instantUpload||lp(r))&&e("REMOVE_ITEM",{query:r.id})}).catch(()=>{})}),SET_OPTIONS:({options:r})=>{const s=Object.keys(r),i=up.filter(a=>s.includes(a));[...i,...Object.keys(r).filter(a=>!i.includes(a))].forEach(a=>{e(`SET_${yn(a,"_").toUpperCase()}`,{value:r[a]})})}}),up=["server"],Jr=e=>e,be=e=>document.createElement(e),j=(e,t)=>{let n=e.childNodes[0];n?t!==n.nodeValue&&(n.nodeValue=t):(n=document.createTextNode(t),e.appendChild(n))},Js=(e,t,n,r)=>{const s=(r%360-90)*Math.PI/180;return{x:e+n*Math.cos(s),y:t+n*Math.sin(s)}},fp=(e,t,n,r,s,i)=>{const o=Js(e,t,n,s),a=Js(e,t,n,r);return["M",o.x,o.y,"A",n,n,0,i,0,a.x,a.y].join(" ")},dp=(e,t,n,r,s)=>{let i=1;return s>r&&s-r<=.5&&(i=0),r>s&&r-s>=.5&&(i=0),fp(e,t,n,Math.min(.9999,r)*360,Math.min(.9999,s)*360,i)},pp=({root:e,props:t})=>{t.spin=!1,t.progress=0,t.opacity=0;const n=rn("svg");e.ref.path=rn("path",{"stroke-width":2,"stroke-linecap":"round"}),n.appendChild(e.ref.path),e.ref.svg=n,e.appendChild(n)},Ep=({root:e,props:t})=>{if(t.opacity===0)return;t.align&&(e.element.dataset.align=t.align);const n=parseInt(K(e.ref.path,"stroke-width"),10),r=e.rect.element.width*.5;let s=0,i=0;t.spin?(s=0,i=.5):(s=0,i=t.progress);const o=dp(r,r,r-n,s,i);K(e.ref.path,"d",o),K(e.ref.path,"stroke-opacity",t.spin||t.progress>0?1:0)},Zs=Y({tag:"div",name:"progress-indicator",ignoreRectUpdate:!0,ignoreRect:!0,create:pp,write:Ep,mixins:{apis:["progress","spin","align"],styles:["opacity"],animations:{opacity:{type:"tween",duration:500},progress:{type:"spring",stiffness:.95,damping:.65,mass:10}}}}),_p=({root:e,props:t})=>{e.element.innerHTML=(t.icon||"")+`<span>${t.label}</span>`,t.isDisabled=!1},hp=({root:e,props:t})=>{const{isDisabled:n}=t,r=e.query("GET_DISABLED")||t.opacity===0;r&&!n?(t.isDisabled=!0,K(e.element,"disabled","disabled")):!r&&n&&(t.isDisabled=!1,e.element.removeAttribute("disabled"))},wa=Y({tag:"button",attributes:{type:"button"},ignoreRect:!0,ignoreRectUpdate:!0,name:"file-action-button",mixins:{apis:["label"],styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}},listeners:!0},create:_p,write:hp}),Pa=(e,t=".",n=1e3,r={})=>{const{labelBytes:s="bytes",labelKilobytes:i="KB",labelMegabytes:o="MB",labelGigabytes:a="GB"}=r;e=Math.round(Math.abs(e));const l=n,u=n*n,c=n*n*n;return e<l?`${e} ${s}`:e<u?`${Math.floor(e/l)} ${i}`:e<c?`${ei(e/u,1,t)} ${o}`:`${ei(e/c,2,t)} ${a}`},ei=(e,t,n)=>e.toFixed(t).split(".").filter(r=>r!=="0").join(n),mp=({root:e,props:t})=>{const n=be("span");n.className="filepond--file-info-main",K(n,"aria-hidden","true"),e.appendChild(n),e.ref.fileName=n;const r=be("span");r.className="filepond--file-info-sub",e.appendChild(r),e.ref.fileSize=r,j(r,e.query("GET_LABEL_FILE_WAITING_FOR_SIZE")),j(n,Jr(e.query("GET_ITEM_NAME",t.id)))},hr=({root:e,props:t})=>{j(e.ref.fileSize,Pa(e.query("GET_ITEM_SIZE",t.id),".",e.query("GET_FILE_SIZE_BASE"),e.query("GET_FILE_SIZE_LABELS",e.query))),j(e.ref.fileName,Jr(e.query("GET_ITEM_NAME",t.id)))},ti=({root:e,props:t})=>{if(dt(e.query("GET_ITEM_SIZE",t.id))){hr({root:e,props:t});return}j(e.ref.fileSize,e.query("GET_LABEL_FILE_SIZE_NOT_AVAILABLE"))},gp=Y({name:"file-info",ignoreRect:!0,ignoreRectUpdate:!0,write:se({DID_LOAD_ITEM:hr,DID_UPDATE_ITEM_META:hr,DID_THROW_ITEM_LOAD_ERROR:ti,DID_THROW_ITEM_INVALID:ti}),didCreateView:e=>{Je("CREATE_VIEW",{...e,view:e})},create:mp,mixins:{styles:["translateX","translateY"],animations:{translateX:"spring",translateY:"spring"}}}),La=e=>Math.round(e*100),Tp=({root:e})=>{const t=be("span");t.className="filepond--file-status-main",e.appendChild(t),e.ref.main=t;const n=be("span");n.className="filepond--file-status-sub",e.appendChild(n),e.ref.sub=n,Ca({root:e,action:{progress:null}})},Ca=({root:e,action:t})=>{const n=t.progress===null?e.query("GET_LABEL_FILE_LOADING"):`${e.query("GET_LABEL_FILE_LOADING")} ${La(t.progress)}%`;j(e.ref.main,n),j(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},Ip=({root:e,action:t})=>{const n=t.progress===null?e.query("GET_LABEL_FILE_PROCESSING"):`${e.query("GET_LABEL_FILE_PROCESSING")} ${La(t.progress)}%`;j(e.ref.main,n),j(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},Rp=({root:e})=>{j(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING")),j(e.ref.sub,e.query("GET_LABEL_TAP_TO_CANCEL"))},yp=({root:e})=>{j(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_ABORTED")),j(e.ref.sub,e.query("GET_LABEL_TAP_TO_RETRY"))},Op=({root:e})=>{j(e.ref.main,e.query("GET_LABEL_FILE_PROCESSING_COMPLETE")),j(e.ref.sub,e.query("GET_LABEL_TAP_TO_UNDO"))},ni=({root:e})=>{j(e.ref.main,""),j(e.ref.sub,"")},Tt=({root:e,action:t})=>{j(e.ref.main,t.status.main),j(e.ref.sub,t.status.sub)},Sp=Y({name:"file-status",ignoreRect:!0,ignoreRectUpdate:!0,write:se({DID_LOAD_ITEM:ni,DID_REVERT_ITEM_PROCESSING:ni,DID_REQUEST_ITEM_PROCESSING:Rp,DID_ABORT_ITEM_PROCESSING:yp,DID_COMPLETE_ITEM_PROCESSING:Op,DID_UPDATE_ITEM_PROCESS_PROGRESS:Ip,DID_UPDATE_ITEM_LOAD_PROGRESS:Ca,DID_THROW_ITEM_LOAD_ERROR:Tt,DID_THROW_ITEM_INVALID:Tt,DID_THROW_ITEM_PROCESSING_ERROR:Tt,DID_THROW_ITEM_PROCESSING_REVERT_ERROR:Tt,DID_THROW_ITEM_REMOVE_ERROR:Tt}),didCreateView:e=>{Je("CREATE_VIEW",{...e,view:e})},create:Tp,mixins:{styles:["translateX","translateY","opacity"],animations:{opacity:{type:"tween",duration:250},translateX:"spring",translateY:"spring"}}}),mr={AbortItemLoad:{label:"GET_LABEL_BUTTON_ABORT_ITEM_LOAD",action:"ABORT_ITEM_LOAD",className:"filepond--action-abort-item-load",align:"LOAD_INDICATOR_POSITION"},RetryItemLoad:{label:"GET_LABEL_BUTTON_RETRY_ITEM_LOAD",action:"RETRY_ITEM_LOAD",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-load",align:"BUTTON_PROCESS_ITEM_POSITION"},RemoveItem:{label:"GET_LABEL_BUTTON_REMOVE_ITEM",action:"REQUEST_REMOVE_ITEM",icon:"GET_ICON_REMOVE",className:"filepond--action-remove-item",align:"BUTTON_REMOVE_ITEM_POSITION"},ProcessItem:{label:"GET_LABEL_BUTTON_PROCESS_ITEM",action:"REQUEST_ITEM_PROCESSING",icon:"GET_ICON_PROCESS",className:"filepond--action-process-item",align:"BUTTON_PROCESS_ITEM_POSITION"},AbortItemProcessing:{label:"GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING",action:"ABORT_ITEM_PROCESSING",className:"filepond--action-abort-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RetryItemProcessing:{label:"GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING",action:"RETRY_ITEM_PROCESSING",icon:"GET_ICON_RETRY",className:"filepond--action-retry-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"},RevertItemProcessing:{label:"GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING",action:"REQUEST_REVERT_ITEM_PROCESSING",icon:"GET_ICON_UNDO",className:"filepond--action-revert-item-processing",align:"BUTTON_PROCESS_ITEM_POSITION"}},gr=[];$(mr,e=>{gr.push(e)});const ce=e=>{if(Tr(e)==="right")return 0;const t=e.ref.buttonRemoveItem.rect.element;return t.hidden?null:t.width+t.left},bp=e=>e.ref.buttonAbortItemLoad.rect.element.width,$t=e=>Math.floor(e.ref.buttonRemoveItem.rect.element.height/4),Ap=e=>Math.floor(e.ref.buttonRemoveItem.rect.element.left/2),Dp=e=>e.query("GET_STYLE_LOAD_INDICATOR_POSITION"),wp=e=>e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION"),Tr=e=>e.query("GET_STYLE_BUTTON_REMOVE_ITEM_POSITION"),Pp={buttonAbortItemLoad:{opacity:0},buttonRetryItemLoad:{opacity:0},buttonRemoveItem:{opacity:0},buttonProcessItem:{opacity:0},buttonAbortItemProcessing:{opacity:0},buttonRetryItemProcessing:{opacity:0},buttonRevertItemProcessing:{opacity:0},loadProgressIndicator:{opacity:0,align:Dp},processProgressIndicator:{opacity:0,align:wp},processingCompleteIndicator:{opacity:0,scaleX:.75,scaleY:.75},info:{translateX:0,translateY:0,opacity:0},status:{translateX:0,translateY:0,opacity:0}},ri={buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:ce},status:{translateX:ce}},Un={buttonAbortItemProcessing:{opacity:1},processProgressIndicator:{opacity:1},status:{opacity:1}},nt={DID_THROW_ITEM_INVALID:{buttonRemoveItem:{opacity:1},info:{translateX:ce},status:{translateX:ce,opacity:1}},DID_START_ITEM_LOAD:{buttonAbortItemLoad:{opacity:1},loadProgressIndicator:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_LOAD_ERROR:{buttonRetryItemLoad:{opacity:1},buttonRemoveItem:{opacity:1},info:{translateX:ce},status:{opacity:1}},DID_START_ITEM_REMOVE:{processProgressIndicator:{opacity:1,align:Tr},info:{translateX:ce},status:{opacity:0}},DID_THROW_ITEM_REMOVE_ERROR:{processProgressIndicator:{opacity:0,align:Tr},buttonRemoveItem:{opacity:1},info:{translateX:ce},status:{opacity:1,translateX:ce}},DID_LOAD_ITEM:ri,DID_LOAD_LOCAL_ITEM:{buttonRemoveItem:{opacity:1},info:{translateX:ce},status:{translateX:ce}},DID_START_ITEM_PROCESSING:Un,DID_REQUEST_ITEM_PROCESSING:Un,DID_UPDATE_ITEM_PROCESS_PROGRESS:Un,DID_COMPLETE_ITEM_PROCESSING:{buttonRevertItemProcessing:{opacity:1},info:{opacity:1},status:{opacity:1}},DID_THROW_ITEM_PROCESSING_ERROR:{buttonRemoveItem:{opacity:1},buttonRetryItemProcessing:{opacity:1},status:{opacity:1},info:{translateX:ce}},DID_THROW_ITEM_PROCESSING_REVERT_ERROR:{buttonRevertItemProcessing:{opacity:1},status:{opacity:1},info:{opacity:1}},DID_ABORT_ITEM_PROCESSING:{buttonRemoveItem:{opacity:1},buttonProcessItem:{opacity:1},info:{translateX:ce},status:{opacity:1}},DID_REVERT_ITEM_PROCESSING:ri},Lp=Y({create:({root:e})=>{e.element.innerHTML=e.query("GET_ICON_DONE")},name:"processing-complete-indicator",ignoreRect:!0,mixins:{styles:["scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",opacity:{type:"tween",duration:250}}}}),Cp=({root:e,props:t})=>{const n=Object.keys(mr).reduce((d,_)=>(d[_]={...mr[_]},d),{}),{id:r}=t,s=e.query("GET_ALLOW_REVERT"),i=e.query("GET_ALLOW_REMOVE"),o=e.query("GET_ALLOW_PROCESS"),a=e.query("GET_INSTANT_UPLOAD"),l=e.query("IS_ASYNC"),u=e.query("GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN");let c;l?o&&!s?c=d=>!/RevertItemProcessing/.test(d):!o&&s?c=d=>!/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(d):!o&&!s&&(c=d=>!/Process/.test(d)):c=d=>!/Process/.test(d);const f=c?gr.filter(c):gr.concat();if(a&&s&&(n.RevertItemProcessing.label="GET_LABEL_BUTTON_REMOVE_ITEM",n.RevertItemProcessing.icon="GET_ICON_REMOVE"),l&&!s){const d=nt.DID_COMPLETE_ITEM_PROCESSING;d.info.translateX=Ap,d.info.translateY=$t,d.status.translateY=$t,d.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}if(l&&!o&&(["DID_START_ITEM_PROCESSING","DID_REQUEST_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_THROW_ITEM_PROCESSING_ERROR"].forEach(d=>{nt[d].status.translateY=$t}),nt.DID_THROW_ITEM_PROCESSING_ERROR.status.translateX=bp),u&&s){n.RevertItemProcessing.align="BUTTON_REMOVE_ITEM_POSITION";const d=nt.DID_COMPLETE_ITEM_PROCESSING;d.info.translateX=ce,d.status.translateY=$t,d.processingCompleteIndicator={opacity:1,scaleX:1,scaleY:1}}i||(n.RemoveItem.disabled=!0),$(n,(d,_)=>{const E=e.createChildView(wa,{label:e.query(_.label),icon:e.query(_.icon),opacity:0});f.includes(d)&&e.appendChildView(E),_.disabled&&(E.element.setAttribute("disabled","disabled"),E.element.setAttribute("hidden","hidden")),E.element.dataset.align=e.query(`GET_STYLE_${_.align}`),E.element.classList.add(_.className),E.on("click",g=>{g.stopPropagation(),!_.disabled&&e.dispatch(_.action,{query:r})}),e.ref[`button${d}`]=E}),e.ref.processingCompleteIndicator=e.appendChildView(e.createChildView(Lp)),e.ref.processingCompleteIndicator.element.dataset.align=e.query("GET_STYLE_BUTTON_PROCESS_ITEM_POSITION"),e.ref.info=e.appendChildView(e.createChildView(gp,{id:r})),e.ref.status=e.appendChildView(e.createChildView(Sp,{id:r}));const p=e.appendChildView(e.createChildView(Zs,{opacity:0,align:e.query("GET_STYLE_LOAD_INDICATOR_POSITION")}));p.element.classList.add("filepond--load-indicator"),e.ref.loadProgressIndicator=p;const h=e.appendChildView(e.createChildView(Zs,{opacity:0,align:e.query("GET_STYLE_PROGRESS_INDICATOR_POSITION")}));h.element.classList.add("filepond--process-indicator"),e.ref.processProgressIndicator=h,e.ref.activeStyles=[]},vp=({root:e,actions:t,props:n})=>{Mp({root:e,actions:t,props:n});let r=t.concat().filter(s=>/^DID_/.test(s.type)).reverse().find(s=>nt[s.type]);if(r){e.ref.activeStyles=[];const s=nt[r.type];$(Pp,(i,o)=>{const a=e.ref[i];$(o,(l,u)=>{const c=s[i]&&typeof s[i][l]<"u"?s[i][l]:u;e.ref.activeStyles.push({control:a,key:l,value:c})})})}e.ref.activeStyles.forEach(({control:s,key:i,value:o})=>{s[i]=typeof o=="function"?o(e):o})},Mp=se({DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING:({root:e,action:t})=>{e.ref.buttonAbortItemProcessing.label=t.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD:({root:e,action:t})=>{e.ref.buttonAbortItemLoad.label=t.value},DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL:({root:e,action:t})=>{e.ref.buttonAbortItemRemoval.label=t.value},DID_REQUEST_ITEM_PROCESSING:({root:e})=>{e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_START_ITEM_LOAD:({root:e})=>{e.ref.loadProgressIndicator.spin=!0,e.ref.loadProgressIndicator.progress=0},DID_START_ITEM_REMOVE:({root:e})=>{e.ref.processProgressIndicator.spin=!0,e.ref.processProgressIndicator.progress=0},DID_UPDATE_ITEM_LOAD_PROGRESS:({root:e,action:t})=>{e.ref.loadProgressIndicator.spin=!1,e.ref.loadProgressIndicator.progress=t.progress},DID_UPDATE_ITEM_PROCESS_PROGRESS:({root:e,action:t})=>{e.ref.processProgressIndicator.spin=!1,e.ref.processProgressIndicator.progress=t.progress}}),Np=Y({create:Cp,write:vp,didCreateView:e=>{Je("CREATE_VIEW",{...e,view:e})},name:"file"}),xp=({root:e,props:t})=>{e.ref.fileName=be("legend"),e.appendChild(e.ref.fileName),e.ref.file=e.appendChildView(e.createChildView(Np,{id:t.id})),e.ref.data=!1},Fp=({root:e,props:t})=>{j(e.ref.fileName,Jr(e.query("GET_ITEM_NAME",t.id)))},Bp=Y({create:xp,ignoreRect:!0,write:se({DID_LOAD_ITEM:Fp}),didCreateView:e=>{Je("CREATE_VIEW",{...e,view:e})},tag:"fieldset",name:"file-wrapper"}),si={type:"spring",damping:.6,mass:7},Gp=({root:e,props:t})=>{[{name:"top"},{name:"center",props:{translateY:null,scaleY:null},mixins:{animations:{scaleY:si},styles:["translateY","scaleY"]}},{name:"bottom",props:{translateY:null},mixins:{animations:{translateY:si},styles:["translateY"]}}].forEach(n=>{Up(e,n,t.name)}),e.element.classList.add(`filepond--${t.name}`),e.ref.scalable=null},Up=(e,t,n)=>{const r=Y({name:`panel-${t.name} filepond--${n}`,mixins:t.mixins,ignoreRectUpdate:!0}),s=e.createChildView(r,t.props);e.ref[t.name]=e.appendChildView(s)},qp=({root:e,props:t})=>{if((e.ref.scalable===null||t.scalable!==e.ref.scalable)&&(e.ref.scalable=pa(t.scalable)?t.scalable:!0,e.element.dataset.scalable=e.ref.scalable),!t.height)return;const n=e.ref.top.rect.element,r=e.ref.bottom.rect.element,s=Math.max(n.height+r.height,t.height);e.ref.center.translateY=n.height,e.ref.center.scaleY=(s-n.height-r.height)/100,e.ref.bottom.translateY=s-r.height},va=Y({name:"panel",read:({root:e,props:t})=>t.heightCurrent=e.ref.bottom.translateY,write:qp,create:Gp,ignoreRect:!0,mixins:{apis:["height","heightCurrent","scalable"]}}),Vp=e=>{const t=e.map(r=>r.id);let n;return{setIndex:r=>{n=r},getIndex:()=>n,getItemIndex:r=>t.indexOf(r.id)}},ii={type:"spring",stiffness:.75,damping:.45,mass:10},oi="spring",ai={DID_START_ITEM_LOAD:"busy",DID_UPDATE_ITEM_LOAD_PROGRESS:"loading",DID_THROW_ITEM_INVALID:"load-invalid",DID_THROW_ITEM_LOAD_ERROR:"load-error",DID_LOAD_ITEM:"idle",DID_THROW_ITEM_REMOVE_ERROR:"remove-error",DID_START_ITEM_REMOVE:"busy",DID_START_ITEM_PROCESSING:"busy processing",DID_REQUEST_ITEM_PROCESSING:"busy processing",DID_UPDATE_ITEM_PROCESS_PROGRESS:"processing",DID_COMPLETE_ITEM_PROCESSING:"processing-complete",DID_THROW_ITEM_PROCESSING_ERROR:"processing-error",DID_THROW_ITEM_PROCESSING_REVERT_ERROR:"processing-revert-error",DID_ABORT_ITEM_PROCESSING:"cancelled",DID_REVERT_ITEM_PROCESSING:"idle"},$p=({root:e,props:t})=>{if(e.ref.handleClick=r=>e.dispatch("DID_ACTIVATE_ITEM",{id:t.id}),e.element.id=`filepond--item-${t.id}`,e.element.addEventListener("click",e.ref.handleClick),e.ref.container=e.appendChildView(e.createChildView(Bp,{id:t.id})),e.ref.panel=e.appendChildView(e.createChildView(va,{name:"item-panel"})),e.ref.panel.height=null,t.markedForRemoval=!1,!e.query("GET_ALLOW_REORDER"))return;e.element.dataset.dragState="idle";const n=r=>{if(!r.isPrimary)return;let s=!1;const i={x:r.pageX,y:r.pageY};t.dragOrigin={x:e.translateX,y:e.translateY},t.dragCenter={x:r.offsetX,y:r.offsetY};const o=Vp(e.query("GET_ACTIVE_ITEMS"));e.dispatch("DID_GRAB_ITEM",{id:t.id,dragState:o});const a=f=>{if(!f.isPrimary)return;f.stopPropagation(),f.preventDefault(),t.dragOffset={x:f.pageX-i.x,y:f.pageY-i.y},t.dragOffset.x*t.dragOffset.x+t.dragOffset.y*t.dragOffset.y>16&&!s&&(s=!0,e.element.removeEventListener("click",e.ref.handleClick)),e.dispatch("DID_DRAG_ITEM",{id:t.id,dragState:o})},l=f=>{f.isPrimary&&(t.dragOffset={x:f.pageX-i.x,y:f.pageY-i.y},c())},u=()=>{c()},c=()=>{document.removeEventListener("pointercancel",u),document.removeEventListener("pointermove",a),document.removeEventListener("pointerup",l),e.dispatch("DID_DROP_ITEM",{id:t.id,dragState:o}),s&&setTimeout(()=>e.element.addEventListener("click",e.ref.handleClick),0)};document.addEventListener("pointercancel",u),document.addEventListener("pointermove",a),document.addEventListener("pointerup",l)};e.element.addEventListener("pointerdown",n)},Hp=se({DID_UPDATE_PANEL_HEIGHT:({root:e,action:t})=>{e.height=t.height}}),jp=se({DID_GRAB_ITEM:({root:e,props:t})=>{t.dragOrigin={x:e.translateX,y:e.translateY}},DID_DRAG_ITEM:({root:e})=>{e.element.dataset.dragState="drag"},DID_DROP_ITEM:({root:e,props:t})=>{t.dragOffset=null,t.dragOrigin=null,e.element.dataset.dragState="drop"}},({root:e,actions:t,props:n,shouldOptimize:r})=>{e.element.dataset.dragState==="drop"&&e.scaleX<=1&&(e.element.dataset.dragState="idle");let s=t.concat().filter(o=>/^DID_/.test(o.type)).reverse().find(o=>ai[o.type]);s&&s.type!==n.currentState&&(n.currentState=s.type,e.element.dataset.filepondItemState=ai[n.currentState]||"");const i=e.query("GET_ITEM_PANEL_ASPECT_RATIO")||e.query("GET_PANEL_ASPECT_RATIO");i?r||(e.height=e.rect.element.width*i):(Hp({root:e,actions:t,props:n}),!e.height&&e.ref.container.rect.element.height>0&&(e.height=e.ref.container.rect.element.height)),r&&(e.ref.panel.height=null),e.ref.panel.height=e.height}),kp=Y({create:$p,write:jp,destroy:({root:e,props:t})=>{e.element.removeEventListener("click",e.ref.handleClick),e.dispatch("RELEASE_ITEM",{query:t.id})},tag:"li",name:"item",mixins:{apis:["id","interactionMethod","markedForRemoval","spawnDate","dragCenter","dragOrigin","dragOffset"],styles:["translateX","translateY","scaleX","scaleY","opacity","height"],animations:{scaleX:oi,scaleY:oi,translateX:ii,translateY:ii,opacity:{type:"tween",duration:150}}}});var Zr=(e,t)=>Math.max(1,Math.floor((e+1)/t));const es=(e,t,n)=>{if(!n)return;const r=e.rect.element.width,s=t.length;let i=null;if(s===0||n.top<t[0].rect.element.top)return-1;const a=t[0].rect.element,l=a.marginLeft+a.marginRight,u=a.width+l,c=Zr(r,u);if(c===1){for(let h=0;h<s;h++){const d=t[h],_=d.rect.outer.top+d.rect.element.height*.5;if(n.top<_)return h}return s}const f=a.marginTop+a.marginBottom,p=a.height+f;for(let h=0;h<s;h++){const d=h%c,_=Math.floor(h/c),E=d*u,g=_*p,I=g-a.marginTop,y=E+u,A=g+p+a.marginBottom;if(n.top<A&&n.top>I){if(n.left<y)return h;h!==s-1?i=h:i=null}}return i!==null?i:s},Ht={height:0,width:0,get getHeight(){return this.height},set setHeight(e){(this.height===0||e===0)&&(this.height=e)},get getWidth(){return this.width},set setWidth(e){(this.width===0||e===0)&&(this.width=e)},setDimensions:function(e,t){(this.height===0||e===0)&&(this.height=e),(this.width===0||t===0)&&(this.width=t)}},zp=({root:e})=>{K(e.element,"role","list"),e.ref.lastItemSpanwDate=Date.now()},Yp=({root:e,action:t})=>{const{id:n,index:r,interactionMethod:s}=t;e.ref.addIndex=r;const i=Date.now();let o=i,a=1;if(s!==Ee.NONE){a=0;const l=e.query("GET_ITEM_INSERT_INTERVAL"),u=i-e.ref.lastItemSpanwDate;o=u<l?i+(l-u):i}e.ref.lastItemSpanwDate=o,e.appendChildView(e.createChildView(kp,{spawnDate:o,id:n,opacity:a,interactionMethod:s}),r)},li=(e,t,n,r=0,s=1)=>{e.dragOffset?(e.translateX=null,e.translateY=null,e.translateX=e.dragOrigin.x+e.dragOffset.x,e.translateY=e.dragOrigin.y+e.dragOffset.y,e.scaleX=1.025,e.scaleY=1.025):(e.translateX=t,e.translateY=n,Date.now()>e.spawnDate&&(e.opacity===0&&Wp(e,t,n,r,s),e.scaleX=1,e.scaleY=1,e.opacity=1))},Wp=(e,t,n,r,s)=>{e.interactionMethod===Ee.NONE?(e.translateX=null,e.translateX=t,e.translateY=null,e.translateY=n):e.interactionMethod===Ee.DROP?(e.translateX=null,e.translateX=t-r*20,e.translateY=null,e.translateY=n-s*10,e.scaleX=.8,e.scaleY=.8):e.interactionMethod===Ee.BROWSE?(e.translateY=null,e.translateY=n-30):e.interactionMethod===Ee.API&&(e.translateX=null,e.translateX=t-30,e.translateY=null)},Xp=({root:e,action:t})=>{const{id:n}=t,r=e.childViews.find(s=>s.id===n);r&&(r.scaleX=.9,r.scaleY=.9,r.opacity=0,r.markedForRemoval=!0)},qn=e=>e.rect.element.height+e.rect.element.marginBottom*.5+e.rect.element.marginTop*.5,Kp=e=>e.rect.element.width+e.rect.element.marginLeft*.5+e.rect.element.marginRight*.5,Qp=({root:e,action:t})=>{const{id:n,dragState:r}=t,s=e.query("GET_ITEM",{id:n}),i=e.childViews.find(E=>E.id===n),o=e.childViews.length,a=r.getItemIndex(s);if(!i)return;const l={x:i.dragOrigin.x+i.dragOffset.x+i.dragCenter.x,y:i.dragOrigin.y+i.dragOffset.y+i.dragCenter.y},u=qn(i),c=Kp(i);let f=Math.floor(e.rect.outer.width/c);f>o&&(f=o);const p=Math.floor(o/f+1);Ht.setHeight=u*p,Ht.setWidth=c*f;var h={y:Math.floor(l.y/u),x:Math.floor(l.x/c),getGridIndex:function(){return l.y>Ht.getHeight||l.y<0||l.x>Ht.getWidth||l.x<0?a:this.y*f+this.x},getColIndex:function(){const g=e.query("GET_ACTIVE_ITEMS"),I=e.childViews.filter(L=>L.rect.element.height),y=g.map(L=>I.find(x=>x.id===L.id)),A=y.findIndex(L=>L===i),b=qn(i),w=y.length;let B=w,D=0,P=0,G=0;for(let L=0;L<w;L++)if(D=qn(y[L]),G=P,P=G+D,l.y<P){if(A>L){if(l.y<G+b){B=L;break}continue}B=L;break}return B}};const d=f>1?h.getGridIndex():h.getColIndex();e.dispatch("MOVE_ITEM",{query:i,index:d});const _=r.getIndex();if(_===void 0||_!==d){if(r.setIndex(d),_===void 0)return;e.dispatch("DID_REORDER_ITEMS",{items:e.query("GET_ACTIVE_ITEMS"),origin:a,target:d})}},Jp=se({DID_ADD_ITEM:Yp,DID_REMOVE_ITEM:Xp,DID_DRAG_ITEM:Qp}),Zp=({root:e,props:t,actions:n,shouldOptimize:r})=>{Jp({root:e,props:t,actions:n});const{dragCoordinates:s}=t,i=e.rect.element.width,o=e.childViews.filter(y=>y.rect.element.height),a=e.query("GET_ACTIVE_ITEMS").map(y=>o.find(A=>A.id===y.id)).filter(y=>y),l=s?es(e,a,s):null,u=e.ref.addIndex||null;e.ref.addIndex=null;let c=0,f=0,p=0;if(a.length===0)return;const h=a[0].rect.element,d=h.marginTop+h.marginBottom,_=h.marginLeft+h.marginRight,E=h.width+_,g=h.height+d,I=Zr(i,E);if(I===1){let y=0,A=0;a.forEach((b,w)=>{if(l){let P=w-l;P===-2?A=-d*.25:P===-1?A=-d*.75:P===0?A=d*.75:P===1?A=d*.25:A=0}r&&(b.translateX=null,b.translateY=null),b.markedForRemoval||li(b,0,y+A);let D=(b.rect.element.height+d)*(b.markedForRemoval?b.opacity:1);y+=D})}else{let y=0,A=0;a.forEach((b,w)=>{w===l&&(c=1),w===u&&(p+=1),b.markedForRemoval&&b.opacity<.5&&(f-=1);const B=w+p+c+f,D=B%I,P=Math.floor(B/I),G=D*E,L=P*g,x=Math.sign(G-y),Z=Math.sign(L-A);y=G,A=L,!b.markedForRemoval&&(r&&(b.translateX=null,b.translateY=null),li(b,G,L,x,Z))})}},eE=(e,t)=>t.filter(n=>n.data&&n.data.id?e.id===n.data.id:!0),tE=Y({create:zp,write:Zp,tag:"ul",name:"list",didWriteView:({root:e})=>{e.childViews.filter(t=>t.markedForRemoval&&t.opacity===0&&t.resting).forEach(t=>{t._destroy(),e.removeChildView(t)})},filterFrameActionsForChild:eE,mixins:{apis:["dragCoordinates"]}}),nE=({root:e,props:t})=>{e.ref.list=e.appendChildView(e.createChildView(tE)),t.dragCoordinates=null,t.overflowing=!1},rE=({root:e,props:t,action:n})=>{e.query("GET_ITEM_INSERT_LOCATION_FREEDOM")&&(t.dragCoordinates={left:n.position.scopeLeft-e.ref.list.rect.element.left,top:n.position.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},sE=({props:e})=>{e.dragCoordinates=null},iE=se({DID_DRAG:rE,DID_END_DRAG:sE}),oE=({root:e,props:t,actions:n})=>{if(iE({root:e,props:t,actions:n}),e.ref.list.dragCoordinates=t.dragCoordinates,t.overflowing&&!t.overflow&&(t.overflowing=!1,e.element.dataset.state="",e.height=null),t.overflow){const r=Math.round(t.overflow);r!==e.height&&(t.overflowing=!0,e.element.dataset.state="overflow",e.height=r)}},aE=Y({create:nE,write:oE,name:"list-scroller",mixins:{apis:["overflow","dragCoordinates"],styles:["height","translateY"],animations:{translateY:"spring"}}}),me=(e,t,n,r="")=>{n?K(e,t,r):e.removeAttribute(t)},lE=e=>{if(!(!e||e.value==="")){try{e.value=""}catch{}if(e.value){const t=be("form"),n=e.parentNode,r=e.nextSibling;t.appendChild(e),t.reset(),r?n.insertBefore(e,r):n.appendChild(e)}}},cE=({root:e,props:t})=>{e.element.id=`filepond--browser-${t.id}`,K(e.element,"name",e.query("GET_NAME")),K(e.element,"aria-controls",`filepond--assistant-${t.id}`),K(e.element,"aria-labelledby",`filepond--drop-label-${t.id}`),Ma({root:e,action:{value:e.query("GET_ACCEPTED_FILE_TYPES")}}),Na({root:e,action:{value:e.query("GET_ALLOW_MULTIPLE")}}),xa({root:e,action:{value:e.query("GET_ALLOW_DIRECTORIES_ONLY")}}),Ir({root:e}),Fa({root:e,action:{value:e.query("GET_REQUIRED")}}),Ba({root:e,action:{value:e.query("GET_CAPTURE_METHOD")}}),e.ref.handleChange=n=>{if(!e.element.value)return;const r=Array.from(e.element.files).map(s=>(s._relativePath=s.webkitRelativePath,s));setTimeout(()=>{t.onload(r),lE(e.element)},250)},e.element.addEventListener("change",e.ref.handleChange)},Ma=({root:e,action:t})=>{e.query("GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE")&&me(e.element,"accept",!!t.value,t.value?t.value.join(","):"")},Na=({root:e,action:t})=>{me(e.element,"multiple",t.value)},xa=({root:e,action:t})=>{me(e.element,"webkitdirectory",t.value)},Ir=({root:e})=>{const t=e.query("GET_DISABLED"),n=e.query("GET_ALLOW_BROWSE"),r=t||!n;me(e.element,"disabled",r)},Fa=({root:e,action:t})=>{t.value?e.query("GET_TOTAL_ITEMS")===0&&me(e.element,"required",!0):me(e.element,"required",!1)},Ba=({root:e,action:t})=>{me(e.element,"capture",!!t.value,t.value===!0?"":t.value)},ci=({root:e})=>{const{element:t}=e;e.query("GET_TOTAL_ITEMS")>0?(me(t,"required",!1),me(t,"name",!1)):(me(t,"name",!0,e.query("GET_NAME")),e.query("GET_CHECK_VALIDITY")&&t.setCustomValidity(""),e.query("GET_REQUIRED")&&me(t,"required",!0))},uE=({root:e})=>{e.query("GET_CHECK_VALIDITY")&&e.element.setCustomValidity(e.query("GET_LABEL_INVALID_FIELD"))},fE=Y({tag:"input",name:"browser",ignoreRect:!0,ignoreRectUpdate:!0,attributes:{type:"file"},create:cE,destroy:({root:e})=>{e.element.removeEventListener("change",e.ref.handleChange)},write:se({DID_LOAD_ITEM:ci,DID_REMOVE_ITEM:ci,DID_THROW_ITEM_INVALID:uE,DID_SET_DISABLED:Ir,DID_SET_ALLOW_BROWSE:Ir,DID_SET_ALLOW_DIRECTORIES_ONLY:xa,DID_SET_ALLOW_MULTIPLE:Na,DID_SET_ACCEPTED_FILE_TYPES:Ma,DID_SET_CAPTURE_METHOD:Ba,DID_SET_REQUIRED:Fa})}),ui={ENTER:13,SPACE:32},dE=({root:e,props:t})=>{const n=be("label");K(n,"for",`filepond--browser-${t.id}`),K(n,"id",`filepond--drop-label-${t.id}`),e.ref.handleKeyDown=r=>{(r.keyCode===ui.ENTER||r.keyCode===ui.SPACE)&&(r.preventDefault(),e.ref.label.click())},e.ref.handleClick=r=>{r.target===n||n.contains(r.target)||e.ref.label.click()},n.addEventListener("keydown",e.ref.handleKeyDown),e.element.addEventListener("click",e.ref.handleClick),Ga(n,t.caption),e.appendChild(n),e.ref.label=n},Ga=(e,t)=>{e.innerHTML=t;const n=e.querySelector(".filepond--label-action");return n&&K(n,"tabindex","0"),t},pE=Y({name:"drop-label",ignoreRect:!0,create:dE,destroy:({root:e})=>{e.ref.label.addEventListener("keydown",e.ref.handleKeyDown),e.element.removeEventListener("click",e.ref.handleClick)},write:se({DID_SET_LABEL_IDLE:({root:e,action:t})=>{Ga(e.ref.label,t.value)}}),mixins:{styles:["opacity","translateX","translateY"],animations:{opacity:{type:"tween",duration:150},translateX:"spring",translateY:"spring"}}}),EE=Y({name:"drip-blob",ignoreRect:!0,mixins:{styles:["translateX","translateY","scaleX","scaleY","opacity"],animations:{scaleX:"spring",scaleY:"spring",translateX:"spring",translateY:"spring",opacity:{type:"tween",duration:250}}}}),_E=({root:e})=>{const t=e.rect.element.width*.5,n=e.rect.element.height*.5;e.ref.blob=e.appendChildView(e.createChildView(EE,{opacity:0,scaleX:2.5,scaleY:2.5,translateX:t,translateY:n}))},hE=({root:e,action:t})=>{if(!e.ref.blob){_E({root:e});return}e.ref.blob.translateX=t.position.scopeLeft,e.ref.blob.translateY=t.position.scopeTop,e.ref.blob.scaleX=1,e.ref.blob.scaleY=1,e.ref.blob.opacity=1},mE=({root:e})=>{e.ref.blob&&(e.ref.blob.opacity=0)},gE=({root:e})=>{e.ref.blob&&(e.ref.blob.scaleX=2.5,e.ref.blob.scaleY=2.5,e.ref.blob.opacity=0)},TE=({root:e,props:t,actions:n})=>{IE({root:e,props:t,actions:n});const{blob:r}=e.ref;n.length===0&&r&&r.opacity===0&&(e.removeChildView(r),e.ref.blob=null)},IE=se({DID_DRAG:hE,DID_DROP:gE,DID_END_DRAG:mE}),RE=Y({ignoreRect:!0,ignoreRectUpdate:!0,name:"drip",write:TE}),Ua=(e,t)=>{try{const n=new DataTransfer;t.forEach(r=>{r instanceof File?n.items.add(r):n.items.add(new File([r],r.name,{type:r.type}))}),e.files=n.files}catch{return!1}return!0},yE=({root:e})=>e.ref.fields={},bn=(e,t)=>e.ref.fields[t],ts=e=>{e.query("GET_ACTIVE_ITEMS").forEach(t=>{e.ref.fields[t.id]&&e.element.appendChild(e.ref.fields[t.id])})},fi=({root:e})=>ts(e),OE=({root:e,action:t})=>{const s=!(e.query("GET_ITEM",t.id).origin===Q.LOCAL)&&e.query("SHOULD_UPDATE_FILE_INPUT"),i=be("input");i.type=s?"file":"hidden",i.name=e.query("GET_NAME"),e.ref.fields[t.id]=i,ts(e)},SE=({root:e,action:t})=>{const n=bn(e,t.id);if(!n||(t.serverFileReference!==null&&(n.value=t.serverFileReference),!e.query("SHOULD_UPDATE_FILE_INPUT")))return;const r=e.query("GET_ITEM",t.id);Ua(n,[r.file])},bE=({root:e,action:t})=>{e.query("SHOULD_UPDATE_FILE_INPUT")&&setTimeout(()=>{const n=bn(e,t.id);n&&Ua(n,[t.file])},0)},AE=({root:e})=>{e.element.disabled=e.query("GET_DISABLED")},DE=({root:e,action:t})=>{const n=bn(e,t.id);n&&(n.parentNode&&n.parentNode.removeChild(n),delete e.ref.fields[t.id])},wE=({root:e,action:t})=>{const n=bn(e,t.id);n&&(t.value===null?n.removeAttribute("value"):n.type!="file"&&(n.value=t.value),ts(e))},PE=se({DID_SET_DISABLED:AE,DID_ADD_ITEM:OE,DID_LOAD_ITEM:SE,DID_REMOVE_ITEM:DE,DID_DEFINE_VALUE:wE,DID_PREPARE_OUTPUT:bE,DID_REORDER_ITEMS:fi,DID_SORT_ITEMS:fi}),LE=Y({tag:"fieldset",name:"data",create:yE,write:PE,ignoreRect:!0}),CE=e=>"getRootNode"in e?e.getRootNode():document,vE=["jpg","jpeg","png","gif","bmp","webp","svg","tiff"],ME=["css","csv","html","txt"],NE={zip:"zip|compressed",epub:"application/epub+zip"},qa=(e="")=>(e=e.toLowerCase(),vE.includes(e)?"image/"+(e==="jpg"?"jpeg":e==="svg"?"svg+xml":e):ME.includes(e)?"text/"+e:NE[e]||""),ns=e=>new Promise((t,n)=>{const r=$E(e);if(r.length&&!xE(e))return t(r);FE(e).then(t)}),xE=e=>e.files?e.files.length>0:!1,FE=e=>new Promise((t,n)=>{const r=(e.items?Array.from(e.items):[]).filter(s=>BE(s)).map(s=>GE(s));if(!r.length){t(e.files?Array.from(e.files):[]);return}Promise.all(r).then(s=>{const i=[];s.forEach(o=>{i.push.apply(i,o)}),t(i.filter(o=>o).map(o=>(o._relativePath||(o._relativePath=o.webkitRelativePath),o)))}).catch(console.error)}),BE=e=>{if(Va(e)){const t=rs(e);if(t)return t.isFile||t.isDirectory}return e.kind==="file"},GE=e=>new Promise((t,n)=>{if(VE(e)){UE(rs(e)).then(t).catch(n);return}t([e.getAsFile()])}),UE=e=>new Promise((t,n)=>{const r=[];let s=0,i=0;const o=()=>{i===0&&s===0&&t(r)},a=l=>{s++;const u=l.createReader(),c=()=>{u.readEntries(f=>{if(f.length===0){s--,o();return}f.forEach(p=>{p.isDirectory?a(p):(i++,p.file(h=>{const d=qE(h);p.fullPath&&(d._relativePath=p.fullPath),r.push(d),i--,o()}))}),c()},n)};c()};a(e)}),qE=e=>{if(e.type.length)return e;const t=e.lastModifiedDate,n=e.name,r=qa(Sn(e.name));return r.length&&(e=e.slice(0,e.size,r),e.name=n,e.lastModifiedDate=t),e},VE=e=>Va(e)&&(rs(e)||{}).isDirectory,Va=e=>"webkitGetAsEntry"in e,rs=e=>e.webkitGetAsEntry(),$E=e=>{let t=[];try{if(t=jE(e),t.length)return t;t=HE(e)}catch{}return t},HE=e=>{let t=e.getData("url");return typeof t=="string"&&t.length?[t]:[]},jE=e=>{let t=e.getData("text/html");if(typeof t=="string"&&t.length){const n=t.match(/src\s*=\s*"(.+?)"/);if(n)return[n[1]]}return[]},on=[],Xe=e=>({pageLeft:e.pageX,pageTop:e.pageY,scopeLeft:e.offsetX||e.layerX,scopeTop:e.offsetY||e.layerY}),kE=(e,t,n)=>{const r=zE(t),s={element:e,filterElement:n,state:null,ondrop:()=>{},onenter:()=>{},ondrag:()=>{},onexit:()=>{},onload:()=>{},allowdrop:()=>{}};return s.destroy=r.addListener(s),s},zE=e=>{const t=on.find(r=>r.element===e);if(t)return t;const n=YE(e);return on.push(n),n},YE=e=>{const t=[],n={dragenter:XE,dragover:KE,dragleave:JE,drop:QE},r={};$(n,(i,o)=>{r[i]=o(e,t),e.addEventListener(i,r[i],!1)});const s={element:e,addListener:i=>(t.push(i),()=>{t.splice(t.indexOf(i),1),t.length===0&&(on.splice(on.indexOf(s),1),$(n,o=>{e.removeEventListener(o,r[o],!1)}))})};return s},WE=(e,t)=>("elementFromPoint"in e||(e=document),e.elementFromPoint(t.x,t.y)),ss=(e,t)=>{const n=CE(t),r=WE(n,{x:e.pageX-window.pageXOffset,y:e.pageY-window.pageYOffset});return r===t||t.contains(r)};let $a=null;const jt=(e,t)=>{try{e.dropEffect=t}catch{}},XE=(e,t)=>n=>{n.preventDefault(),$a=n.target,t.forEach(r=>{const{element:s,onenter:i}=r;ss(n,s)&&(r.state="enter",i(Xe(n)))})},KE=(e,t)=>n=>{n.preventDefault();const r=n.dataTransfer;ns(r).then(s=>{let i=!1;t.some(o=>{const{filterElement:a,element:l,onenter:u,onexit:c,ondrag:f,allowdrop:p}=o;jt(r,"copy");const h=p(s);if(!h){jt(r,"none");return}if(ss(n,l)){if(i=!0,o.state===null){o.state="enter",u(Xe(n));return}if(o.state="over",a&&!h){jt(r,"none");return}f(Xe(n))}else a&&!i&&jt(r,"none"),o.state&&(o.state=null,c(Xe(n)))})})},QE=(e,t)=>n=>{n.preventDefault();const r=n.dataTransfer;ns(r).then(s=>{t.forEach(i=>{const{filterElement:o,element:a,ondrop:l,onexit:u,allowdrop:c}=i;if(i.state=null,!(o&&!ss(n,a))){if(!c(s))return u(Xe(n));l(Xe(n),s)}})})},JE=(e,t)=>n=>{$a===n.target&&t.forEach(r=>{const{onexit:s}=r;r.state=null,s(Xe(n))})},ZE=(e,t,n)=>{e.classList.add("filepond--hopper");const{catchesDropsOnPage:r,requiresDropOnElement:s,filterItems:i=c=>c}=n,o=kE(e,r?document.documentElement:e,s);let a="",l="";o.allowdrop=c=>t(i(c)),o.ondrop=(c,f)=>{const p=i(f);if(!t(p)){u.ondragend(c);return}l="drag-drop",u.onload(p,c)},o.ondrag=c=>{u.ondrag(c)},o.onenter=c=>{l="drag-over",u.ondragstart(c)},o.onexit=c=>{l="drag-exit",u.ondragend(c)};const u={updateHopperState:()=>{a!==l&&(e.dataset.hopperState=l,a=l)},onload:()=>{},ondragstart:()=>{},ondrag:()=>{},ondragend:()=>{},destroy:()=>{o.destroy()}};return u};let Rr=!1;const rt=[],Ha=e=>{const t=document.activeElement;if(t&&(/textarea|input/i.test(t.nodeName)||t.getAttribute("contenteditable")==="true")){let r=!1,s=t;for(;s!==document.body;){if(s.classList.contains("filepond--root")){r=!0;break}s=s.parentNode}if(!r)return}ns(e.clipboardData).then(r=>{r.length&&rt.forEach(s=>s(r))})},e_=e=>{rt.includes(e)||(rt.push(e),!Rr&&(Rr=!0,document.addEventListener("paste",Ha)))},t_=e=>{Xr(rt,rt.indexOf(e)),rt.length===0&&(document.removeEventListener("paste",Ha),Rr=!1)},n_=()=>{const e=n=>{t.onload(n)},t={destroy:()=>{t_(e)},onload:()=>{}};return e_(e),t},r_=({root:e,props:t})=>{e.element.id=`filepond--assistant-${t.id}`,K(e.element,"role","alert"),K(e.element,"aria-live","polite"),K(e.element,"aria-relevant","additions")};let di=null,pi=null;const Vn=[],An=(e,t)=>{e.element.textContent=t},s_=e=>{e.element.textContent=""},ja=(e,t,n)=>{const r=e.query("GET_TOTAL_ITEMS");An(e,`${n} ${t}, ${r} ${r===1?e.query("GET_LABEL_FILE_COUNT_SINGULAR"):e.query("GET_LABEL_FILE_COUNT_PLURAL")}`),clearTimeout(pi),pi=setTimeout(()=>{s_(e)},1500)},ka=e=>e.element.parentNode.contains(document.activeElement),i_=({root:e,action:t})=>{if(!ka(e))return;e.element.textContent="";const n=e.query("GET_ITEM",t.id);Vn.push(n.filename),clearTimeout(di),di=setTimeout(()=>{ja(e,Vn.join(", "),e.query("GET_LABEL_FILE_ADDED")),Vn.length=0},750)},o_=({root:e,action:t})=>{if(!ka(e))return;const n=t.item;ja(e,n.filename,e.query("GET_LABEL_FILE_REMOVED"))},a_=({root:e,action:t})=>{const r=e.query("GET_ITEM",t.id).filename,s=e.query("GET_LABEL_FILE_PROCESSING_COMPLETE");An(e,`${r} ${s}`)},Ei=({root:e,action:t})=>{const r=e.query("GET_ITEM",t.id).filename,s=e.query("GET_LABEL_FILE_PROCESSING_ABORTED");An(e,`${r} ${s}`)},kt=({root:e,action:t})=>{const r=e.query("GET_ITEM",t.id).filename;An(e,`${t.status.main} ${r} ${t.status.sub}`)},l_=Y({create:r_,ignoreRect:!0,ignoreRectUpdate:!0,write:se({DID_LOAD_ITEM:i_,DID_REMOVE_ITEM:o_,DID_COMPLETE_ITEM_PROCESSING:a_,DID_ABORT_ITEM_PROCESSING:Ei,DID_REVERT_ITEM_PROCESSING:Ei,DID_THROW_ITEM_REMOVE_ERROR:kt,DID_THROW_ITEM_LOAD_ERROR:kt,DID_THROW_ITEM_INVALID:kt,DID_THROW_ITEM_PROCESSING_ERROR:kt}),tag:"span",name:"assistant"}),za=(e,t="-")=>e.replace(new RegExp(`${t}.`,"g"),n=>n.charAt(1).toUpperCase()),Ya=(e,t=16,n=!0)=>{let r=Date.now(),s=null;return(...i)=>{clearTimeout(s);const o=Date.now()-r,a=()=>{r=Date.now(),e(...i)};o<t?n||(s=setTimeout(a,t-o)):a()}},c_=1e6,an=e=>e.preventDefault(),u_=({root:e,props:t})=>{const n=e.query("GET_ID");n&&(e.element.id=n);const r=e.query("GET_CLASS_NAME");r&&r.split(" ").filter(l=>l.length).forEach(l=>{e.element.classList.add(l)}),e.ref.label=e.appendChildView(e.createChildView(pE,{...t,translateY:null,caption:e.query("GET_LABEL_IDLE")})),e.ref.list=e.appendChildView(e.createChildView(aE,{translateY:null})),e.ref.panel=e.appendChildView(e.createChildView(va,{name:"panel-root"})),e.ref.assistant=e.appendChildView(e.createChildView(l_,{...t})),e.ref.data=e.appendChildView(e.createChildView(LE,{...t})),e.ref.measure=be("div"),e.ref.measure.style.height="100%",e.element.appendChild(e.ref.measure),e.ref.bounds=null,e.query("GET_STYLES").filter(l=>!Se(l.value)).map(({name:l,value:u})=>{e.element.dataset[l]=u}),e.ref.widthPrevious=null,e.ref.widthUpdated=Ya(()=>{e.ref.updateHistory=[],e.dispatch("DID_RESIZE_ROOT")},250),e.ref.previousAspectRatio=null,e.ref.updateHistory=[];const s=window.matchMedia("(pointer: fine) and (hover: hover)").matches,i="PointerEvent"in window;e.query("GET_ALLOW_REORDER")&&i&&!s&&(e.element.addEventListener("touchmove",an,{passive:!1}),e.element.addEventListener("gesturestart",an));const o=e.query("GET_CREDITS");if(o.length===2){const l=document.createElement("a");l.className="filepond--credits",l.href=o[0],l.tabIndex=-1,l.target="_blank",l.rel="noopener noreferrer",l.textContent=o[1],e.element.appendChild(l),e.ref.credits=l}},f_=({root:e,props:t,actions:n})=>{if(h_({root:e,props:t,actions:n}),n.filter(w=>/^DID_SET_STYLE_/.test(w.type)).filter(w=>!Se(w.data.value)).map(({type:w,data:B})=>{const D=za(w.substring(8).toLowerCase(),"_");e.element.dataset[D]=B.value,e.invalidateLayout()}),e.rect.element.hidden)return;e.rect.element.width!==e.ref.widthPrevious&&(e.ref.widthPrevious=e.rect.element.width,e.ref.widthUpdated());let r=e.ref.bounds;r||(r=e.ref.bounds=E_(e),e.element.removeChild(e.ref.measure),e.ref.measure=null);const{hopper:s,label:i,list:o,panel:a}=e.ref;s&&s.updateHopperState();const l=e.query("GET_PANEL_ASPECT_RATIO"),u=e.query("GET_ALLOW_MULTIPLE"),c=e.query("GET_TOTAL_ITEMS"),f=u?e.query("GET_MAX_FILES")||c_:1,p=c===f,h=n.find(w=>w.type==="DID_ADD_ITEM");if(p&&h){const w=h.data.interactionMethod;i.opacity=0,u?i.translateY=-40:w===Ee.API?i.translateX=40:w===Ee.BROWSE?i.translateY=40:i.translateY=30}else p||(i.opacity=1,i.translateX=0,i.translateY=0);const d=d_(e),_=p_(e),E=i.rect.element.height,g=!u||p?0:E,I=p?o.rect.element.marginTop:0,y=c===0?0:o.rect.element.marginBottom,A=g+I+_.visual+y,b=g+I+_.bounds+y;if(o.translateY=Math.max(0,g-o.rect.element.marginTop)-d.top,l){const w=e.rect.element.width,B=w*l;l!==e.ref.previousAspectRatio&&(e.ref.previousAspectRatio=l,e.ref.updateHistory=[]);const D=e.ref.updateHistory;D.push(w);const P=2;if(D.length>P*2){const L=D.length,x=L-10;let Z=0;for(let O=L;O>=x;O--)if(D[O]===D[O-2]&&Z++,Z>=P)return}a.scalable=!1,a.height=B;const G=B-g-(y-d.bottom)-(p?I:0);_.visual>G?o.overflow=G:o.overflow=null,e.height=B}else if(r.fixedHeight){a.scalable=!1;const w=r.fixedHeight-g-(y-d.bottom)-(p?I:0);_.visual>w?o.overflow=w:o.overflow=null}else if(r.cappedHeight){const w=A>=r.cappedHeight,B=Math.min(r.cappedHeight,A);a.scalable=!0,a.height=w?B:B-d.top-d.bottom;const D=B-g-(y-d.bottom)-(p?I:0);A>r.cappedHeight&&_.visual>D?o.overflow=D:o.overflow=null,e.height=Math.min(r.cappedHeight,b-d.top-d.bottom)}else{const w=c>0?d.top+d.bottom:0;a.scalable=!0,a.height=Math.max(E,A-w),e.height=Math.max(E,b-w)}e.ref.credits&&a.heightCurrent&&(e.ref.credits.style.transform=`translateY(${a.heightCurrent}px)`)},d_=e=>{const t=e.ref.list.childViews[0].childViews[0];return t?{top:t.rect.element.marginTop,bottom:t.rect.element.marginBottom}:{top:0,bottom:0}},p_=e=>{let t=0,n=0;const r=e.ref.list,s=r.childViews[0],i=s.childViews.filter(I=>I.rect.element.height),o=e.query("GET_ACTIVE_ITEMS").map(I=>i.find(y=>y.id===I.id)).filter(I=>I);if(o.length===0)return{visual:t,bounds:n};const a=s.rect.element.width,l=es(s,o,r.dragCoordinates),u=o[0].rect.element,c=u.marginTop+u.marginBottom,f=u.marginLeft+u.marginRight,p=u.width+f,h=u.height+c,d=typeof l<"u"&&l>=0?1:0,_=o.find(I=>I.markedForRemoval&&I.opacity<.45)?-1:0,E=o.length+d+_,g=Zr(a,p);return g===1?o.forEach(I=>{const y=I.rect.element.height+c;n+=y,t+=y*I.opacity}):(n=Math.ceil(E/g)*h,t=n),{visual:t,bounds:n}},E_=e=>{const t=e.ref.measureHeight||null;return{cappedHeight:parseInt(e.style.maxHeight,10)||null,fixedHeight:t===0?null:t}},is=(e,t)=>{const n=e.query("GET_ALLOW_REPLACE"),r=e.query("GET_ALLOW_MULTIPLE"),s=e.query("GET_TOTAL_ITEMS");let i=e.query("GET_MAX_FILES");const o=t.length;return!r&&o>1?(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:H("warning",0,"Max files")}),!0):(i=r?i:1,!r&&n?!1:dt(i)&&s+o>i?(e.dispatch("DID_THROW_MAX_FILES",{source:t,error:H("warning",0,"Max files")}),!0):!1)},__=(e,t,n)=>{const r=e.childViews[0];return es(r,t,{left:n.scopeLeft-r.rect.element.left,top:n.scopeTop-(e.rect.outer.top+e.rect.element.marginTop+e.rect.element.scrollTop)})},_i=e=>{const t=e.query("GET_ALLOW_DROP"),n=e.query("GET_DISABLED"),r=t&&!n;if(r&&!e.ref.hopper){const s=ZE(e.element,i=>{const o=e.query("GET_BEFORE_DROP_FILE")||(()=>!0);return e.query("GET_DROP_VALIDATION")?i.every(l=>Je("ALLOW_HOPPER_ITEM",l,{query:e.query}).every(u=>u===!0)&&o(l)):!0},{filterItems:i=>{const o=e.query("GET_IGNORED_FILES");return i.filter(a=>We(a)?!o.includes(a.name.toLowerCase()):!0)},catchesDropsOnPage:e.query("GET_DROP_ON_PAGE"),requiresDropOnElement:e.query("GET_DROP_ON_ELEMENT")});s.onload=(i,o)=>{const l=e.ref.list.childViews[0].childViews.filter(c=>c.rect.element.height),u=e.query("GET_ACTIVE_ITEMS").map(c=>l.find(f=>f.id===c.id)).filter(c=>c);_e("ADD_ITEMS",i,{dispatch:e.dispatch}).then(c=>{if(is(e,c))return!1;e.dispatch("ADD_ITEMS",{items:c,index:__(e.ref.list,u,o),interactionMethod:Ee.DROP})}),e.dispatch("DID_DROP",{position:o}),e.dispatch("DID_END_DRAG",{position:o})},s.ondragstart=i=>{e.dispatch("DID_START_DRAG",{position:i})},s.ondrag=Ya(i=>{e.dispatch("DID_DRAG",{position:i})}),s.ondragend=i=>{e.dispatch("DID_END_DRAG",{position:i})},e.ref.hopper=s,e.ref.drip=e.appendChildView(e.createChildView(RE))}else!r&&e.ref.hopper&&(e.ref.hopper.destroy(),e.ref.hopper=null,e.removeChildView(e.ref.drip))},hi=(e,t)=>{const n=e.query("GET_ALLOW_BROWSE"),r=e.query("GET_DISABLED"),s=n&&!r;s&&!e.ref.browser?e.ref.browser=e.appendChildView(e.createChildView(fE,{...t,onload:i=>{_e("ADD_ITEMS",i,{dispatch:e.dispatch}).then(o=>{if(is(e,o))return!1;e.dispatch("ADD_ITEMS",{items:o,index:-1,interactionMethod:Ee.BROWSE})})}}),0):!s&&e.ref.browser&&(e.removeChildView(e.ref.browser),e.ref.browser=null)},mi=e=>{const t=e.query("GET_ALLOW_PASTE"),n=e.query("GET_DISABLED"),r=t&&!n;r&&!e.ref.paster?(e.ref.paster=n_(),e.ref.paster.onload=s=>{_e("ADD_ITEMS",s,{dispatch:e.dispatch}).then(i=>{if(is(e,i))return!1;e.dispatch("ADD_ITEMS",{items:i,index:-1,interactionMethod:Ee.PASTE})})}):!r&&e.ref.paster&&(e.ref.paster.destroy(),e.ref.paster=null)},h_=se({DID_SET_ALLOW_BROWSE:({root:e,props:t})=>{hi(e,t)},DID_SET_ALLOW_DROP:({root:e})=>{_i(e)},DID_SET_ALLOW_PASTE:({root:e})=>{mi(e)},DID_SET_DISABLED:({root:e,props:t})=>{_i(e),mi(e),hi(e,t),e.query("GET_DISABLED")?e.element.dataset.disabled="disabled":e.element.removeAttribute("data-disabled")}}),m_=Y({name:"root",read:({root:e})=>{e.ref.measure&&(e.ref.measureHeight=e.ref.measure.offsetHeight)},create:u_,write:f_,destroy:({root:e})=>{e.ref.paster&&e.ref.paster.destroy(),e.ref.hopper&&e.ref.hopper.destroy(),e.element.removeEventListener("touchmove",an),e.element.removeEventListener("gesturestart",an)},mixins:{styles:["height"]}}),g_=(e={})=>{let t=null;const n=sn(),r=Nf(Td(n),[Gd,yd(n)],[cp,Rd(n)]);r.dispatch("SET_OPTIONS",{options:e});const s=()=>{document.hidden||r.dispatch("KICK")};document.addEventListener("visibilitychange",s);let i=null,o=!1,a=!1,l=null,u=null;const c=()=>{o||(o=!0),clearTimeout(i),i=setTimeout(()=>{o=!1,l=null,u=null,a&&(a=!1,r.dispatch("DID_STOP_RESIZE"))},500)};window.addEventListener("resize",c);const f=m_(r,{id:Wr()});let p=!1,h=!1;const d={_read:()=>{o&&(u=window.innerWidth,l||(l=u),!a&&u!==l&&(r.dispatch("DID_START_RESIZE"),a=!0)),h&&p&&(p=f.element.offsetParent===null),!p&&(f._read(),h=f.rect.element.hidden)},_write:R=>{const S=r.processActionQueue().filter(C=>!/^SET_/.test(C.type));p&&!S.length||(I(S),p=f._write(R,S,a),bd(r.query("GET_ITEMS")),p&&r.processDispatchQueue())}},_=R=>S=>{const C={type:R};if(!S)return C;if(S.hasOwnProperty("error")&&(C.error=S.error?{...S.error}:null),S.status&&(C.status={...S.status}),S.file&&(C.output=S.file),S.source)C.file=S.source;else if(S.item||S.id){const v=S.item?S.item:r.query("GET_ITEM",S.id);C.file=v?oe(v):null}return S.items&&(C.items=S.items.map(oe)),/progress/.test(R)&&(C.progress=S.progress),S.hasOwnProperty("origin")&&S.hasOwnProperty("target")&&(C.origin=S.origin,C.target=S.target),C},E={DID_DESTROY:_("destroy"),DID_INIT:_("init"),DID_THROW_MAX_FILES:_("warning"),DID_INIT_ITEM:_("initfile"),DID_START_ITEM_LOAD:_("addfilestart"),DID_UPDATE_ITEM_LOAD_PROGRESS:_("addfileprogress"),DID_LOAD_ITEM:_("addfile"),DID_THROW_ITEM_INVALID:[_("error"),_("addfile")],DID_THROW_ITEM_LOAD_ERROR:[_("error"),_("addfile")],DID_THROW_ITEM_REMOVE_ERROR:[_("error"),_("removefile")],DID_PREPARE_OUTPUT:_("preparefile"),DID_START_ITEM_PROCESSING:_("processfilestart"),DID_UPDATE_ITEM_PROCESS_PROGRESS:_("processfileprogress"),DID_ABORT_ITEM_PROCESSING:_("processfileabort"),DID_COMPLETE_ITEM_PROCESSING:_("processfile"),DID_COMPLETE_ITEM_PROCESSING_ALL:_("processfiles"),DID_REVERT_ITEM_PROCESSING:_("processfilerevert"),DID_THROW_ITEM_PROCESSING_ERROR:[_("error"),_("processfile")],DID_REMOVE_ITEM:_("removefile"),DID_UPDATE_ITEMS:_("updatefiles"),DID_ACTIVATE_ITEM:_("activatefile"),DID_REORDER_ITEMS:_("reorderfiles")},g=R=>{const S={pond:q,...R};delete S.type,f.element.dispatchEvent(new CustomEvent(`FilePond:${R.type}`,{detail:S,bubbles:!0,cancelable:!0,composed:!0}));const C=[];R.hasOwnProperty("error")&&C.push(R.error),R.hasOwnProperty("file")&&C.push(R.file);const v=["type","error","file"];Object.keys(R).filter(F=>!v.includes(F)).forEach(F=>C.push(R[F])),q.fire(R.type,...C);const W=r.query(`GET_ON${R.type.toUpperCase()}`);W&&W(...C)},I=R=>{R.length&&R.filter(S=>E[S.type]).forEach(S=>{const C=E[S.type];(Array.isArray(C)?C:[C]).forEach(v=>{S.type==="DID_INIT_ITEM"?g(v(S.data)):setTimeout(()=>{g(v(S.data))},0)})})},y=R=>r.dispatch("SET_OPTIONS",{options:R}),A=R=>r.query("GET_ACTIVE_ITEM",R),b=R=>new Promise((S,C)=>{r.dispatch("REQUEST_ITEM_PREPARE",{query:R,success:v=>{S(v)},failure:v=>{C(v)}})}),w=(R,S={})=>new Promise((C,v)=>{P([{source:R,options:S}],{index:S.index}).then(W=>C(W&&W[0])).catch(v)}),B=R=>R.file&&R.id,D=(R,S)=>(typeof R=="object"&&!B(R)&&!S&&(S=R,R=void 0),r.dispatch("REMOVE_ITEM",{...S,query:R}),r.query("GET_ACTIVE_ITEM",R)===null),P=(...R)=>new Promise((S,C)=>{const v=[],W={};if(In(R[0]))v.push.apply(v,R[0]),Object.assign(W,R[1]||{});else{const F=R[R.length-1];typeof F=="object"&&!(F instanceof Blob)&&Object.assign(W,R.pop()),v.push(...R)}r.dispatch("ADD_ITEMS",{items:v,index:W.index,interactionMethod:Ee.API,success:S,failure:C})}),G=()=>r.query("GET_ACTIVE_ITEMS"),L=R=>new Promise((S,C)=>{r.dispatch("REQUEST_ITEM_PROCESSING",{query:R,success:v=>{S(v)},failure:v=>{C(v)}})}),x=(...R)=>{const S=Array.isArray(R[0])?R[0]:R,C=S.length?S:G();return Promise.all(C.map(b))},Z=(...R)=>{const S=Array.isArray(R[0])?R[0]:R;if(!S.length){const C=G().filter(v=>!(v.status===M.IDLE&&v.origin===Q.LOCAL)&&v.status!==M.PROCESSING&&v.status!==M.PROCESSING_COMPLETE&&v.status!==M.PROCESSING_REVERT_ERROR);return Promise.all(C.map(L))}return Promise.all(S.map(L))},O=(...R)=>{const S=Array.isArray(R[0])?R[0]:R;let C;typeof S[S.length-1]=="object"?C=S.pop():Array.isArray(R[0])&&(C=R[1]);const v=G();return S.length?S.map(F=>Ge(F)?v[F]?v[F].id:null:F).filter(F=>F).map(F=>D(F,C)):Promise.all(v.map(F=>D(F,C)))},q={...On(),...d,...Id(r,n),setOptions:y,addFile:w,addFiles:P,getFile:A,processFile:L,prepareFile:b,removeFile:D,moveFile:(R,S)=>r.dispatch("MOVE_ITEM",{query:R,index:S}),getFiles:G,processFiles:Z,removeFiles:O,prepareFiles:x,sort:R=>r.dispatch("SORT",{compare:R}),browse:()=>{var R=f.element.querySelector("input[type=file]");R&&R.click()},destroy:()=>{q.fire("destroy",f.element),r.dispatch("ABORT_ALL"),f._destroy(),window.removeEventListener("resize",c),document.removeEventListener("visibilitychange",s),r.dispatch("DID_DESTROY")},insertBefore:R=>qs(f.element,R),insertAfter:R=>Vs(f.element,R),appendTo:R=>R.appendChild(f.element),replaceElement:R=>{qs(f.element,R),R.parentNode.removeChild(R),t=R},restoreElement:()=>{t&&(Vs(t,f.element),f.element.parentNode.removeChild(f.element),t=null)},isAttachedTo:R=>f.element===R||t===R,element:{get:()=>f.element},status:{get:()=>r.query("GET_STATUS")}};return r.dispatch("DID_INIT"),Le(q)},Wa=(e={})=>{const t={};return $(sn(),(r,s)=>{t[r]=s[0]}),g_({...t,...e})},T_=e=>e.charAt(0).toLowerCase()+e.slice(1),I_=e=>za(e.replace(/^data-/,"")),Xa=(e,t)=>{$(t,(n,r)=>{$(e,(s,i)=>{const o=new RegExp(n);if(!o.test(s)||(delete e[s],r===!1))return;if(re(r)){e[r]=i;return}const l=r.group;J(r)&&!e[l]&&(e[l]={}),e[l][T_(s.replace(o,""))]=i}),r.mapping&&Xa(e[r.group],r.mapping)})},R_=(e,t={})=>{const n=[];$(e.attributes,s=>{n.push(e.attributes[s])});const r=n.filter(s=>s.name).reduce((s,i)=>{const o=K(e,i.name);return s[I_(i.name)]=o===i.name?!0:o,s},{});return Xa(r,t),r},y_=(e,t={})=>{const n={"^class$":"className","^multiple$":"allowMultiple","^capture$":"captureMethod","^webkitdirectory$":"allowDirectoriesOnly","^server":{group:"server",mapping:{"^process":{group:"process"},"^revert":{group:"revert"},"^fetch":{group:"fetch"},"^restore":{group:"restore"},"^load":{group:"load"}}},"^type$":!1,"^files$":!1};Je("SET_ATTRIBUTE_TO_OPTION_MAP",n);const r={...t},s=R_(e.nodeName==="FIELDSET"?e.querySelector("input[type=file]"):e,n);Object.keys(s).forEach(o=>{J(s[o])?(J(r[o])||(r[o]={}),Object.assign(r[o],s[o])):r[o]=s[o]}),r.files=(t.files||[]).concat(Array.from(e.querySelectorAll("input:not([type=file])")).map(o=>({source:o.value,options:{type:o.dataset.type}})));const i=Wa(r);return e.files&&Array.from(e.files).forEach(o=>{i.addFile(o)}),i.replaceElement(e),i},O_=(...e)=>Mf(e[0])?y_(...e):Wa(...e),S_=["fire","_read","_write"],gi=e=>{const t={};return ma(e,t,S_),t},b_=(e,t)=>e.replace(/(?:{([a-zA-Z]+)})/g,(n,r)=>t[r]),A_=e=>{const t=new Blob(["(",e.toString(),")()"],{type:"application/javascript"}),n=URL.createObjectURL(t),r=new Worker(n);return{transfer:(s,i)=>{},post:(s,i,o)=>{const a=Wr();r.onmessage=l=>{l.data.id===a&&i(l.data.message)},r.postMessage({id:a,message:s},o)},terminate:()=>{r.terminate(),URL.revokeObjectURL(n)}}},D_=e=>new Promise((t,n)=>{const r=new Image;r.onload=()=>{t(r)},r.onerror=s=>{n(s)},r.src=e}),Ka=(e,t)=>{const n=e.slice(0,e.size,e.type);return n.lastModifiedDate=e.lastModifiedDate,n.name=t,n},w_=e=>Ka(e,e.name),Ti=[],P_=e=>{if(Ti.includes(e))return;Ti.push(e);const t=e({addFilter:Dd,utils:{Type:T,forin:$,isString:re,isFile:We,toNaturalFileSize:Pa,replaceInString:b_,getExtensionFromFilename:Sn,getFilenameWithoutExtension:Aa,guesstimateMimeType:qa,getFileFromBlob:ot,getFilenameFromURL:vt,createRoute:se,createWorker:A_,createView:Y,createItemAPI:oe,loadImage:D_,copyFile:w_,renameFile:Ka,createBlob:Oa,applyFilterChain:_e,text:j,getNumericAspectRatioFromString:Ia},views:{fileActionButton:wa}});wd(t.options)},L_=()=>Object.prototype.toString.call(window.operamini)==="[object OperaMini]",C_=()=>"Promise"in window,v_=()=>"slice"in Blob.prototype,M_=()=>"URL"in window&&"createObjectURL"in window.URL,N_=()=>"visibilityState"in document,x_=()=>"performance"in window,F_=()=>"supports"in(window.CSS||{}),B_=()=>/MSIE|Trident/.test(window.navigator.userAgent),Ii=(()=>{const e=fa()&&!L_()&&N_()&&C_()&&v_()&&M_()&&x_()&&(F_()||B_());return()=>e})(),Pe={apps:[]},G_="filepond",Ze=()=>{};let Ri={},$n=Ze,Hn=Ze,yi=Ze,Oi=Ze,Si=Ze,bi=Ze,Ai=Ze;if(Ii()){id(()=>{Pe.apps.forEach(n=>n._read())},n=>{Pe.apps.forEach(r=>r._write(n))});const e=()=>{document.dispatchEvent(new CustomEvent("FilePond:loaded",{detail:{supported:Ii,create:$n,destroy:Hn,parse:yi,find:Oi,registerPlugin:Si,setOptions:Ai}})),document.removeEventListener("DOMContentLoaded",e)};document.readyState!=="loading"?setTimeout(()=>e(),0):document.addEventListener("DOMContentLoaded",e);const t=()=>$(sn(),(n,r)=>{Ri[n]=r[1]});Ri={},t(),$n=(...n)=>{const r=O_(...n);return r.on("destroy",Hn),Pe.apps.push(r),gi(r)},Hn=n=>{const r=Pe.apps.findIndex(s=>s.isAttachedTo(n));return r>=0?(Pe.apps.splice(r,1)[0].restoreElement(),!0):!1},yi=n=>Array.from(n.querySelectorAll(`.${G_}`)).filter(i=>!Pe.apps.find(o=>o.isAttachedTo(i))).map(i=>$n(i)),Oi=n=>{const r=Pe.apps.find(s=>s.isAttachedTo(n));return r?gi(r):null},Si=(...n)=>{n.forEach(P_),t()},bi=()=>{const n={};return $(sn(),(r,s)=>{n[r]=s[0]}),n},Ai=n=>(J(n)&&(Pe.apps.forEach(r=>{r.setOptions(n)}),Pd(n)),bi())}window.Alpine=ua;ua.start();
